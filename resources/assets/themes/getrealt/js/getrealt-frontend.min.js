!function(){"use strict";var e=function(e,t){var r=this;r.getOverride=function(e,t){return void 0===t?e:t},r.applyOptions=function(e){var t={maxRetries:3,enableCache:!0,method:"GET",responseType:"json"};return e&&(t.maxRetries=r.getOverride(t.maxRetries,e.maxRetries),t.enableCache=r.getOverride(t.enableCache,e.enableCache),t.method=r.getOverride(t.method,e.method),t.responseType=r.getOverride(t.responseType,e.responseType),t.headers=r.getOverride(t.headers,e.headers),t.transformRequest=r.getOverride(t.transformRequest,e.transformRequest)),"GET"===t.method?t.params=e.params:t.data=e.params,t.url=e.url,t},r.allowCaching=function(e){var t=e.enableCache;return t&&(t=!1),t},r.cacheResults=function(t,o){var a=e.defer();return r.allowCaching(t)||a.resolve(null),a.promise},r.fetchFromCache=function(t){var o=e.defer();return r.allowCaching(t)||o.resolve(null),o.promise},r.process=function(o){var a=e.defer();return r.fetchFromCache(o).then(function(e){if(e)a.resolve(e);else{var i={url:o.url,method:o.method,responseType:o.responseType,data:o.data,params:o.params};o.headers&&(i.headers=o.headers),o.transformRequest&&(i.transformRequest=o.transformRequest),t(i).then(function(e){e&&o.enableCache&&r.cacheResults(o,e.data),a.resolve(e.data)},function(e,t,r,o){a.reject({data:e,status:t,headers:r,config:o})})}}),a.promise},r.go=function(t){var o=e.defer(),a=r.applyOptions(t);return polly().retry(r.maxRetries).executeForPromise(function(){return r.process(a)}).then(function(e){o.resolve(e)},function(e){if(o.reject(e.data),e.data&&401===e.data.status){!0===confirm("You are not authorized to perform this action.  It's possible your session has timed out.  Would you like to try logging back in?")&&window.location.reload(!0)}else alert("There was an error!")}),o.promise}};angular.module("getrealt.rest",[]).service("restService",["$q","$http",e])}(),function(){var e=function(e,t,r){this.index=function(t,o,a,i,n,s,l,c,d){var u=e.defer(),p={keywords:o};return t&&(t&&(p.advancedSearch=t),a&&(p.minPrice=a),i&&(p.maxPrice=i),l&&(p.includeResidential=l),c&&(p.includeLand=c),d&&(p.includeCommercial=d),n&&(p.beds=n),s&&(p.baths=s)),r.go({url:"/getrealt/listings",method:"POST",params:p}).then(function(e){u.resolve(e.data)},function(e){throw u.reject(e.data),e}),u.promise},this.show=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.sendLead=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/sendLead",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},t=function(e,t,r){this.store=function(t){var o=e.defer();return r.go({url:"/getrealt/posts",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.edit=function(t){var o=e.defer();return r.go({url:"/getrealt/posts/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},r=function(e,t,r){e.advancedSearch=!1,e.keywords=null,e.minPrice=null,e.maxPrice=null,e.beds=null,e.baths=null,e.includeResidential=!0,e.includeLand=!0,e.includeCommercial=!0,e.listings=null,e.search=function(){(e.advancedSearch||e.keywords)&&(t.searchingListings(!0),r.index(e.advancedSearch,e.keywords,e.minPrice,e.maxPrice,e.beds,e.baths,e.includeResidential,e.includeLand,e.includeCommercial).then(function(r){e.listings=r,t.searchingListings(!1),t.refreshListings(e.listings)}))}},o=function(e,t){e.listings=null,t.onSearchingListings(e,function(t){e.searching=t}),t.onRefreshListings(e,function(t){e.listings=t})},a=function(e){var t=function(t){e.$broadcast("refreshListings",t)},r=function(e,t){e.$on("refreshListings",function(e,r){t(r)})};return{refreshListings:t,onRefreshListings:r,searchingListings:function(t){e.$broadcast("searchingListings",t)},onSearchingListings:function(e,t){e.$on("searchingListings",function(e,r){t(r)})}}},i=function(e,t,r){e.listingSource=null,e.listingType=null,e.listingID=null,e.address=null,e.initMap=function(){var t=new google.maps.Geocoder;t&&t.geocode({address:e.address},function(t,r){if(r===google.maps.GeocoderStatus.OK&&r!==google.maps.GeocoderStatus.ZERO_RESULTS){var o=t[0].geometry.location,a=document.getElementById("map");a.style.display="block";var i={center:o,zoom:16,panControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(a,i),s=new google.maps.Marker({position:o,map:n,icon:"/assets/themes/getrealt/images/marker.png"}),l="http://www.google.com/maps/dir/current+position/"+encodeURI(e.address),c="http://maps.google.com/maps?q=&layer=c&cbll="+t[0].geometry.location.lat()+","+t[0].geometry.location.lng(),d='<div class="info-window"><h5><i class="fa fa-map-marker"></i> '+t[0].formatted_address+'</h5><div class="info-content"><p><i class="fa fa-car"></i>: <a href="'+l+'" target="_blank">Get Directions</a><br /><i class="fa fa-street-view"></i>: <a href="'+c+'" target="_blank">Street View</a><br /></p></div></div>',u=new google.maps.InfoWindow({content:d,maxWidth:400});s.addListener("click",function(){u.open(n,s)});var p=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"simplified"}]},{featureType:"landscape",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",stylers:[{color:"#84afa3"},{lightness:52}]},{stylers:[{saturation:-17},{gamma:.36}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#3f518c"}]}];n.set("styles",p)}})},e.initSliders=function(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:210,itemMargin:5,smoothHeight:!0,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,smoothHeight:!0,sync:"#carousel"})},e.contactAgent=function(){t.open({templateUrl:"contactAgent.html",controller:"contactAgentModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{parentController:function(){return e}}}).result.then(function(o){var a=o.contactInfo;a&&(a.name||a.phone||a.email||a.message)&&(a.listingSource=e.listingSource,a.listingType=e.listingType,a.listingID=e.listingID,r.sendLead(a).then(function(e){t.open({templateUrl:"messageConfirmation.html",controller:"messageConfirmationModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"sm",resolve:{message:function(){return e.success?"Message Sent!":"Oops! Our messaging is down right now.  Try contacting us directly please!"}}})}))},function(){})},e.start=function(t,r,o,a){e.listingSource=t,e.listingType=r,e.listingID=o,e.address=a,google.maps.event.addDomListener(window,"load",e.initMap),e.initSliders()}},n=function(e,t,r){e.name=null,e.phone=null,e.email=null,e.message=null,e.send=function(){var r={name:e.name,phone:e.phone,email:e.email,message:e.message};t.close({contactInfo:r})},e.cancel=function(){t.dismiss("cancel")}},s=function(e,t,r){e.message=r,e.cancel=function(){t.dismiss("cancel")}},l=function(e,t){e.icons=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","times","search-plus","search-minus","power-off","signal","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","outdent","indent","video-camera","picture-o","pencil","map-marker","adjust","tint","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart","twitter-square","facebook-square","camera-retro","key","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook","github","unlock","credit-card","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","users","link","cloud","flask","scissors","files-o","paperclip","floppy-o","square","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","sort","sort-desc","sort-asc","envelope","linkedin","undo","gavel","tachometer","comment-o","comments-o","bolt","sitemap","umbrella","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile","circle-o","quote-left","quote-right","spinner","circle","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","reply-all","star-half-o","location-arrow","crop","code-fork","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","caret-square-o-down","caret-square-o-up","caret-square-o-right","eur","gbp","usd","inr","jpy","rub","krw","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","university","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","car","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-ring","circle-o-notch","rebel","empire","git-square","git","hacker-news","tencent-weibo","qq","weixin","paper-plane","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","bed","viacoin","train","subway","medium","y-combinator","optin-monster","opencart","expeditedssl","battery-full","battery-three-quarters","battery-half","battery-quarter","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass","hand-rock-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","american-sign-language-interpreting","deaf","glide","glide-g","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-official","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer-full","thermometer-three-quarters","thermometer-half","thermometer-quarter","thermometer-empty","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"],e.selectedIcon="fa-smile-o",e.selectedIconText="smile-o",e.searchText="",e.selectIcon=function(t){e.selectedIconText=t,e.selectedIcon="fa-"+t},e.cancel=function(){t.dismiss("cancel")},e.insert=function(){t.close({icon:e.selectedIcon,text:e.selectedIconText})}},c=function(e,t,r,o,a,i){e.id=i,e.title=null,e.entry=null,e.tags=a,e.iconDetails=null,e.main=!1,e.news=!1,e.save=function(){e.entry=$("#postModal-entry").redactor("code.get");var r=e.tags.split(",");e.main&&r.indexOf("Main")<0&&r.push("Main"),e.news&&r.indexOf("News")<0&&r.push("News");var o={id:e.id,title:e.title,entry:e.entry,tags:r.join(","),icon:e.iconDetails?e.iconDetails.icon:null};t.close({postDetails:o})},e.clearIcon=function(){e.iconDetails=null},e.selectIcon=function(){r.open({templateUrl:"iconModal.html",controller:"iconModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg"}).result.then(function(t){e.iconDetails=t},function(){})},e.cancel=function(){t.dismiss("cancel")},i&&o.edit(i).then(function(t){var r=t.tags.split(","),o=r.indexOf("Main");if(o>-1&&(e.main=!0,r.splice(o,1)),o=r.indexOf("News"),o>-1&&(e.news=!0,r.splice(o,1)),e.entry=t.entry?t.entry.value:null,e.entry&&e.entry.length>7&&"<p><i "===e.entry.substring(0,6).toLowerCase()){var a=e.entry.split("</i>");e.iconDetails={icon:a[0].split('"')[1].replace("fa ",""),text:a[0].split('"')[1].replace("fa fa-","")},a[0]=null,e.entry="<p>"+a.join("")}e.id=i,e.title=t.title,e.tags=r.join(","),$("textarea.redactor").redactor("code.set",e.entry)})},d=function(e,t,r){var o=this;o.editPost=function(e,o){var a=t.open({templateUrl:"postModal.html",controller:"postModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{tags:function(){return e},id:function(){return o}}});a.result.then(function(e){var t=e.postDetails;t&&r.store(t).then(function(e){location.reload()})},function(){}),a.rendered.then(function(){$("textarea.redactor").redactor(_redactorConfig)},function(){})},o.start=function(){}};angular.module("getrealt",["getrealt.rest","ui.bootstrap"]).factory("eventFactory",["$rootScope",a]).service("listingService",["$q","$http","restService",e]).service("postsService",["$q","$http","restService",t]).controller("searchWidget",["$scope","eventFactory","listingService",r]).controller("listingsWidget",["$scope","eventFactory",o]).controller("listingDetails",["$scope","$uibModal","listingService",i]).controller("contactAgentModal",["$scope","$uibModalInstance","parentController",n]).controller("messageConfirmationModal",["$scope","$uibModalInstance","message",s]).controller("iconModal",["$scope","$uibModalInstance",l]).controller("postModal",["$scope","$uibModalInstance","$uibModal","postsService","tags","id",c]).controller("homeController",["$scope","$uibModal","postsService",d]).directive("ngEnter",function(){return function(e,t,r){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.ngEnter,{event:t})}),t.preventDefault())})}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3QuanMiLCJnZXRyZWFsdC1mcm9udGVuZC5qcyJdLCJuYW1lcyI6WyJyZXN0U2VydmljZSIsIiRxIiwiJGh0dHAiLCJzZWxmIiwidGhpcyIsImdldE92ZXJyaWRlIiwiZGVmYXVsdFZhbHVlIiwib3ZlcnJpZGVWYWx1ZSIsImFwcGx5T3B0aW9ucyIsIm9wdGlvbnMiLCJwYXJhbXMiLCJtYXhSZXRyaWVzIiwiZW5hYmxlQ2FjaGUiLCJtZXRob2QiLCJyZXNwb25zZVR5cGUiLCJoZWFkZXJzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJ1cmwiLCJhbGxvd0NhY2hpbmciLCJhbGxvdyIsImNhY2hlUmVzdWx0cyIsInJlc3VsdHMiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzb2x2ZSIsInByb21pc2UiLCJmZXRjaEZyb21DYWNoZSIsInByb2Nlc3MiLCJ0aGVuIiwiaHR0cE9wdGlvbnMiLCJzdGF0dXMiLCJjb25maWciLCJyZWplY3QiLCJnbyIsInBvbGx5IiwicmV0cnkiLCJleGVjdXRlRm9yUHJvbWlzZSIsImVyciIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImFsZXJ0IiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCJsaXN0aW5nU2VydmljZSIsImluZGV4IiwiYWR2YW5jZWRTZWFyY2giLCJrZXl3b3JkcyIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJiZWRzIiwiYmF0aHMiLCJpbmNsdWRlUmVzaWRlbnRpYWwiLCJpbmNsdWRlTGFuZCIsImluY2x1ZGVDb21tZXJjaWFsIiwic2hvdyIsImlkIiwic2VuZExlYWQiLCJpbmZvIiwicG9zdHNTZXJ2aWNlIiwic3RvcmUiLCJkZXRhaWxzIiwiZWRpdCIsInNlYXJjaFdpZGdldCIsIiRzY29wZSIsImV2ZW50RmFjdG9yeSIsImxpc3RpbmdzIiwic2VhcmNoIiwic2VhcmNoaW5nTGlzdGluZ3MiLCJyZWZyZXNoTGlzdGluZ3MiLCJsaXN0aW5nc1dpZGdldCIsIm9uU2VhcmNoaW5nTGlzdGluZ3MiLCJzZWFyY2hpbmciLCJvblJlZnJlc2hMaXN0aW5ncyIsIiRyb290U2NvcGUiLCIkYnJvYWRjYXN0IiwiaGFuZGxlciIsIiRvbiIsImV2ZW50IiwibWVzc2FnZSIsImxpc3RpbmdEZXRhaWxzIiwiJHVpYk1vZGFsIiwibGlzdGluZ1NvdXJjZSIsImxpc3RpbmdUeXBlIiwibGlzdGluZ0lEIiwiYWRkcmVzcyIsImluaXRNYXAiLCJnZW9jb2RlciIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsImdlb2NvZGUiLCJHZW9jb2RlclN0YXR1cyIsIk9LIiwiWkVST19SRVNVTFRTIiwiZ2VvbWV0cnkiLCJtYXBDYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwibWFwT3B0aW9ucyIsImNlbnRlciIsInpvb20iLCJwYW5Db250cm9sIiwic2Nyb2xsd2hlZWwiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJST0FETUFQIiwibWFwIiwiTWFwIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJpY29uIiwiZGlyZWN0aW9uc0xpbmsiLCJlbmNvZGVVUkkiLCJzdHJlZXRWaWV3TGluayIsImxhdCIsImxuZyIsImNvbnRlbnRTdHJpbmciLCJmb3JtYXR0ZWRfYWRkcmVzcyIsImluZm93aW5kb3ciLCJJbmZvV2luZG93IiwiY29udGVudCIsIm1heFdpZHRoIiwiYWRkTGlzdGVuZXIiLCJvcGVuIiwic3R5bGVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiY29sb3IiLCJsaWdodG5lc3MiLCJzYXR1cmF0aW9uIiwiZ2FtbWEiLCJzZXQiLCJpbml0U2xpZGVycyIsIiQiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwiY29udHJvbE5hdiIsImFuaW1hdGlvbkxvb3AiLCJzbGlkZXNob3ciLCJpdGVtV2lkdGgiLCJpdGVtTWFyZ2luIiwic21vb3RoSGVpZ2h0IiwiYXNOYXZGb3IiLCJzeW5jIiwiY29udGFjdEFnZW50IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiYXJpYUxhYmVsbGVkQnkiLCJhcmlhRGVzY3JpYmVkQnkiLCJzaXplIiwicGFyZW50Q29udHJvbGxlciIsInJlc3VsdCIsImNvbnRhY3RJbmZvIiwibmFtZSIsInBob25lIiwiZW1haWwiLCJzdWNjZXNzIiwic3RhcnQiLCJhZGREb21MaXN0ZW5lciIsImNvbnRhY3RBZ2VudE1vZGFsIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJzZW5kIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwibWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsIiwiaWNvbk1vZGFsIiwiaWNvbnMiLCJzZWxlY3RlZEljb24iLCJzZWxlY3RlZEljb25UZXh0Iiwic2VhcmNoVGV4dCIsInNlbGVjdEljb24iLCJpbnNlcnQiLCJ0ZXh0IiwicG9zdE1vZGFsIiwidGFncyIsInRpdGxlIiwiZW50cnkiLCJpY29uRGV0YWlscyIsIm1haW4iLCJuZXdzIiwic2F2ZSIsInJlZGFjdG9yIiwic3BsaXQiLCJpbmRleE9mIiwicHVzaCIsInBvc3REZXRhaWxzIiwiam9pbiIsImNsZWFySWNvbiIsImkiLCJzcGxpY2UiLCJ2YWx1ZSIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwiZW50cnlQYXJ0cyIsInJlcGxhY2UiLCJob21lQ29udHJvbGxlciIsImVkaXRQb3N0IiwibW9kYWxJbnN0YW5jZSIsInJlbmRlcmVkIiwiX3JlZGFjdG9yQ29uZmlnIiwiZmFjdG9yeSIsImRpcmVjdGl2ZSIsInNjb3BlIiwiZWxlbWVudCIsImF0dHJzIiwiYmluZCIsIndoaWNoIiwiJGFwcGx5IiwiJGV2YWwiLCJuZ0VudGVyIiwicHJldmVudERlZmF1bHQiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFHQSxJQUFBQSxHQUFBLFNBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQUMsSUFFQUQsR0FBQUUsWUFBQSxTQUFBQyxFQUFBQyxHQUVBLFdBREEsS0FBQUEsRUFBQUQs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QUFBLGdCQUFBLFNBQUEsVUFBQSxRQUFBLFdBQUEsYUFBQSxlQUFBLFVBQUEsV0FBQSxTQUFBLFNBQUEsY0FBQSxNQUFBLFFBQUEsV0FBQSxPQUFBLGNBQUEsZUFBQSxjQUFBLFlBQUEsY0FBQSxvQkFBQSxxQkFBQSxrQkFBQSxvQkFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLFlBQUEsYUFBQSxRQUFBLE9BQUEsUUFBQSxRQUFBLFdBQUEsVUFBQSxZQUFBLFdBQUEsU0FBQSxPQUFBLFVBQUEsVUFBQSxnQkFBQSxZQUFBLFFBQUEsUUFBQSxRQUFBLFlBQUEsbUJBQUEscUJBQUEsY0FBQSxRQUFBLGFBQUEsV0FBQSxhQUFBLGNBQUEsVUFBQSxPQUFBLFlBQUEsV0FBQSxXQUFBLFdBQUEsT0FBQSxRQUFBLGFBQUEsWUFBQSxhQUFBLE9BQUEsVUFBQSxXQUFBLFlBQUEsY0FBQSxXQUFBLGlCQUFBLGVBQUEsVUFBQSxjQUFBLFdBQUEsU0FBQSxTQUFBLFVBQUEsY0FBQSxhQUFBLGFBQUEsWUFBQSxTQUFBLGNBQUEsT0FBQSxXQUFBLGNBQUEsb0JBQUEscUJBQUEsa0JBQUEsb0JBQUEsYUFBQSxjQUFBLFdBQUEsYUFBQSxVQUFBLFNBQUEsU0FBQSxTQUFBLFdBQUEsYUFBQSxjQUFBLFVBQUEsU0FBQSxRQUFBLGFBQUEsV0FBQSxnQkFBQSxVQUFBLFVBQUEsUUFBQSxVQUFBLGFBQUEsU0FBQSxpQkFBQSxXQUFBLE9BQUEsWUFBQSxjQUFBLGlCQUFBLE9BQUEsWUFBQSxlQUFBLFdBQUEsT0FBQSxjQUFBLGNBQUEsWUFBQSxTQUFBLGVBQUEsYUFBQSxtQkFBQSxTQUFBLGFBQUEsb0JBQUEsU0FBQSxTQUFBLHNCQUFBLHVCQUFBLG9CQUFBLHNCQUFBLFFBQUEsT0FBQSxTQUFBLGFBQUEsV0FBQSxhQUFBLGFBQUEsYUFBQSxjQUFBLFNBQUEsZUFBQSxpQkFBQSxXQUFBLGFBQUEsZUFBQSxnQkFBQSx1QkFBQSxlQUFBLFVBQUEsc0JBQUEsb0JBQUEsdUJBQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE9BQUEsWUFBQSxpQkFBQSxrQkFBQSxrQkFBQSxtQkFBQSxtQkFBQSxvQkFBQSxZQUFBLGNBQUEsaUJBQUEsVUFBQSxPQUFBLGNBQUEsZUFBQSxVQUFBLGlCQUFBLFlBQUEsU0FBQSxNQUFBLFlBQUEsbUJBQUEsU0FBQSxnQkFBQSxrQkFBQSxnQkFBQSxrQkFBQSxtQkFBQSxRQUFBLFVBQUEsVUFBQSxRQUFBLFdBQUEsUUFBQSxhQUFBLFNBQUEsU0FBQSxPQUFBLFdBQUEsUUFBQSxTQUFBLFVBQUEsTUFBQSxLQUFBLFFBQUEsU0FBQSxZQUFBLGlCQUFBLHVCQUFBLHNCQUFBLHNCQUFBLGVBQUEsYUFBQSxlQUFBLE1BQUEsZ0JBQUEsZ0JBQUEsUUFBQSxrQkFBQSxZQUFBLFNBQUEsYUFBQSxpQkFBQSxRQUFBLFNBQUEsU0FBQSxnQkFBQSxxQkFBQSxjQUFBLFlBQUEsT0FBQSxnQkFBQSxpQkFBQSxTQUFBLFNBQUEsV0FBQSxNQUFBLFdBQUEsUUFBQSxNQUFBLFFBQUEsT0FBQSxRQUFBLFVBQUEsaUJBQUEsUUFBQSxlQUFBLFVBQUEsTUFBQSxPQUFBLE9BQUEsVUFBQSxhQUFBLGFBQUEsV0FBQSxhQUFBLGNBQUEsZUFBQSxvQkFBQSxlQUFBLGlCQUFBLGVBQUEsZUFBQSxjQUFBLE9BQUEsVUFBQSxXQUFBLFlBQUEsaUJBQUEsUUFBQSxTQUFBLGFBQUEsTUFBQSxjQUFBLGdCQUFBLEtBQUEsU0FBQSxjQUFBLGdCQUFBLFVBQUEsY0FBQSxTQUFBLFlBQUEsVUFBQSxZQUFBLG1CQUFBLE9BQUEsV0FBQSxNQUFBLGFBQUEsT0FBQSxhQUFBLFNBQUEsT0FBQSxjQUFBLE9BQUEsYUFBQSxTQUFBLGdCQUFBLFVBQUEsZ0JBQUEsY0FBQSxVQUFBLFlBQUEsWUFBQSxhQUFBLGVBQUEsUUFBQSxZQUFBLEtBQUEsYUFBQSxjQUFBLGdCQUFBLGFBQUEsWUFBQSxhQUFBLFNBQUEsZ0JBQUEsYUFBQSxZQUFBLFVBQUEsTUFBQSxVQUFBLFlBQUEsS0FBQSxNQUFBLFdBQUEsYUFBQSxpQkFBQSxXQUFBLFdBQUEs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RSxLQUFBLG1CQUFBLFNBQUF2SSxHQUNBLEtBQUFBLEVBQUF3SSxRQUNBSixFQUFBSyxPQUFBLFdBQ0FMLEVBQUFNLE1BQUFKLEVBQUFLLFNBQUEzSSxNQUFBQSxNQUdBQSxFQUFBNEkiLCJmaWxlIjoiZ2V0cmVhbHQtZnJvbnRlbmQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIHZhciByZXN0U2VydmljZSA9IGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5nZXRPdmVycmlkZSA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUsIG92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9ICgodHlwZW9mIG92ZXJyaWRlVmFsdWUgPT09ICd1bmRlZmluZWQnKSA/IGRlZmF1bHRWYWx1ZSA6IG92ZXJyaWRlVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlOyAvLyBMZWF2ZSB0aGUgbWVhbmluZ2xlc3MgbmV3VmFsdWUgaW4gaGVyZSBmb3IgYnJlYWtwb2ludCAvIHdhdGNoIHB1cnBvc2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5hcHBseU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgICAgICAgICAgIGVuYWJsZUNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1heFJldHJpZXMgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5tYXhSZXRyaWVzLCBvcHRpb25zLm1heFJldHJpZXMpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5lbmFibGVDYWNoZSA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLmVuYWJsZUNhY2hlLCBvcHRpb25zLmVuYWJsZUNhY2hlKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMubWV0aG9kID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMubWV0aG9kLCBvcHRpb25zLm1ldGhvZCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnJlc3BvbnNlVHlwZSA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLnJlc3BvbnNlVHlwZSwgb3B0aW9ucy5yZXNwb25zZVR5cGUpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5oZWFkZXJzID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMuaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMudHJhbnNmb3JtUmVxdWVzdCA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLnRyYW5zZm9ybVJlcXVlc3QsIG9wdGlvbnMudHJhbnNmb3JtUmVxdWVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdFVCB1c2VzIHBhcmFtcyBhbmQgUE9TVCB1c2VzIGRhdGFcbiAgICAgICAgICAgIGlmIChwYXJhbXMubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEgPSBvcHRpb25zLnBhcmFtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyYW1zLnVybCA9IG9wdGlvbnMudXJsO1xuXG4gICAgICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuYWxsb3dDYWNoaW5nID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZW4ndCBpbXBsZW1lbnRlZCB0aGlzIHlldCwgYnV0IHdlIHdpbGwgZG8gc29tZSBjbGllbnQgc2lkZSBjYWNoaW5nXG4gICAgICAgICAgICB2YXIgYWxsb3cgPSBwYXJhbXMuZW5hYmxlQ2FjaGU7XG5cbiAgICAgICAgICAgIGlmIChhbGxvdykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgY2FjaGVhYmxlIHZlcmIgKEdFVCkgdGhhdCByZXR1cm5zIHJlc3VsdHMgdGhhdCBjYW4gYmUgY2FjaGVkICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgbG9jYWwgc3RvcmFnZSAvIGNhY2hpbmcgaXMgYXZhaWxhYmxlIG9uIHRoaXMgY2xpZW50XG5cbiAgICAgICAgICAgICAgICBhbGxvdyA9IGZhbHNlOyAvLyBSaWdodCBub3cgZGlzYWJsZSBpdCB1bnRpbCB3ZSBoYXZlIGltcGxlbWVudGVkIGNhY2hpbmdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFsbG93O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuY2FjaGVSZXN1bHRzID0gZnVuY3Rpb24gKHBhcmFtcywgcmVzdWx0cykge1xuICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZW4ndCBpbXBsZW1lbnRlZCB0aGlzIHlldCwgYnV0IHdlIHdpbGwgZG8gc29tZSBjbGllbnQgc2lkZSBjYWNoaW5nXG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmFsbG93Q2FjaGluZyhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRmluaXNoIHRoaXMgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuZmV0Y2hGcm9tQ2FjaGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBoYXZlbid0IGltcGxlbWVudGVkIHRoaXMgeWV0LCBidXQgd2Ugd2lsbCBkbyBzb21lIGNsaWVudCBzaWRlIGNhY2hpbmdcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuYWxsb3dDYWNoaW5nKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaW5pc2ggdGhpcyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxmLnByb2Nlc3MgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBzZWxmLmZldGNoRnJvbUNhY2hlKHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ290IGNhY2hlZCByZXN1bHRzLCB3ZSBhcmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodHRwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogcGFyYW1zLnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLnBhcmFtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zLmhlYWRlcnMgPSBwYXJhbXMuaGVhZGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy50cmFuc2Zvcm1SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zLnRyYW5zZm9ybVJlcXVlc3QgPSBwYXJhbXMudHJhbnNmb3JtUmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAoaHR0cE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMgJiYgcGFyYW1zLmVuYWJsZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhY2hlUmVzdWx0cyhwYXJhbXMsIHJlc3VsdHMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCh7ZGF0YTogZGF0YSwgc3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IGhlYWRlcnMsIGNvbmZpZzogY29uZmlnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWluIGVudHJ5IHBvaW50IGFuZCBzaG91bGQgdHlwaWNhbGx5IGJlIHRoZSBvbmx5IG1ldGhvZCBjYWxsZWQgZXh0ZXJuYWxseVxuICAgICAgICBzZWxmLmdvID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlbGYuYXBwbHlPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBQb2xseSBpcyB1c2VkIGZvciB0cmFuc2llbnQgZXhjZXB0aW9uIGhhbmRsaW5nXG4gICAgICAgICAgICAvLyBXZSB3aWxsIG1ha2UgdGhpcyBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAgICAgICAgICAgIHBvbGx5KClcbiAgICAgICAgICAgICAgICAucmV0cnkoc2VsZi5tYXhSZXRyaWVzKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlRm9yUHJvbWlzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnByb2Nlc3MocGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmRhdGEgJiYgZXJyLmRhdGEuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gY29uZmlybShcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi4gIEl0J3MgcG9zc2libGUgeW91ciBzZXNzaW9uIGhhcyB0aW1lZCBvdXQuICBXb3VsZCB5b3UgbGlrZSB0byB0cnkgbG9nZ2luZyBiYWNrIGluP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGFuIGVycm9yIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgIH07XG4gICAgXG4gICAgYW5ndWxhci5tb2R1bGUoJ2dldHJlYWx0LnJlc3QnLCBbXSlcbiAgICAgICAgICAgIC5zZXJ2aWNlKCdyZXN0U2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCByZXN0U2VydmljZV0pO1xuXG59KSgpOyIsIi8qXG4gZWxpeGlyKChtaXgpID0+IHtcbiBtaXgud2VicGFjaygnLi4vLi4vdGhlbWVzL2dldHJlYWx0L2Fzc2V0cy9qcy9hcHAuanMnLCAnLi9wdWJsaWMvdGhlbWVzL2dldHJlYWx0L2pzJyk7XG4gfSk7XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBsaXN0aW5nU2VydmljZSA9IGZ1bmN0aW9uICgkcSwgJGh0dHAsIHJlc3RTZXJ2aWNlKSB7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IGZ1bmN0aW9uIChhZHZhbmNlZFNlYXJjaCwga2V5d29yZHMsIG1pblByaWNlLCBtYXhQcmljZSwgYmVkcywgYmF0aHMsIGluY2x1ZGVSZXNpZGVudGlhbCwgaW5jbHVkZUxhbmQsIGluY2x1ZGVDb21tZXJjaWFsKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICdrZXl3b3Jkcyc6IGtleXdvcmRzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoYWR2YW5jZWRTZWFyY2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZWRTZWFyY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmFkdmFuY2VkU2VhcmNoID0gYWR2YW5jZWRTZWFyY2g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtaW5QcmljZSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMubWluUHJpY2UgPSBtaW5QcmljZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heFByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5tYXhQcmljZSA9IG1heFByaWNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVJlc2lkZW50aWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pbmNsdWRlUmVzaWRlbnRpYWwgPSBpbmNsdWRlUmVzaWRlbnRpYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlTGFuZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuaW5jbHVkZUxhbmQgPSBpbmNsdWRlTGFuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVDb21tZXJjaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pbmNsdWRlQ29tbWVyY2lhbCA9IGluY2x1ZGVDb21tZXJjaWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmVkcykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYmVkcyA9IGJlZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiYXRocykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYmF0aHMgPSBiYXRocztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvbGlzdGluZ3MnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L2xpc3RpbmdzLycgKyBpZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNlbmRMZWFkID0gZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvbGlzdGluZ3Mvc2VuZExlYWQnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogaW5mb1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIHBvc3RzU2VydmljZSA9IGZ1bmN0aW9uICgkcSwgJGh0dHAsIHJlc3RTZXJ2aWNlKSB7XG5cbiAgICAgICAgdGhpcy5zdG9yZSA9IGZ1bmN0aW9uIChkZXRhaWxzKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L3Bvc3RzJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGRldGFpbHNcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIHRocm93IGRhdGE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5lZGl0ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L3Bvc3RzLycgKyBpZFxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBzZWFyY2hXaWRnZXQgPSBmdW5jdGlvbiAoJHNjb3BlLCBldmVudEZhY3RvcnksIGxpc3RpbmdTZXJ2aWNlKSB7XG5cbiAgICAgICAgLy8gSW5wdXQgdmFyaWFibGVzXG4gICAgICAgICRzY29wZS5hZHZhbmNlZFNlYXJjaCA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUua2V5d29yZHMgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWluUHJpY2UgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWF4UHJpY2UgPSBudWxsO1xuICAgICAgICAkc2NvcGUuYmVkcyA9IG51bGw7XG4gICAgICAgICRzY29wZS5iYXRocyA9IG51bGw7XG4gICAgICAgICRzY29wZS5pbmNsdWRlUmVzaWRlbnRpYWwgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuaW5jbHVkZUxhbmQgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuaW5jbHVkZUNvbW1lcmNpYWwgPSB0cnVlO1xuXG4gICAgICAgICRzY29wZS5saXN0aW5ncyA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYWR2YW5jZWRTZWFyY2ggfHwgJHNjb3BlLmtleXdvcmRzKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRGYWN0b3J5LnNlYXJjaGluZ0xpc3RpbmdzKHRydWUpO1xuICAgICAgICAgICAgICAgIGxpc3RpbmdTZXJ2aWNlLmluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkdmFuY2VkU2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmtleXdvcmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1pblByaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1heFByaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJlZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmF0aHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5jbHVkZVJlc2lkZW50aWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluY2x1ZGVMYW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluY2x1ZGVDb21tZXJjaWFsXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdzID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRGYWN0b3J5LnNlYXJjaGluZ0xpc3RpbmdzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRGYWN0b3J5LnJlZnJlc2hMaXN0aW5ncygkc2NvcGUubGlzdGluZ3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgbGlzdGluZ3NXaWRnZXQgPSBmdW5jdGlvbiAoJHNjb3BlLCBldmVudEZhY3RvcnkpIHtcbiAgICAgICAgJHNjb3BlLmxpc3RpbmdzID0gbnVsbDtcblxuICAgICAgICBldmVudEZhY3Rvcnkub25TZWFyY2hpbmdMaXN0aW5ncygkc2NvcGUsIGZ1bmN0aW9uIChzZWFyY2hpbmcpIHtcbiAgICAgICAgICAgICRzY29wZS5zZWFyY2hpbmcgPSBzZWFyY2hpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV2ZW50RmFjdG9yeS5vblJlZnJlc2hMaXN0aW5ncygkc2NvcGUsIGZ1bmN0aW9uIChsaXN0aW5ncykge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdzID0gbGlzdGluZ3M7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXZlbnRGYWN0b3J5ID0gZnVuY3Rpb24gKCRyb290U2NvcGUpIHtcbiAgICAgICAgdmFyIFJFRlJFU0hfTElTVElOR1MgPSAncmVmcmVzaExpc3RpbmdzJztcbiAgICAgICAgdmFyIHJlZnJlc2hMaXN0aW5ncyA9IGZ1bmN0aW9uIChsaXN0aW5ncykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFJFRlJFU0hfTElTVElOR1MsIGxpc3RpbmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uUmVmcmVzaExpc3RpbmdzID0gZnVuY3Rpb24gKCRzY29wZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgJHNjb3BlLiRvbihSRUZSRVNIX0xJU1RJTkdTLCBmdW5jdGlvbiAoZXZlbnQsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIFNFQVJDSElOR19MSVNUSU5HUyA9ICdzZWFyY2hpbmdMaXN0aW5ncyc7XG4gICAgICAgIHZhciBzZWFyY2hpbmdMaXN0aW5ncyA9IGZ1bmN0aW9uIChzZWFyY2hpbmcpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChTRUFSQ0hJTkdfTElTVElOR1MsIHNlYXJjaGluZyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvblNlYXJjaGluZ0xpc3RpbmdzID0gZnVuY3Rpb24gKCRzY29wZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgJHNjb3BlLiRvbihTRUFSQ0hJTkdfTElTVElOR1MsIGZ1bmN0aW9uIChldmVudCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIobWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWZyZXNoTGlzdGluZ3M6IHJlZnJlc2hMaXN0aW5ncyxcbiAgICAgICAgICAgIG9uUmVmcmVzaExpc3RpbmdzOiBvblJlZnJlc2hMaXN0aW5ncyxcbiAgICAgICAgICAgIHNlYXJjaGluZ0xpc3RpbmdzOiBzZWFyY2hpbmdMaXN0aW5ncyxcbiAgICAgICAgICAgIG9uU2VhcmNoaW5nTGlzdGluZ3M6IG9uU2VhcmNoaW5nTGlzdGluZ3NcbiAgICAgICAgfTtcblxuICAgIH07XG5cbiAgICB2YXIgbGlzdGluZ0RldGFpbHMgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWwsIGxpc3RpbmdTZXJ2aWNlKSB7XG5cbiAgICAgICAgJHNjb3BlLmxpc3RpbmdTb3VyY2UgPSBudWxsO1xuICAgICAgICAkc2NvcGUubGlzdGluZ1R5cGUgPSBudWxsO1xuICAgICAgICAkc2NvcGUubGlzdGluZ0lEID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmFkZHJlc3MgPSBudWxsO1xuXG4gICAgICAgICRzY29wZS5pbml0TWFwID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgZ29vZ2xlLm1hcHMuR2VvY29kZXIoKTtcblxuICAgICAgICAgICAgaWYgKGdlb2NvZGVyKSB7XG4gICAgICAgICAgICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7J2FkZHJlc3MnOiAkc2NvcGUuYWRkcmVzc30sIGZ1bmN0aW9uIChyZXN1bHRzLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgIT09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLlpFUk9fUkVTVUxUUykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXBDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcENhbnZhcywgbWFwT3B0aW9ucyk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJy9hc3NldHMvdGhlbWVzL2dldHJlYWx0L2ltYWdlcy9tYXJrZXIucG5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbnNMaW5rID0gJ2h0dHA6Ly93d3cuZ29vZ2xlLmNvbS9tYXBzL2Rpci9jdXJyZW50K3Bvc2l0aW9uLycgKyBlbmNvZGVVUkkoJHNjb3BlLmFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJlZXRWaWV3TGluayA9ICdodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcHM/cT0mbGF5ZXI9YyZjYmxsPScgKyByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxhdCgpICsgJywnICsgcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250ZW50U3RyaW5nID0gJzxkaXYgY2xhc3M9XCJpbmZvLXdpbmRvd1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoNT48aSBjbGFzcz1cImZhIGZhLW1hcC1tYXJrZXJcIj48L2k+ICcgKyByZXN1bHRzWzBdLmZvcm1hdHRlZF9hZGRyZXNzICsgJzwvaDU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImluZm8tY29udGVudFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtY2FyXCI+PC9pPjogPGEgaHJlZj1cIicgKyBkaXJlY3Rpb25zTGluayArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj5HZXQgRGlyZWN0aW9uczwvYT48YnIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLXN0cmVldC12aWV3XCI+PC9pPjogPGEgaHJlZj1cIicgKyBzdHJlZXRWaWV3TGluayArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj5TdHJlZXQgVmlldzwvYT48YnIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3A+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50U3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNDAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvd2luZG93Lm9wZW4obWFwLCBtYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlcyA9IFt7XCJmZWF0dXJlVHlwZVwiOiBcImFkbWluaXN0cmF0aXZlXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcIm9mZlwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInBvaVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZFwiLCBcImVsZW1lbnRUeXBlXCI6IFwibGFiZWxzXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdFwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwibGFuZHNjYXBlXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvblwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwib25cIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ3YXRlclwiLCBcInN0eWxlcnNcIjogW3tcImNvbG9yXCI6IFwiIzg0YWZhM1wifSwge1wibGlnaHRuZXNzXCI6IDUyfV19LCB7XCJzdHlsZXJzXCI6IFt7XCJzYXR1cmF0aW9uXCI6IC0xN30sIHtcImdhbW1hXCI6IDAuMzZ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdC5saW5lXCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW3tcImNvbG9yXCI6IFwiIzNmNTE4Y1wifV19XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIk5vIHJlc3VsdHMgZm91bmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiR2VvY29kZSB3YXMgbm90IHN1Y2Nlc3NmdWwgZm9yIHRoZSBmb2xsb3dpbmcgcmVhc29uOiBcIiArIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pbml0U2xpZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRoZSBzbGlkZXIgYmVpbmcgc3luY2VkIG11c3QgYmUgaW5pdGlhbGl6ZWQgZmlyc3RcbiAgICAgICAgICAgICQoJyNjYXJvdXNlbCcpLmZsZXhzbGlkZXIoe1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXRlbVdpZHRoOiAyMTAsXG4gICAgICAgICAgICAgICAgaXRlbU1hcmdpbjogNSxcbiAgICAgICAgICAgICAgICBzbW9vdGhIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgYXNOYXZGb3I6ICcjc2xpZGVyJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNzbGlkZXInKS5mbGV4c2xpZGVyKHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcbiAgICAgICAgICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNtb290aEhlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzeW5jOiBcIiNjYXJvdXNlbFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgICRzY29wZS5jb250YWN0QWdlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbnRhY3RBZ2VudC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29udGFjdEFnZW50TW9kYWwnLFxuICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb250cm9sbGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IHJlc3VsdHMuY29udGFjdEluZm87XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvICYmIChpbmZvLm5hbWUgfHwgaW5mby5waG9uZSB8fCBpbmZvLmVtYWlsIHx8IGluZm8ubWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxpc3RpbmdTb3VyY2UgPSAkc2NvcGUubGlzdGluZ1NvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxpc3RpbmdUeXBlID0gJHNjb3BlLmxpc3RpbmdUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGlzdGluZ0lEID0gJHNjb3BlLmxpc3RpbmdJRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0aW5nU2VydmljZS5zZW5kTGVhZChpbmZvKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbC5vcGVuKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbWVzc2FnZUNvbmZpcm1hdGlvbi5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZXNzYWdlQ29uZmlybWF0aW9uTW9kYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhRGVzY3JpYmVkQnk6ICdtb2RhbC1ib2R5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGEuc3VjY2VzcyA/IFwiTWVzc2FnZSBTZW50IVwiIDogXCJPb3BzISBPdXIgbWVzc2FnaW5nIGlzIGRvd24gcmlnaHQgbm93LiAgVHJ5IGNvbnRhY3RpbmcgdXMgZGlyZWN0bHkgcGxlYXNlIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlzbWlzc2VkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0ID0gZnVuY3Rpb24gKGxpc3RpbmdTb3VyY2UsIGxpc3RpbmdUeXBlLCBsaXN0aW5nSUQsIGFkZHJlc3MpIHtcbiAgICAgICAgICAgICRzY29wZS5saXN0aW5nU291cmNlID0gbGlzdGluZ1NvdXJjZTtcbiAgICAgICAgICAgICRzY29wZS5saXN0aW5nVHlwZSA9IGxpc3RpbmdUeXBlO1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdJRCA9IGxpc3RpbmdJRDtcbiAgICAgICAgICAgICRzY29wZS5hZGRyZXNzID0gYWRkcmVzcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsICRzY29wZS5pbml0TWFwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLmluaXRTbGlkZXJzKCk7XG4gICAgICAgIH07XG5cbiAgICB9O1xuICAgIFxuICAgIHZhciBjb250YWN0QWdlbnRNb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBwYXJlbnRDb250cm9sbGVyKSB7XG4gICAgICAgICRzY29wZS5uYW1lID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnBob25lID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmVtYWlsID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgJHNjb3BlLnNlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjb250YWN0SW5mbyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUubmFtZSxcbiAgICAgICAgICAgICAgICBwaG9uZTogJHNjb3BlLnBob25lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiAkc2NvcGUuZW1haWwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJHNjb3BlLm1lc3NhZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICAgICAgICBjb250YWN0SW5mbzogY29udGFjdEluZm9cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIHZhciBtZXNzYWdlQ29uZmlybWF0aW9uTW9kYWwgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgbWVzc2FnZSkge1xuICAgICAgICAkc2NvcGUubWVzc2FnZSA9IG1lc3NhZ2U7XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuICAgIFxuICAgIHZhciBpY29uTW9kYWwgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xuICAgICAgICAkc2NvcGUuaWNvbnMgPSBbJ2dsYXNzJywgJ211c2ljJywgJ3NlYXJjaCcsICdlbnZlbG9wZS1vJywgJ2hlYXJ0JywgJ3N0YXInLCAnc3Rhci1vJywgJ3VzZXInLCAnZmlsbScsICd0aC1sYXJnZScsICd0aCcsICd0aC1saXN0JywgJ2NoZWNrJywgJ3RpbWVzJywgJ3NlYXJjaC1wbHVzJywgJ3NlYXJjaC1taW51cycsICdwb3dlci1vZmYnLCAnc2lnbmFsJywgJ2NvZycsICd0cmFzaC1vJywgJ2hvbWUnLCAnZmlsZS1vJywgJ2Nsb2NrLW8nLCAncm9hZCcsICdkb3dubG9hZCcsICdhcnJvdy1jaXJjbGUtby1kb3duJywgJ2Fycm93LWNpcmNsZS1vLXVwJywgJ2luYm94JywgJ3BsYXktY2lyY2xlLW8nLCAncmVwZWF0JywgJ3JlZnJlc2gnLCAnbGlzdC1hbHQnLCAnbG9jaycsICdmbGFnJywgJ2hlYWRwaG9uZXMnLCAndm9sdW1lLW9mZicsICd2b2x1bWUtZG93bicsICd2b2x1bWUtdXAnLCAncXJjb2RlJywgJ2JhcmNvZGUnLCAndGFnJywgJ3RhZ3MnLCAnYm9vaycsICdib29rbWFyaycsICdwcmludCcsICdjYW1lcmEnLCAnZm9udCcsICdib2xkJywgJ2l0YWxpYycsICd0ZXh0LWhlaWdodCcsICd0ZXh0LXdpZHRoJywgJ2FsaWduLWxlZnQnLCAnYWxpZ24tY2VudGVyJywgJ2FsaWduLXJpZ2h0JywgJ2FsaWduLWp1c3RpZnknLCAnbGlzdCcsICdvdXRkZW50JywgJ2luZGVudCcsICd2aWRlby1jYW1lcmEnLCAncGljdHVyZS1vJywgJ3BlbmNpbCcsICdtYXAtbWFya2VyJywgJ2FkanVzdCcsICd0aW50JywgJ3BlbmNpbC1zcXVhcmUtbycsICdzaGFyZS1zcXVhcmUtbycsICdjaGVjay1zcXVhcmUtbycsICdhcnJvd3MnLCAnc3RlcC1iYWNrd2FyZCcsICdmYXN0LWJhY2t3YXJkJywgJ2JhY2t3YXJkJywgJ3BsYXknLCAncGF1c2UnLCAnc3RvcCcsICdmb3J3YXJkJywgJ2Zhc3QtZm9yd2FyZCcsICdzdGVwLWZvcndhcmQnLCAnZWplY3QnLCAnY2hldnJvbi1sZWZ0JywgJ2NoZXZyb24tcmlnaHQnLCAncGx1cy1jaXJjbGUnLCAnbWludXMtY2lyY2xlJywgJ3RpbWVzLWNpcmNsZScsICdjaGVjay1jaXJjbGUnLCAncXVlc3Rpb24tY2lyY2xlJywgJ2luZm8tY2lyY2xlJywgJ2Nyb3NzaGFpcnMnLCAndGltZXMtY2lyY2xlLW8nLCAnY2hlY2stY2lyY2xlLW8nLCAnYmFuJywgJ2Fycm93LWxlZnQnLCAnYXJyb3ctcmlnaHQnLCAnYXJyb3ctdXAnLCAnYXJyb3ctZG93bicsICdzaGFyZScsICdleHBhbmQnLCAnY29tcHJlc3MnLCAncGx1cycsICdtaW51cycsICdhc3RlcmlzaycsICdleGNsYW1hdGlvbi1jaXJjbGUnLCAnZ2lmdCcsICdsZWFmJywgJ2ZpcmUnLCAnZXllJywgJ2V5ZS1zbGFzaCcsICdleGNsYW1hdGlvbi10cmlhbmdsZScsICdwbGFuZScsICdjYWxlbmRhcicsICdyYW5kb20nLCAnY29tbWVudCcsICdtYWduZXQnLCAnY2hldnJvbi11cCcsICdjaGV2cm9uLWRvd24nLCAncmV0d2VldCcsICdzaG9wcGluZy1jYXJ0JywgJ2ZvbGRlcicsICdmb2xkZXItb3BlbicsICdhcnJvd3MtdicsICdhcnJvd3MtaCcsICdiYXItY2hhcnQnLCAndHdpdHRlci1zcXVhcmUnLCAnZmFjZWJvb2stc3F1YXJlJywgJ2NhbWVyYS1yZXRybycsICdrZXknLCAnY29ncycsICdjb21tZW50cycsICd0aHVtYnMtby11cCcsICd0aHVtYnMtby1kb3duJywgJ3N0YXItaGFsZicsICdoZWFydC1vJywgJ3NpZ24tb3V0JywgJ2xpbmtlZGluLXNxdWFyZScsICd0aHVtYi10YWNrJywgJ2V4dGVybmFsLWxpbmsnLCAnc2lnbi1pbicsICd0cm9waHknLCAnZ2l0aHViLXNxdWFyZScsICd1cGxvYWQnLCAnbGVtb24tbycsICdwaG9uZScsICdzcXVhcmUtbycsICdib29rbWFyay1vJywgJ3Bob25lLXNxdWFyZScsICd0d2l0dGVyJywgJ2ZhY2Vib29rJywgJ2dpdGh1YicsICd1bmxvY2snLCAnY3JlZGl0LWNhcmQnLCAncnNzJywgJ2hkZC1vJywgJ2J1bGxob3JuJywgJ2JlbGwnLCAnY2VydGlmaWNhdGUnLCAnaGFuZC1vLXJpZ2h0JywgJ2hhbmQtby1sZWZ0JywgJ2hhbmQtby11cCcsICdoYW5kLW8tZG93bicsICdhcnJvdy1jaXJjbGUtbGVmdCcsICdhcnJvdy1jaXJjbGUtcmlnaHQnLCAnYXJyb3ctY2lyY2xlLXVwJywgJ2Fycm93LWNpcmNsZS1kb3duJywgJ2dsb2JlJywgJ3dyZW5jaCcsICd0YXNrcycsICdmaWx0ZXInLCAnYnJpZWZjYXNlJywgJ2Fycm93cy1hbHQnLCAndXNlcnMnLCAnbGluaycsICdjbG91ZCcsICdmbGFzaycsICdzY2lzc29ycycsICdmaWxlcy1vJywgJ3BhcGVyY2xpcCcsICdmbG9wcHktbycsICdzcXVhcmUnLCAnYmFycycsICdsaXN0LXVsJywgJ2xpc3Qtb2wnLCAnc3RyaWtldGhyb3VnaCcsICd1bmRlcmxpbmUnLCAndGFibGUnLCAnbWFnaWMnLCAndHJ1Y2snLCAncGludGVyZXN0JywgJ3BpbnRlcmVzdC1zcXVhcmUnLCAnZ29vZ2xlLXBsdXMtc3F1YXJlJywgJ2dvb2dsZS1wbHVzJywgJ21vbmV5JywgJ2NhcmV0LWRvd24nLCAnY2FyZXQtdXAnLCAnY2FyZXQtbGVmdCcsICdjYXJldC1yaWdodCcsICdjb2x1bW5zJywgJ3NvcnQnLCAnc29ydC1kZXNjJywgJ3NvcnQtYXNjJywgJ2VudmVsb3BlJywgJ2xpbmtlZGluJywgJ3VuZG8nLCAnZ2F2ZWwnLCAndGFjaG9tZXRlcicsICdjb21tZW50LW8nLCAnY29tbWVudHMtbycsICdib2x0JywgJ3NpdGVtYXAnLCAndW1icmVsbGEnLCAnY2xpcGJvYXJkJywgJ2xpZ2h0YnVsYi1vJywgJ2V4Y2hhbmdlJywgJ2Nsb3VkLWRvd25sb2FkJywgJ2Nsb3VkLXVwbG9hZCcsICd1c2VyLW1kJywgJ3N0ZXRob3Njb3BlJywgJ3N1aXRjYXNlJywgJ2JlbGwtbycsICdjb2ZmZWUnLCAnY3V0bGVyeScsICdmaWxlLXRleHQtbycsICdidWlsZGluZy1vJywgJ2hvc3BpdGFsLW8nLCAnYW1idWxhbmNlJywgJ21lZGtpdCcsICdmaWdodGVyLWpldCcsICdiZWVyJywgJ2gtc3F1YXJlJywgJ3BsdXMtc3F1YXJlJywgJ2FuZ2xlLWRvdWJsZS1sZWZ0JywgJ2FuZ2xlLWRvdWJsZS1yaWdodCcsICdhbmdsZS1kb3VibGUtdXAnLCAnYW5nbGUtZG91YmxlLWRvd24nLCAnYW5nbGUtbGVmdCcsICdhbmdsZS1yaWdodCcsICdhbmdsZS11cCcsICdhbmdsZS1kb3duJywgJ2Rlc2t0b3AnLCAnbGFwdG9wJywgJ3RhYmxldCcsICdtb2JpbGUnLCAnY2lyY2xlLW8nLCAncXVvdGUtbGVmdCcsICdxdW90ZS1yaWdodCcsICdzcGlubmVyJywgJ2NpcmNsZScsICdyZXBseScsICdnaXRodWItYWx0JywgJ2ZvbGRlci1vJywgJ2ZvbGRlci1vcGVuLW8nLCAnc21pbGUtbycsICdmcm93bi1vJywgJ21laC1vJywgJ2dhbWVwYWQnLCAna2V5Ym9hcmQtbycsICdmbGFnLW8nLCAnZmxhZy1jaGVja2VyZWQnLCAndGVybWluYWwnLCAnY29kZScsICdyZXBseS1hbGwnLCAnc3Rhci1oYWxmLW8nLCAnbG9jYXRpb24tYXJyb3cnLCAnY3JvcCcsICdjb2RlLWZvcmsnLCAnY2hhaW4tYnJva2VuJywgJ3F1ZXN0aW9uJywgJ2luZm8nLCAnZXhjbGFtYXRpb24nLCAnc3VwZXJzY3JpcHQnLCAnc3Vic2NyaXB0JywgJ2VyYXNlcicsICdwdXp6bGUtcGllY2UnLCAnbWljcm9waG9uZScsICdtaWNyb3Bob25lLXNsYXNoJywgJ3NoaWVsZCcsICdjYWxlbmRhci1vJywgJ2ZpcmUtZXh0aW5ndWlzaGVyJywgJ3JvY2tldCcsICdtYXhjZG4nLCAnY2hldnJvbi1jaXJjbGUtbGVmdCcsICdjaGV2cm9uLWNpcmNsZS1yaWdodCcsICdjaGV2cm9uLWNpcmNsZS11cCcsICdjaGV2cm9uLWNpcmNsZS1kb3duJywgJ2h0bWw1JywgJ2NzczMnLCAnYW5jaG9yJywgJ3VubG9jay1hbHQnLCAnYnVsbHNleWUnLCAnZWxsaXBzaXMtaCcsICdlbGxpcHNpcy12JywgJ3Jzcy1zcXVhcmUnLCAncGxheS1jaXJjbGUnLCAndGlja2V0JywgJ21pbnVzLXNxdWFyZScsICdtaW51cy1zcXVhcmUtbycsICdsZXZlbC11cCcsICdsZXZlbC1kb3duJywgJ2NoZWNrLXNxdWFyZScsICdwZW5jaWwtc3F1YXJlJywgJ2V4dGVybmFsLWxpbmstc3F1YXJlJywgJ3NoYXJlLXNxdWFyZScsICdjb21wYXNzJywgJ2NhcmV0LXNxdWFyZS1vLWRvd24nLCAnY2FyZXQtc3F1YXJlLW8tdXAnLCAnY2FyZXQtc3F1YXJlLW8tcmlnaHQnLCAnZXVyJywgJ2dicCcsICd1c2QnLCAnaW5yJywgJ2pweScsICdydWInLCAna3J3JywgJ2J0YycsICdmaWxlJywgJ2ZpbGUtdGV4dCcsICdzb3J0LWFscGhhLWFzYycsICdzb3J0LWFscGhhLWRlc2MnLCAnc29ydC1hbW91bnQtYXNjJywgJ3NvcnQtYW1vdW50LWRlc2MnLCAnc29ydC1udW1lcmljLWFzYycsICdzb3J0LW51bWVyaWMtZGVzYycsICd0aHVtYnMtdXAnLCAndGh1bWJzLWRvd24nLCAneW91dHViZS1zcXVhcmUnLCAneW91dHViZScsICd4aW5nJywgJ3hpbmctc3F1YXJlJywgJ3lvdXR1YmUtcGxheScsICdkcm9wYm94JywgJ3N0YWNrLW92ZXJmbG93JywgJ2luc3RhZ3JhbScsICdmbGlja3InLCAnYWRuJywgJ2JpdGJ1Y2tldCcsICdiaXRidWNrZXQtc3F1YXJlJywgJ3R1bWJscicsICd0dW1ibHItc3F1YXJlJywgJ2xvbmctYXJyb3ctZG93bicsICdsb25nLWFycm93LXVwJywgJ2xvbmctYXJyb3ctbGVmdCcsICdsb25nLWFycm93LXJpZ2h0JywgJ2FwcGxlJywgJ3dpbmRvd3MnLCAnYW5kcm9pZCcsICdsaW51eCcsICdkcmliYmJsZScsICdza3lwZScsICdmb3Vyc3F1YXJlJywgJ3RyZWxsbycsICdmZW1hbGUnLCAnbWFsZScsICdncmF0aXBheScsICdzdW4tbycsICdtb29uLW8nLCAnYXJjaGl2ZScsICdidWcnLCAndmsnLCAnd2VpYm8nLCAncmVucmVuJywgJ3BhZ2VsaW5lcycsICdzdGFjay1leGNoYW5nZScsICdhcnJvdy1jaXJjbGUtby1yaWdodCcsICdhcnJvdy1jaXJjbGUtby1sZWZ0JywgJ2NhcmV0LXNxdWFyZS1vLWxlZnQnLCAnZG90LWNpcmNsZS1vJywgJ3doZWVsY2hhaXInLCAndmltZW8tc3F1YXJlJywgJ3RyeScsICdwbHVzLXNxdWFyZS1vJywgJ3NwYWNlLXNodXR0bGUnLCAnc2xhY2snLCAnZW52ZWxvcGUtc3F1YXJlJywgJ3dvcmRwcmVzcycsICdvcGVuaWQnLCAndW5pdmVyc2l0eScsICdncmFkdWF0aW9uLWNhcCcsICd5YWhvbycsICdnb29nbGUnLCAncmVkZGl0JywgJ3JlZGRpdC1zcXVhcmUnLCAnc3R1bWJsZXVwb24tY2lyY2xlJywgJ3N0dW1ibGV1cG9uJywgJ2RlbGljaW91cycsICdkaWdnJywgJ3BpZWQtcGlwZXItcHAnLCAncGllZC1waXBlci1hbHQnLCAnZHJ1cGFsJywgJ2pvb21sYScsICdsYW5ndWFnZScsICdmYXgnLCAnYnVpbGRpbmcnLCAnY2hpbGQnLCAncGF3JywgJ3Nwb29uJywgJ2N1YmUnLCAnY3ViZXMnLCAnYmVoYW5jZScsICdiZWhhbmNlLXNxdWFyZScsICdzdGVhbScsICdzdGVhbS1zcXVhcmUnLCAncmVjeWNsZScsICdjYXInLCAndGF4aScsICd0cmVlJywgJ3Nwb3RpZnknLCAnZGV2aWFudGFydCcsICdzb3VuZGNsb3VkJywgJ2RhdGFiYXNlJywgJ2ZpbGUtcGRmLW8nLCAnZmlsZS13b3JkLW8nLCAnZmlsZS1leGNlbC1vJywgJ2ZpbGUtcG93ZXJwb2ludC1vJywgJ2ZpbGUtaW1hZ2UtbycsICdmaWxlLWFyY2hpdmUtbycsICdmaWxlLWF1ZGlvLW8nLCAnZmlsZS12aWRlby1vJywgJ2ZpbGUtY29kZS1vJywgJ3ZpbmUnLCAnY29kZXBlbicsICdqc2ZpZGRsZScsICdsaWZlLXJpbmcnLCAnY2lyY2xlLW8tbm90Y2gnLCAncmViZWwnLCAnZW1waXJlJywgJ2dpdC1zcXVhcmUnLCAnZ2l0JywgJ2hhY2tlci1uZXdzJywgJ3RlbmNlbnQtd2VpYm8nLCAncXEnLCAnd2VpeGluJywgJ3BhcGVyLXBsYW5lJywgJ3BhcGVyLXBsYW5lLW8nLCAnaGlzdG9yeScsICdjaXJjbGUtdGhpbicsICdoZWFkZXInLCAncGFyYWdyYXBoJywgJ3NsaWRlcnMnLCAnc2hhcmUtYWx0JywgJ3NoYXJlLWFsdC1zcXVhcmUnLCAnYm9tYicsICdmdXRib2wtbycsICd0dHknLCAnYmlub2N1bGFycycsICdwbHVnJywgJ3NsaWRlc2hhcmUnLCAndHdpdGNoJywgJ3llbHAnLCAnbmV3c3BhcGVyLW8nLCAnd2lmaScsICdjYWxjdWxhdG9yJywgJ3BheXBhbCcsICdnb29nbGUtd2FsbGV0JywgJ2NjLXZpc2EnLCAnY2MtbWFzdGVyY2FyZCcsICdjYy1kaXNjb3ZlcicsICdjYy1hbWV4JywgJ2NjLXBheXBhbCcsICdjYy1zdHJpcGUnLCAnYmVsbC1zbGFzaCcsICdiZWxsLXNsYXNoLW8nLCAndHJhc2gnLCAnY29weXJpZ2h0JywgJ2F0JywgJ2V5ZWRyb3BwZXInLCAncGFpbnQtYnJ1c2gnLCAnYmlydGhkYXktY2FrZScsICdhcmVhLWNoYXJ0JywgJ3BpZS1jaGFydCcsICdsaW5lLWNoYXJ0JywgJ2xhc3RmbScsICdsYXN0Zm0tc3F1YXJlJywgJ3RvZ2dsZS1vZmYnLCAndG9nZ2xlLW9uJywgJ2JpY3ljbGUnLCAnYnVzJywgJ2lveGhvc3QnLCAnYW5nZWxsaXN0JywgJ2NjJywgJ2lscycsICdtZWFucGF0aCcsICdidXlzZWxsYWRzJywgJ2Nvbm5lY3RkZXZlbG9wJywgJ2Rhc2hjdWJlJywgJ2ZvcnVtYmVlJywgJ2xlYW5wdWInLCAnc2VsbHN5JywgJ3NoaXJ0c2luYnVsaycsICdzaW1wbHlidWlsdCcsICdza3lhdGxhcycsICdjYXJ0LXBsdXMnLCAnY2FydC1hcnJvdy1kb3duJywgJ2RpYW1vbmQnLCAnc2hpcCcsICd1c2VyLXNlY3JldCcsICdtb3RvcmN5Y2xlJywgJ3N0cmVldC12aWV3JywgJ2hlYXJ0YmVhdCcsICd2ZW51cycsICdtYXJzJywgJ21lcmN1cnknLCAndHJhbnNnZW5kZXInLCAndHJhbnNnZW5kZXItYWx0JywgJ3ZlbnVzLWRvdWJsZScsICdtYXJzLWRvdWJsZScsICd2ZW51cy1tYXJzJywgJ21hcnMtc3Ryb2tlJywgJ21hcnMtc3Ryb2tlLXYnLCAnbWFycy1zdHJva2UtaCcsICduZXV0ZXInLCAnZ2VuZGVybGVzcycsICdmYWNlYm9vay1vZmZpY2lhbCcsICdwaW50ZXJlc3QtcCcsICd3aGF0c2FwcCcsICdzZXJ2ZXInLCAndXNlci1wbHVzJywgJ3VzZXItdGltZXMnLCAnYmVkJywgJ3ZpYWNvaW4nLCAndHJhaW4nLCAnc3Vid2F5JywgJ21lZGl1bScsICd5LWNvbWJpbmF0b3InLCAnb3B0aW4tbW9uc3RlcicsICdvcGVuY2FydCcsICdleHBlZGl0ZWRzc2wnLCAnYmF0dGVyeS1mdWxsJywgJ2JhdHRlcnktdGhyZWUtcXVhcnRlcnMnLCAnYmF0dGVyeS1oYWxmJywgJ2JhdHRlcnktcXVhcnRlcicsICdiYXR0ZXJ5LWVtcHR5JywgJ21vdXNlLXBvaW50ZXInLCAnaS1jdXJzb3InLCAnb2JqZWN0LWdyb3VwJywgJ29iamVjdC11bmdyb3VwJywgJ3N0aWNreS1ub3RlJywgJ3N0aWNreS1ub3RlLW8nLCAnY2MtamNiJywgJ2NjLWRpbmVycy1jbHViJywgJ2Nsb25lJywgJ2JhbGFuY2Utc2NhbGUnLCAnaG91cmdsYXNzLW8nLCAnaG91cmdsYXNzLXN0YXJ0JywgJ2hvdXJnbGFzcy1oYWxmJywgJ2hvdXJnbGFzcy1lbmQnLCAnaG91cmdsYXNzJywgJ2hhbmQtcm9jay1vJywgJ2hhbmQtcGFwZXItbycsICdoYW5kLXNjaXNzb3JzLW8nLCAnaGFuZC1saXphcmQtbycsICdoYW5kLXNwb2NrLW8nLCAnaGFuZC1wb2ludGVyLW8nLCAnaGFuZC1wZWFjZS1vJywgJ3RyYWRlbWFyaycsICdyZWdpc3RlcmVkJywgJ2NyZWF0aXZlLWNvbW1vbnMnLCAnZ2cnLCAnZ2ctY2lyY2xlJywgJ3RyaXBhZHZpc29yJywgJ29kbm9rbGFzc25pa2knLCAnb2Rub2tsYXNzbmlraS1zcXVhcmUnLCAnZ2V0LXBvY2tldCcsICd3aWtpcGVkaWEtdycsICdzYWZhcmknLCAnY2hyb21lJywgJ2ZpcmVmb3gnLCAnb3BlcmEnLCAnaW50ZXJuZXQtZXhwbG9yZXInLCAndGVsZXZpc2lvbicsICdjb250YW8nLCAnNTAwcHgnLCAnYW1hem9uJywgJ2NhbGVuZGFyLXBsdXMtbycsICdjYWxlbmRhci1taW51cy1vJywgJ2NhbGVuZGFyLXRpbWVzLW8nLCAnY2FsZW5kYXItY2hlY2stbycsICdpbmR1c3RyeScsICdtYXAtcGluJywgJ21hcC1zaWducycsICdtYXAtbycsICdtYXAnLCAnY29tbWVudGluZycsICdjb21tZW50aW5nLW8nLCAnaG91enonLCAndmltZW8nLCAnYmxhY2stdGllJywgJ2ZvbnRpY29ucycsICdyZWRkaXQtYWxpZW4nLCAnZWRnZScsICdjcmVkaXQtY2FyZC1hbHQnLCAnY29kaWVwaWUnLCAnbW9keCcsICdmb3J0LWF3ZXNvbWUnLCAndXNiJywgJ3Byb2R1Y3QtaHVudCcsICdtaXhjbG91ZCcsICdzY3JpYmQnLCAncGF1c2UtY2lyY2xlJywgJ3BhdXNlLWNpcmNsZS1vJywgJ3N0b3AtY2lyY2xlJywgJ3N0b3AtY2lyY2xlLW8nLCAnc2hvcHBpbmctYmFnJywgJ3Nob3BwaW5nLWJhc2tldCcsICdoYXNodGFnJywgJ2JsdWV0b290aCcsICdibHVldG9vdGgtYicsICdwZXJjZW50JywgJ2dpdGxhYicsICd3cGJlZ2lubmVyJywgJ3dwZm9ybXMnLCAnZW52aXJhJywgJ3VuaXZlcnNhbC1hY2Nlc3MnLCAnd2hlZWxjaGFpci1hbHQnLCAncXVlc3Rpb24tY2lyY2xlLW8nLCAnYmxpbmQnLCAnYXVkaW8tZGVzY3JpcHRpb24nLCAndm9sdW1lLWNvbnRyb2wtcGhvbmUnLCAnYnJhaWxsZScsICdhc3Npc3RpdmUtbGlzdGVuaW5nLXN5c3RlbXMnLCAnYW1lcmljYW4tc2lnbi1sYW5ndWFnZS1pbnRlcnByZXRpbmcnLCAnZGVhZicsICdnbGlkZScsICdnbGlkZS1nJywgJ3NpZ24tbGFuZ3VhZ2UnLCAnbG93LXZpc2lvbicsICd2aWFkZW8nLCAndmlhZGVvLXNxdWFyZScsICdzbmFwY2hhdCcsICdzbmFwY2hhdC1naG9zdCcsICdzbmFwY2hhdC1zcXVhcmUnLCAncGllZC1waXBlcicsICdmaXJzdC1vcmRlcicsICd5b2FzdCcsICd0aGVtZWlzbGUnLCAnZ29vZ2xlLXBsdXMtb2ZmaWNpYWwnLCAnZm9udC1hd2Vzb21lJywgJ2hhbmRzaGFrZS1vJywgJ2VudmVsb3BlLW9wZW4nLCAnZW52ZWxvcGUtb3Blbi1vJywgJ2xpbm9kZScsICdhZGRyZXNzLWJvb2snLCAnYWRkcmVzcy1ib29rLW8nLCAnYWRkcmVzcy1jYXJkJywgJ2FkZHJlc3MtY2FyZC1vJywgJ3VzZXItY2lyY2xlJywgJ3VzZXItY2lyY2xlLW8nLCAndXNlci1vJywgJ2lkLWJhZGdlJywgJ2lkLWNhcmQnLCAnaWQtY2FyZC1vJywgJ3F1b3JhJywgJ2ZyZWUtY29kZS1jYW1wJywgJ3RlbGVncmFtJywgJ3RoZXJtb21ldGVyLWZ1bGwnLCAndGhlcm1vbWV0ZXItdGhyZWUtcXVhcnRlcnMnLCAndGhlcm1vbWV0ZXItaGFsZicsICd0aGVybW9tZXRlci1xdWFydGVyJywgJ3RoZXJtb21ldGVyLWVtcHR5JywgJ3Nob3dlcicsICdiYXRoJywgJ3BvZGNhc3QnLCAnd2luZG93LW1heGltaXplJywgJ3dpbmRvdy1taW5pbWl6ZScsICd3aW5kb3ctcmVzdG9yZScsICd3aW5kb3ctY2xvc2UnLCAnd2luZG93LWNsb3NlLW8nLCAnYmFuZGNhbXAnLCAnZ3JhdicsICdldHN5JywgJ2ltZGInLCAncmF2ZWxyeScsICdlZXJjYXN0JywgJ21pY3JvY2hpcCcsICdzbm93Zmxha2UtbycsICdzdXBlcnBvd2VycycsICd3cGV4cGxvcmVyJywgJ21lZXR1cCddO1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJY29uID0gJ2ZhLXNtaWxlLW8nO1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJY29uVGV4dCA9ICdzbWlsZS1vJztcblxuICAgICAgICAkc2NvcGUuc2VhcmNoVGV4dCA9ICcnO1xuXG4gICAgICAgICRzY29wZS5zZWxlY3RJY29uID0gZnVuY3Rpb24gKGljb24pIHtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEljb25UZXh0ID0gaWNvbjtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEljb24gPSAnZmEtJyArIGljb247XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5pbnNlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7XG4gICAgICAgICAgICAgICAgaWNvbjogJHNjb3BlLnNlbGVjdGVkSWNvbixcbiAgICAgICAgICAgICAgICB0ZXh0OiAkc2NvcGUuc2VsZWN0ZWRJY29uVGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG5cbiAgICB2YXIgcG9zdE1vZGFsID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgcG9zdHNTZXJ2aWNlLCB0YWdzLCBpZCkge1xuICAgICAgICAkc2NvcGUuaWQgPSBpZDtcbiAgICAgICAgJHNjb3BlLnRpdGxlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmVudHJ5ID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLnRhZ3MgPSB0YWdzO1xuICAgICAgICAkc2NvcGUuaWNvbkRldGFpbHMgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWFpbiA9IGZhbHNlO1xuICAgICAgICAkc2NvcGUubmV3cyA9IGZhbHNlO1xuXG4gICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAkc2NvcGUuZW50cnkgPSAkKCcjcG9zdE1vZGFsLWVudHJ5JykucmVkYWN0b3IoJ2NvZGUuZ2V0Jyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciB0YWdzID0gJHNjb3BlLnRhZ3Muc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGlmICgkc2NvcGUubWFpbikge1xuICAgICAgICAgICAgICAgIGlmICh0YWdzLmluZGV4T2YoXCJNYWluXCIpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2goJ01haW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm5ld3MpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFncy5pbmRleE9mKFwiTmV3c1wiKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKCdOZXdzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9zdERldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICRzY29wZS5pZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogJHNjb3BlLnRpdGxlLFxuICAgICAgICAgICAgICAgIGVudHJ5OiAkc2NvcGUuZW50cnksXG4gICAgICAgICAgICAgICAgdGFnczogdGFncy5qb2luKCcsJyksXG4gICAgICAgICAgICAgICAgaWNvbjogKCRzY29wZS5pY29uRGV0YWlscyA/ICRzY29wZS5pY29uRGV0YWlscy5pY29uIDogbnVsbClcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICAgICAgICBwb3N0RGV0YWlsczogcG9zdERldGFpbHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jbGVhckljb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaWNvbkRldGFpbHMgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZWxlY3RJY29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpY29uTW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2ljb25Nb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pY29uRGV0YWlscyA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgcG9zdHNTZXJ2aWNlLmVkaXQoaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB0YWdzID0gZGF0YS50YWdzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0YWdzLmluZGV4T2YoXCJNYWluXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1haW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0YWdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaSA9IHRhZ3MuaW5kZXhPZihcIk5ld3NcIik7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW50cnkgPSAoZGF0YS5lbnRyeSA/IGRhdGEuZW50cnkudmFsdWUgOiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmVudHJ5ICYmICRzY29wZS5lbnRyeS5sZW5ndGggPiA3ICYmICRzY29wZS5lbnRyeS5zdWJzdHJpbmcoMCwgNikudG9Mb3dlckNhc2UoKSA9PT0gXCI8cD48aSBcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnlQYXJ0cyA9ICRzY29wZS5lbnRyeS5zcGxpdCgnPC9pPicpXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pY29uRGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGVudHJ5UGFydHNbMF0uc3BsaXQoJ1wiJylbMV0ucmVwbGFjZSgnZmEgJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZW50cnlQYXJ0c1swXS5zcGxpdCgnXCInKVsxXS5yZXBsYWNlKCdmYSBmYS0nLCAnJyksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5UGFydHNbMF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZW50cnkgPSAnPHA+JyArIGVudHJ5UGFydHMuam9pbignJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlkID0gaWQ7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRpdGxlID0gZGF0YS50aXRsZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFncyA9IHRhZ3Muam9pbignLCcpO1xuICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhLnJlZGFjdG9yJykucmVkYWN0b3IoJ2NvZGUuc2V0JywgJHNjb3BlLmVudHJ5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgdmFyIGhvbWVDb250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCBwb3N0c1NlcnZpY2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuZWRpdFBvc3QgPSBmdW5jdGlvbiAodGFncywgaWQpIHtcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncG9zdE1vZGFsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwb3N0TW9kYWwnLFxuICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICB0YWdzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFncztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gcmVzdWx0cy5wb3N0RGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbHMpIHsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzU2VydmljZS5zdG9yZShkZXRhaWxzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlbmRlcmVkLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3cgdGhhdCBpdCdzIG9wZW5lZCBydW4gcmVkYWN0b3JcbiAgICAgICAgICAgICAgICAgICAgJCgndGV4dGFyZWEucmVkYWN0b3InKS5yZWRhY3RvcihfcmVkYWN0b3JDb25maWcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNtaXNzZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdnZXRyZWFsdCcsIFsnZ2V0cmVhbHQucmVzdCcsICd1aS5ib290c3RyYXAnXSlcbiAgICAgICAgLmZhY3RvcnkoJ2V2ZW50RmFjdG9yeScsIFsnJHJvb3RTY29wZScsIGV2ZW50RmFjdG9yeV0pXG4gICAgICAgIC5zZXJ2aWNlKCdsaXN0aW5nU2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCAncmVzdFNlcnZpY2UnLCBsaXN0aW5nU2VydmljZV0pXG4gICAgICAgIC5zZXJ2aWNlKCdwb3N0c1NlcnZpY2UnLCBbJyRxJywgJyRodHRwJywgJ3Jlc3RTZXJ2aWNlJywgcG9zdHNTZXJ2aWNlXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NlYXJjaFdpZGdldCcsIFsnJHNjb3BlJywgJ2V2ZW50RmFjdG9yeScsICdsaXN0aW5nU2VydmljZScsIHNlYXJjaFdpZGdldF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdsaXN0aW5nc1dpZGdldCcsIFsnJHNjb3BlJywgJ2V2ZW50RmFjdG9yeScsIGxpc3RpbmdzV2lkZ2V0XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xpc3RpbmdEZXRhaWxzJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJ2xpc3RpbmdTZXJ2aWNlJywgbGlzdGluZ0RldGFpbHNdKVxuICAgICAgICAuY29udHJvbGxlcignY29udGFjdEFnZW50TW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdwYXJlbnRDb250cm9sbGVyJywgY29udGFjdEFnZW50TW9kYWxdKVxuICAgICAgICAuY29udHJvbGxlcignbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnbWVzc2FnZScsIG1lc3NhZ2VDb25maXJtYXRpb25Nb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdpY29uTW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGljb25Nb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdwb3N0TW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAncG9zdHNTZXJ2aWNlJywgJ3RhZ3MnLCAnaWQnLCBwb3N0TW9kYWxdKVxuICAgICAgICAuY29udHJvbGxlcignaG9tZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAncG9zdHNTZXJ2aWNlJywgaG9tZUNvbnRyb2xsZXJdKVxuICAgICAgICAuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoXCJrZXlkb3duIGtleXByZXNzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nRW50ZXIsIHsgJ2V2ZW50JzogZXZlbnQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbn0pKCk7XG5cblxuIl19
