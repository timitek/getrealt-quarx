!function(){"use strict";var e=function(e,t){var r=this;r.getOverride=function(e,t){return void 0===t?e:t},r.applyOptions=function(e){var t={maxRetries:3,enableCache:!0,method:"GET",responseType:"json"};return e&&(t.maxRetries=r.getOverride(t.maxRetries,e.maxRetries),t.enableCache=r.getOverride(t.enableCache,e.enableCache),t.method=r.getOverride(t.method,e.method),t.responseType=r.getOverride(t.responseType,e.responseType),t.headers=r.getOverride(t.headers,e.headers),t.transformRequest=r.getOverride(t.transformRequest,e.transformRequest)),"GET"===t.method?t.params=e.params:t.data=e.params,t.url=e.url,t},r.allowCaching=function(e){var t=e.enableCache;return t&&(t=!1),t},r.cacheResults=function(t,o){var a=e.defer();return r.allowCaching(t)||a.resolve(null),a.promise},r.fetchFromCache=function(t){var o=e.defer();return r.allowCaching(t)||o.resolve(null),o.promise},r.process=function(o){var a=e.defer();return r.fetchFromCache(o).then(function(e){if(e)a.resolve(e);else{var i={url:o.url,method:o.method,responseType:o.responseType,data:o.data,params:o.params};o.headers&&(i.headers=o.headers),o.transformRequest&&(i.transformRequest=o.transformRequest),t(i).then(function(e){e&&o.enableCache&&r.cacheResults(o,e.data),a.resolve(e.data)},function(e,t,r,o){a.reject({data:e,status:t,headers:r,config:o})})}}),a.promise},r.go=function(t){var o=e.defer(),a=r.applyOptions(t);return polly().retry(r.maxRetries).executeForPromise(function(){return r.process(a)}).then(function(e){o.resolve(e)},function(e){if(o.reject(e.data),e.data&&401===e.data.status){!0===confirm("You are not authorized to perform this action.  It's possible your session has timed out.  Would you like to try logging back in?")&&window.location.reload(!0)}else alert("There was an error!")}),o.promise}};angular.module("getrealt.rest",[]).service("restService",["$q","$http",e])}(),function(){var e=function(e,t,r){this.index=function(t,o,a,i,s,n,l,c,d){var u=e.defer(),p={keywords:o};return t&&(t&&(p.advancedSearch=t),a&&(p.minPrice=a),i&&(p.maxPrice=i),l&&(p.includeResidential=l),c&&(p.includeLand=c),d&&(p.includeCommercial=d),s&&(p.beds=s),n&&(p.baths=n)),r.go({url:"/getrealt/listings",method:"POST",params:p}).then(function(e){u.resolve(e.data)},function(e){throw u.reject(e.data),e}),u.promise},this.show=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.sendLead=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/sendLead",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},t=function(e,t,r){this.store=function(t){var o=e.defer();return r.go({url:"/getrealt/posts",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.edit=function(t){var o=e.defer();return r.go({url:"/getrealt/posts/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},r=function(e,t,r){e.advancedSearch=!1,e.keywords=null,e.minPrice=null,e.maxPrice=null,e.beds=null,e.baths=null,e.includeResidential=!0,e.includeLand=!0,e.includeCommercial=!0,e.listings=null,e.search=function(){(e.advancedSearch||e.keywords)&&(t.searchingListings(!0),r.index(e.advancedSearch,e.keywords,e.minPrice,e.maxPrice,e.beds,e.baths,e.includeResidential,e.includeLand,e.includeCommercial).then(function(r){e.listings=r,t.searchingListings(!1),t.refreshListings(e.listings)}))}},o=function(e,t){e.listings=null,t.onSearchingListings(e,function(t){e.searching=t}),t.onRefreshListings(e,function(t){e.listings=t})},a=function(e){var t=function(t){e.$broadcast("refreshListings",t)},r=function(e,t){e.$on("refreshListings",function(e,r){t(r)})};return{refreshListings:t,onRefreshListings:r,searchingListings:function(t){e.$broadcast("searchingListings",t)},onSearchingListings:function(e,t){e.$on("searchingListings",function(e,r){t(r)})}}},i=function(e,t,r){e.listingSource=null,e.listingType=null,e.listingID=null,e.address=null,e.initMap=function(){var t=new google.maps.Geocoder;t&&t.geocode({address:e.address},function(t,r){if(r===google.maps.GeocoderStatus.OK&&r!==google.maps.GeocoderStatus.ZERO_RESULTS){var o=t[0].geometry.location,a=document.getElementById("map");a.style.display="block";var i={center:o,zoom:16,panControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(a,i),n=new google.maps.Marker({position:o,map:s,icon:"/assets/themes/getrealt/images/marker.png"}),l="http://www.google.com/maps/dir/current+position/"+encodeURI(e.address),c="http://maps.google.com/maps?q=&layer=c&cbll="+t[0].geometry.location.lat()+","+t[0].geometry.location.lng(),d='<div class="info-window"><h5><i class="fa fa-map-marker"></i> '+t[0].formatted_address+'</h5><div class="info-content"><p><i class="fa fa-car"></i>: <a href="'+l+'" target="_blank">Get Directions</a><br /><i class="fa fa-street-view"></i>: <a href="'+c+'" target="_blank">Street View</a><br /></p></div></div>',u=new google.maps.InfoWindow({content:d,maxWidth:400});n.addListener("click",function(){u.open(s,n)});var p=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"simplified"}]},{featureType:"landscape",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",stylers:[{color:"#84afa3"},{lightness:52}]},{stylers:[{saturation:-17},{gamma:.36}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#3f518c"}]}];s.set("styles",p)}})},e.initSliders=function(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:210,itemMargin:5,smoothHeight:!0,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,smoothHeight:!0,sync:"#carousel"})},e.contactAgent=function(){t.open({templateUrl:"contactAgent.html",controller:"contactAgentModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{parentController:function(){return e}}}).result.then(function(o){var a=o.contactInfo;a&&(a.name||a.phone||a.email||a.message)&&(a.listingSource=e.listingSource,a.listingType=e.listingType,a.listingID=e.listingID,r.sendLead(a).then(function(e){t.open({templateUrl:"messageConfirmation.html",controller:"messageConfirmationModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"sm",resolve:{message:function(){return e.success?"Message Sent!":"Oops! Our messaging is down right now.  Try contacting us directly please!"}}})}))},function(){})},e.start=function(t,r,o,a){e.listingSource=t,e.listingType=r,e.listingID=o,e.address=a,google.maps.event.addDomListener(window,"load",e.initMap),e.initSliders()}},s=function(e,t,r){e.name=null,e.phone=null,e.email=null,e.message=null,e.send=function(){var r={name:e.name,phone:e.phone,email:e.email,message:e.message};t.close({contactInfo:r})},e.cancel=function(){t.dismiss("cancel")}},n=function(e,t,r){e.message=r,e.cancel=function(){t.dismiss("cancel")}},l=function(e,t){e.icons=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","times","search-plus","search-minus","power-off","signal","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","outdent","indent","video-camera","picture-o","pencil","map-marker","adjust","tint","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart","twitter-square","facebook-square","camera-retro","key","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook","github","unlock","credit-card","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","users","link","cloud","flask","scissors","files-o","paperclip","floppy-o","square","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","sort","sort-desc","sort-asc","envelope","linkedin","undo","gavel","tachometer","comment-o","comments-o","bolt","sitemap","umbrella","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile","circle-o","quote-left","quote-right","spinner","circle","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","reply-all","star-half-o","location-arrow","crop","code-fork","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","caret-square-o-down","caret-square-o-up","caret-square-o-right","eur","gbp","usd","inr","jpy","rub","krw","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","university","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","car","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-ring","circle-o-notch","rebel","empire","git-square","git","hacker-news","tencent-weibo","qq","weixin","paper-plane","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","bed","viacoin","train","subway","medium","y-combinator","optin-monster","opencart","expeditedssl","battery-full","battery-three-quarters","battery-half","battery-quarter","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass","hand-rock-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","american-sign-language-interpreting","deaf","glide","glide-g","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-official","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer-full","thermometer-three-quarters","thermometer-half","thermometer-quarter","thermometer-empty","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"],e.selectedIcon="fa-smile-o",e.selectedIconText="smile-o",e.searchText="",e.selectIcon=function(t){e.selectedIconText=t,e.selectedIcon="fa-"+t},e.cancel=function(){t.dismiss("cancel")},e.insert=function(){t.close({icon:e.selectedIcon,text:e.selectedIconText})}},c=function(e,t,r,o,a,i){e.id=i,e.title=null,e.entry=null,e.tags=a,e.iconDetails=null,e.save=function(){e.entry=$("#postModal-entry").redactor("code.get");var r={id:e.id,title:e.title,entry:e.entry,tags:e.tags,icon:e.iconDetails?e.iconDetails.icon:null};t.close({postDetails:r})},e.selectIcon=function(){r.open({templateUrl:"iconModal.html",controller:"iconModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg"}).result.then(function(t){e.iconDetails=t},function(){})},e.cancel=function(){t.dismiss("cancel")},i&&o.edit(i).then(function(t){if(e.entry=t.entry?t.entry.value:null,e.entry&&e.entry.length>7&&"<p><i "===e.entry.substring(0,6).toLowerCase()){var r=e.entry.split("</i>");e.iconDetails={icon:r[0].split('"')[1].replace("fa ",""),text:r[0].split('"')[1].replace("fa fa-","")},r[0]=null,e.entry="<p>"+r.join("")}e.id=i,e.title=t.title,e.tags=t.tags,$("textarea.redactor").redactor("code.set",e.entry)})},d=function(e,t,r){var o=this;o.editPost=function(e,o){var a=t.open({templateUrl:"postModal.html",controller:"postModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{tags:function(){return e},id:function(){return o}}});a.result.then(function(e){var t=e.postDetails;t&&r.store(t).then(function(e){location.reload()})},function(){}),a.rendered.then(function(){$("textarea.redactor").redactor(_redactorConfig)},function(){})},o.start=function(){}};angular.module("getrealt",["getrealt.rest","ui.bootstrap"]).factory("eventFactory",["$rootScope",a]).service("listingService",["$q","$http","restService",e]).service("postsService",["$q","$http","restService",t]).controller("searchWidget",["$scope","eventFactory","listingService",r]).controller("listingsWidget",["$scope","eventFactory",o]).controller("listingDetails",["$scope","$uibModal","listingService",i]).controller("contactAgentModal",["$scope","$uibModalInstance","parentController",s]).controller("messageConfirmationModal",["$scope","$uibModalInstance","message",n]).controller("iconModal",["$scope","$uibModalInstance",l]).controller("postModal",["$scope","$uibModalInstance","$uibModal","postsService","tags","id",c]).controller("homeController",["$scope","$uibModal","postsService",d]).directive("ngEnter",function(){return function(e,t,r){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.ngEnter,{event:t})}),t.preventDefault())})}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3QuanMiLCJnZXRyZWFsdC1mcm9udGVuZC5qcyJdLCJuYW1lcyI6WyJyZXN0U2VydmljZSIsIiRxIiwiJGh0dHAiLCJzZWxmIiwidGhpcyIsImdldE92ZXJyaWRlIiwiZGVmYXVsdFZhbHVlIiwib3ZlcnJpZGVWYWx1ZSIsImFwcGx5T3B0aW9ucyIsIm9wdGlvbnMiLCJwYXJhbXMiLCJtYXhSZXRyaWVzIiwiZW5hYmxlQ2FjaGUiLCJtZXRob2QiLCJyZXNwb25zZVR5cGUiLCJoZWFkZXJzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJ1cmwiLCJhbGxvd0NhY2hpbmciLCJhbGxvdyIsImNhY2hlUmVzdWx0cyIsInJlc3VsdHMiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzb2x2ZSIsInByb21pc2UiLCJmZXRjaEZyb21DYWNoZSIsInByb2Nlc3MiLCJ0aGVuIiwiaHR0cE9wdGlvbnMiLCJzdGF0dXMiLCJjb25maWciLCJyZWplY3QiLCJnbyIsInBvbGx5IiwicmV0cnkiLCJleGVjdXRlRm9yUHJvbWlzZSIsImVyciIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImFsZXJ0IiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCJsaXN0aW5nU2VydmljZSIsImluZGV4IiwiYWR2YW5jZWRTZWFyY2giLCJrZXl3b3JkcyIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJiZWRzIiwiYmF0aHMiLCJpbmNsdWRlUmVzaWRlbnRpYWwiLCJpbmNsdWRlTGFuZCIsImluY2x1ZGVDb21tZXJjaWFsIiwic2hvdyIsImlkIiwic2VuZExlYWQiLCJpbmZvIiwicG9zdHNTZXJ2aWNlIiwic3RvcmUiLCJkZXRhaWxzIiwiZWRpdCIsInNlYXJjaFdpZGdldCIsIiRzY29wZSIsImV2ZW50RmFjdG9yeSIsImxpc3RpbmdzIiwic2VhcmNoIiwic2VhcmNoaW5nTGlzdGluZ3MiLCJyZWZyZXNoTGlzdGluZ3MiLCJsaXN0aW5nc1dpZGdldCIsIm9uU2VhcmNoaW5nTGlzdGluZ3MiLCJzZWFyY2hpbmciLCJvblJlZnJlc2hMaXN0aW5ncyIsIiRyb290U2NvcGUiLCIkYnJvYWRjYXN0IiwiaGFuZGxlciIsIiRvbiIsImV2ZW50IiwibWVzc2FnZSIsImxpc3RpbmdEZXRhaWxzIiwiJHVpYk1vZGFsIiwibGlzdGluZ1NvdXJjZSIsImxpc3RpbmdUeXBlIiwibGlzdGluZ0lEIiwiYWRkcmVzcyIsImluaXRNYXAiLCJnZW9jb2RlciIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsImdlb2NvZGUiLCJHZW9jb2RlclN0YXR1cyIsIk9LIiwiWkVST19SRVNVTFRTIiwiZ2VvbWV0cnkiLCJtYXBDYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwibWFwT3B0aW9ucyIsImNlbnRlciIsInpvb20iLCJwYW5Db250cm9sIiwic2Nyb2xsd2hlZWwiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJST0FETUFQIiwibWFwIiwiTWFwIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJpY29uIiwiZGlyZWN0aW9uc0xpbmsiLCJlbmNvZGVVUkkiLCJzdHJlZXRWaWV3TGluayIsImxhdCIsImxuZyIsImNvbnRlbnRTdHJpbmciLCJmb3JtYXR0ZWRfYWRkcmVzcyIsImluZm93aW5kb3ciLCJJbmZvV2luZG93IiwiY29udGVudCIsIm1heFdpZHRoIiwiYWRkTGlzdGVuZXIiLCJvcGVuIiwic3R5bGVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiY29sb3IiLCJsaWdodG5lc3MiLCJzYXR1cmF0aW9uIiwiZ2FtbWEiLCJzZXQiLCJpbml0U2xpZGVycyIsIiQiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwiY29udHJvbE5hdiIsImFuaW1hdGlvbkxvb3AiLCJzbGlkZXNob3ciLCJpdGVtV2lkdGgiLCJpdGVtTWFyZ2luIiwic21vb3RoSGVpZ2h0IiwiYXNOYXZGb3IiLCJzeW5jIiwiY29udGFjdEFnZW50IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiYXJpYUxhYmVsbGVkQnkiLCJhcmlhRGVzY3JpYmVkQnkiLCJzaXplIiwicGFyZW50Q29udHJvbGxlciIsInJlc3VsdCIsImNvbnRhY3RJbmZvIiwibmFtZSIsInBob25lIiwiZW1haWwiLCJzdWNjZXNzIiwic3RhcnQiLCJhZGREb21MaXN0ZW5lciIsImNvbnRhY3RBZ2VudE1vZGFsIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJzZW5kIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwibWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsIiwiaWNvbk1vZGFsIiwiaWNvbnMiLCJzZWxlY3RlZEljb24iLCJzZWxlY3RlZEljb25UZXh0Iiwic2VhcmNoVGV4dCIsInNlbGVjdEljb24iLCJpbnNlcnQiLCJ0ZXh0IiwicG9zdE1vZGFsIiwidGFncyIsInRpdGxlIiwiZW50cnkiLCJpY29uRGV0YWlscyIsInNhdmUiLCJyZWRhY3RvciIsInBvc3REZXRhaWxzIiwidmFsdWUiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJ0b0xvd2VyQ2FzZSIsImVudHJ5UGFydHMiLCJzcGxpdCIsInJlcGxhY2UiLCJqb2luIiwiaG9tZUNvbnRyb2xsZXIiLCJlZGl0UG9zdCIsIm1vZGFsSW5zdGFuY2UiLCJyZW5kZXJlZCIsIl9yZWRhY3RvckNvbmZpZyIsImZhY3RvcnkiLCJkaXJlY3RpdmUiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImJpbmQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBR0EsSUFBQUEsR0FBQSxTQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFFLFlBQUEsU0FBQUMsRUFBQUMsR0FFQSxXQURBLEtBQUFBLEVBQUFELEVBQUFDLEdBSUFKLEVBQUFLLGFBQUEsU0FBQUMsR0FDQSxHQUFBQyxJQUNBQyxXQUFBLEVBQ0FD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QUFBLGNBQUEsTUFBQSxRQUFBLFdBQUEsT0FBQSxjQUFBLGVBQUEsY0FBQSxZQUFBLGNBQUEsb0JBQUEscUJBQUEsa0JBQUEsb0JBQUEsUUFBQSxTQUFBLFFBQUEsU0FBQSxZQUFBLGFBQUEsUUFBQSxPQUFBLFFBQUEsUUFBQSxXQUFBLFVBQUEsWUFBQSxXQUFBLFNBQUEsT0FBQSxVQUFBLFVBQUEsZ0JBQUEsWUFBQSxRQUFBLFFBQUEsUUFBQSxZQUFBLG1CQUFBLHFCQUFBLGNBQUEsUUFBQSxhQUFBLFdBQUEsYUFBQSxjQUFBLFVBQUEsT0FBQSxZQUFBLFdBQUEsV0FBQSxXQUFBLE9BQUEsUUFBQSxhQUFBLFlBQUEsYUFBQSxPQUFBLFVBQUEsV0FBQSxZQUFBLGNBQUEsV0FBQSxpQkFBQSxlQUFBLFVBQUEsY0FBQSxXQUFBLFNBQUEsU0FBQSxVQUFBLGNBQUEsYUFBQSxhQUFBLFlBQUEsU0FBQSxjQUFBLE9BQUEsV0FBQSxjQUFBLG9CQUFBLHFCQUFBLGtCQUFBLG9CQUFBLGFBQUEsY0FBQSxXQUFBLGFBQUEsVUFBQSxTQUFBLFNBQUEsU0FBQSxXQUFBLGFBQUEsY0FBQSxVQUFBLFNBQUEsUUFBQSxhQUFBLFdBQUEsZ0JBQUEsVUFBQSxVQUFBLFFBQUEsVUFBQSxhQUFBLFNBQUEsaUJBQUEsV0FBQSxPQUFBLFlBQUEsY0FBQSxpQkFBQSxPQUFBLFlBQUEsZUFBQSxXQUFBLE9BQUEsY0FBQSxjQUFBLFlBQUEsU0FBQSxlQUFBLGFBQUEsbUJBQUEsU0FBQSxhQUFBLG9CQUFBLFNBQUEsU0FBQSxzQkFBQSx1QkFBQSxvQkFBQSxzQkFBQSxRQUFBLE9BQUEsU0FBQSxhQUFBLFdBQUEsYUFBQSxhQUFBLGFBQUEsY0FBQSxTQUFBLGVBQUEsaUJBQUEsV0FBQSxhQUFBLGVBQUEsZ0JBQUEsdUJBQUEsZUFBQSxVQUFBLHNCQUFBLG9CQUFBLHVCQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUFBLFlBQUEsaUJBQUEsa0JBQUEsa0JBQUEsbUJBQUEsbUJBQUEsb0JBQUEsWUFBQSxjQUFBLGlCQUFBLFVBQUEsT0FBQSxjQUFBLGVBQUEsVUFBQSxpQkFBQSxZQUFBLFNBQUEsTUFBQSxZQUFBLG1CQUFBLFNBQUEsZ0JBQUEsa0JBQUEsZ0JBQUEsa0JBQUEsbUJBQUEsUUFBQSxVQUFBLFVBQUEsUUFBQSxXQUFBLFFBQUEsYUFBQSxTQUFBLFNBQUEsT0FBQSxXQUFBLFFBQUEsU0FBQSxVQUFBLE1BQUEsS0FBQSxRQUFBLFNBQUEsWUFBQSxpQkFBQSx1QkFBQSxzQkFBQSxzQkFBQSxlQUFBLGFBQUEsZUFBQSxNQUFBLGdCQUFBLGdCQUFBLFFBQUEsa0JBQUEsWUFBQSxTQUFBLGFBQUEsaUJBQUEsUUFBQSxTQUFBLFNBQUEsZ0JBQUEscUJBQUEsY0FBQSxZQUFBLE9BQUEsZ0JBQUEsaUJBQUEsU0FBQSxTQUFBLFdBQUEsTUFBQSxXQUFBLFFBQUEsTUFBQSxRQUFBLE9BQUEsUUFBQSxVQUFBLGlCQUFBLFFBQUEsZUFBQSxVQUFBLE1BQUEsT0FBQSxPQUFBLFVBQUEsYUFBQSxhQUFBLFdBQUEsYUFBQSxjQUFBLGVBQUEsb0JBQUEsZUFBQSxpQkFBQSxlQUFBLGVBQUEsY0FBQSxPQUFBLFVBQUEsV0FBQSxZQUFBLGlCQUFBLFFBQUEsU0FBQSxhQUFBLE1BQUEsY0FBQSxnQkFBQSxLQUFBLFNBQUEsY0FBQSxnQkFBQSxVQUFBLGNBQUEsU0FBQSxZQUFBLFVBQUEsWUFBQSxtQkFBQSxPQUFBLFdBQUEsTUFBQSxhQUFBLE9BQUEsYUFBQSxTQUFBLE9BQUEsY0FBQSxPQUFBLGFBQUEsU0FBQSxnQkFBQSxVQUFBLGdCQUFBLGNBQUEsVUFBQSxZQUFBLFlBQUEsYUFBQSxlQUFBLFFBQUEsWUFBQSxLQUFBLGFBQUEsY0FBQSxnQkFBQSxhQUFBLFlBQUEsYUFBQSxTQUFBLGdCQUFBLGFBQUEsWUFBQSxVQUFBLE1BQUEsVUFBQSxZQUFBLEtBQUEsTUFBQSxXQUFBLGFBQUEsaUJBQUEsV0FBQSxXQUFBLFVBQUEsU0FBQSxlQUFBLGNBQUEsV0FBQSxZQUFBLGtCQUFBLFVBQUEsT0FBQSxjQUFBLGFBQUEsY0FBQSxZQUFBLFFBQUEsT0FBQSxVQUFBLGNBQUEsa0JBQUEsZUFBQSxjQUFBLGFBQUEsY0FBQSxnQkFBQSxnQkFBQSxTQUFBLGFBQUEsb0JBQUEsY0FBQSxXQUFBLFNBQUEsWUFBQSxhQUFBLE1BQUEsVUFBQSxRQUFBLFNBQUEsU0FBQSxlQUFBLGdCQUFBLFdBQUEsZUFBQSxlQUFBLHlCQUFBLGVBQUEsa0JBQUEsZ0JBQUEsZ0JBQUEsV0FBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsU0FBQSxpQkFBQSxRQUFBLGdCQUFBLGNBQUEsa0JBQUEsaUJBQUEsZ0JBQUEsWUFBQSxjQUFBLGVBQUEsa0JBQUEsZ0JBQUEsZUFBQSxpQkFBQSxlQUFBLFlBQUEsYUFBQSxtQkFBQSxLQUFBLFlBQUEsY0FBQSxnQkFBQSx1QkFBQSxhQUFBLGNBQUEsU0FBQSxTQUFBLFVBQUEsUUFBQSxvQkFBQSxhQUFBLFNBQUEsUUFBQSxTQUFBLGtCQUFBLG1CQUFBLG1CQUFBLG1CQUFBLFdBQUEsVUFBQSxZQUFBLFFBQUEsTUFBQSxhQUFBLGVBQUEsUUFBQSxRQUFBLFlBQUEsWUFBQSxlQUFBLE9BQUEsa0JBQUEsV0FBQSxPQUFBLGVBQUEsTUFBQSxlQUFBLFdBQUEsU0FBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsZUFBQSxrQkFBQSxVQUFBLFlBQUEsY0FBQSxVQUFBLFNBQUEsYUFBQSxVQUFBLFNBQUEsbUJBQUEsaUJBQUEsb0JBQUEsUUFBQSxvQkFBQSx1QkFBQSxVQUFBLDhCQUFBLHNDQUFBLE9BQUEsUUFBQSxVQUFBLGdCQUFBLGFBQUEsU0FBQSxnQkFBQSxXQUFBLGlCQUFBLGtCQUFBLGFBQUEsY0FBQSxRQUFBLFlBQUEsdUJBQUEsZUFBQSxjQUFBLGdCQUFBLGtCQUFBLFNBQUEsZUFBQSxpQkFBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsU0FBQSxXQUFBLFVBQUEsWUFBQSxRQUFBLGlCQUFBLFdBQUEsbUJBQUEsNkJBQUEsbUJBQUEsc0JBQUEsb0JBQUEsU0FBQSxPQUFBLFVBQUEsa0JBQUEsa0JBQUEsaUJBQUEsZUFB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QSxnQkFBQSxhQUFBeEksSUFDQXRCLFFBQUEsa0JBQUEsS0FBQSxRQUFBLGNBQUFDLElBQ0FELFFBQUEsZ0JBQUEsS0FBQSxRQUFBLGNBQUFnQixJQUNBNkYsV0FBQSxnQkFBQSxTQUFBLGVBQUEsaUJBQUF6RixJQUNBeUYsV0FBQSxrQkFBQSxTQUFBLGVBQUFsRixJQUNBa0YsV0FBQSxrQkFBQSxTQUFBLFlBQUEsaUJBQUF4RSxJQUNBd0UsV0FBQSxxQkFBQSxTQUFBLG9CQUFBLG1CQUFBYSxJQUNBYixXQUFBLDRCQUFBLFNBQUEsb0JBQUEsVUFBQW1CLElBQ0FuQixXQUFBLGFBQUEsU0FBQSxvQkFBQW9CLElBQ0FwQixXQUFBLGFBQUEsU0FBQSxvQkFBQSxZQUFBLGVBQUEsT0FBQSxLQUFBNEIsSUFDQTVCLFdBQUEsa0JBQUEsU0FBQSxZQUFBLGVBQUE0QyxJQUNBTSxVQUFBLFVBQUEsV0FDQSxNQUFBLFVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLEtBQUEsbUJBQUEsU0FBQWhJLEdBQ0EsS0FBQUEsRUFBQWlJLFFBQ0FKLEVBQUFLLE9BQUEsV0FDQUwsRUFBQU0sTUFBQUosRUFBQUssU0FBQXBJLE1BQUFBLE1BR0FBLEVBQUFxSSIsImZpbGUiOiJnZXRyZWFsdC1mcm9udGVuZC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuXG4gICAgdmFyIHJlc3RTZXJ2aWNlID0gZnVuY3Rpb24gKCRxLCAkaHR0cCkge1xuXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmdldE92ZXJyaWRlID0gZnVuY3Rpb24gKGRlZmF1bHRWYWx1ZSwgb3ZlcnJpZGVWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gKCh0eXBlb2Ygb3ZlcnJpZGVWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpID8gZGVmYXVsdFZhbHVlIDogb3ZlcnJpZGVWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsdWU7IC8vIExlYXZlIHRoZSBtZWFuaW5nbGVzcyBuZXdWYWx1ZSBpbiBoZXJlIGZvciBicmVha3BvaW50IC8gd2F0Y2ggcHVycG9zZXNcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmFwcGx5T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1heFJldHJpZXM6IDMsXG4gICAgICAgICAgICAgICAgZW5hYmxlQ2FjaGU6IHRydWUsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdqc29uJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMubWF4UmV0cmllcyA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLm1heFJldHJpZXMsIG9wdGlvbnMubWF4UmV0cmllcyk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmVuYWJsZUNhY2hlID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMuZW5hYmxlQ2FjaGUsIG9wdGlvbnMuZW5hYmxlQ2FjaGUpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5tZXRob2QgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5tZXRob2QsIG9wdGlvbnMubWV0aG9kKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMucmVzcG9uc2VUeXBlID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMucmVzcG9uc2VUeXBlLCBvcHRpb25zLnJlc3BvbnNlVHlwZSk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmhlYWRlcnMgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5oZWFkZXJzLCBvcHRpb25zLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy50cmFuc2Zvcm1SZXF1ZXN0ID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMudHJhbnNmb3JtUmVxdWVzdCwgb3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR0VUIHVzZXMgcGFyYW1zIGFuZCBQT1NUIHVzZXMgZGF0YVxuICAgICAgICAgICAgaWYgKHBhcmFtcy5tZXRob2QgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnBhcmFtcyA9IG9wdGlvbnMucGFyYW1zO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZGF0YSA9IG9wdGlvbnMucGFyYW1zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJhbXMudXJsID0gb3B0aW9ucy51cmw7XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5hbGxvd0NhY2hpbmcgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBoYXZlbid0IGltcGxlbWVudGVkIHRoaXMgeWV0LCBidXQgd2Ugd2lsbCBkbyBzb21lIGNsaWVudCBzaWRlIGNhY2hpbmdcbiAgICAgICAgICAgIHZhciBhbGxvdyA9IHBhcmFtcy5lbmFibGVDYWNoZTtcblxuICAgICAgICAgICAgaWYgKGFsbG93KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgYSBjYWNoZWFibGUgdmVyYiAoR0VUKSB0aGF0IHJldHVybnMgcmVzdWx0cyB0aGF0IGNhbiBiZSBjYWNoZWQgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiBsb2NhbCBzdG9yYWdlIC8gY2FjaGluZyBpcyBhdmFpbGFibGUgb24gdGhpcyBjbGllbnRcblxuICAgICAgICAgICAgICAgIGFsbG93ID0gZmFsc2U7IC8vIFJpZ2h0IG5vdyBkaXNhYmxlIGl0IHVudGlsIHdlIGhhdmUgaW1wbGVtZW50ZWQgY2FjaGluZ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYWxsb3c7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5jYWNoZVJlc3VsdHMgPSBmdW5jdGlvbiAocGFyYW1zLCByZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBoYXZlbid0IGltcGxlbWVudGVkIHRoaXMgeWV0LCBidXQgd2Ugd2lsbCBkbyBzb21lIGNsaWVudCBzaWRlIGNhY2hpbmdcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuYWxsb3dDYWNoaW5nKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaW5pc2ggdGhpcyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5mZXRjaEZyb21DYWNoZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFdlIGhhdmVuJ3QgaW1wbGVtZW50ZWQgdGhpcyB5ZXQsIGJ1dCB3ZSB3aWxsIGRvIHNvbWUgY2xpZW50IHNpZGUgY2FjaGluZ1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZi5hbGxvd0NhY2hpbmcocGFyYW1zKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpbmlzaCB0aGlzICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHNlbGYucHJvY2VzcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHNlbGYuZmV0Y2hGcm9tQ2FjaGUocGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBnb3QgY2FjaGVkIHJlc3VsdHMsIHdlIGFyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0dHBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBhcmFtcy51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcGFyYW1zLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiBwYXJhbXMucmVzcG9uc2VUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwYXJhbXMuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXMucGFyYW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cE9wdGlvbnMuaGVhZGVycyA9IHBhcmFtcy5oZWFkZXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnRyYW5zZm9ybVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cE9wdGlvbnMudHJhbnNmb3JtUmVxdWVzdCA9IHBhcmFtcy50cmFuc2Zvcm1SZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cChodHRwT3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cyAmJiBwYXJhbXMuZW5hYmxlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FjaGVSZXN1bHRzKHBhcmFtcywgcmVzdWx0cy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cy5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHtkYXRhOiBkYXRhLCBzdGF0dXM6IHN0YXR1cywgaGVhZGVyczogaGVhZGVycywgY29uZmlnOiBjb25maWd9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE1haW4gZW50cnkgcG9pbnQgYW5kIHNob3VsZCB0eXBpY2FsbHkgYmUgdGhlIG9ubHkgbWV0aG9kIGNhbGxlZCBleHRlcm5hbGx5XG4gICAgICAgIHNlbGYuZ28gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gc2VsZi5hcHBseU9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIFBvbGx5IGlzIHVzZWQgZm9yIHRyYW5zaWVudCBleGNlcHRpb24gaGFuZGxpbmdcbiAgICAgICAgICAgIC8vIFdlIHdpbGwgbWFrZSB0aGlzIG1vcmUgc29waGlzdGljYXRlZFxuICAgICAgICAgICAgcG9sbHkoKVxuICAgICAgICAgICAgICAgIC5yZXRyeShzZWxmLm1heFJldHJpZXMpXG4gICAgICAgICAgICAgICAgLmV4ZWN1dGVGb3JQcm9taXNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYucHJvY2VzcyhwYXJhbXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIuZGF0YSAmJiBlcnIuZGF0YS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBjb25maXJtKFwiWW91IGFyZSBub3QgYXV0aG9yaXplZCB0byBwZXJmb3JtIHRoaXMgYWN0aW9uLiAgSXQncyBwb3NzaWJsZSB5b3VyIHNlc3Npb24gaGFzIHRpbWVkIG91dC4gIFdvdWxkIHlvdSBsaWtlIHRvIHRyeSBsb2dnaW5nIGJhY2sgaW4/XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJUaGVyZSB3YXMgYW4gZXJyb3IhXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgfTtcbiAgICBcbiAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0cmVhbHQucmVzdCcsIFtdKVxuICAgICAgICAgICAgLnNlcnZpY2UoJ3Jlc3RTZXJ2aWNlJywgWyckcScsICckaHR0cCcsIHJlc3RTZXJ2aWNlXSk7XG5cbn0pKCk7IiwiLypcbiBlbGl4aXIoKG1peCkgPT4ge1xuIG1peC53ZWJwYWNrKCcuLi8uLi90aGVtZXMvZ2V0cmVhbHQvYXNzZXRzL2pzL2FwcC5qcycsICcuL3B1YmxpYy90aGVtZXMvZ2V0cmVhbHQvanMnKTtcbiB9KTtcbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGxpc3RpbmdTZXJ2aWNlID0gZnVuY3Rpb24gKCRxLCAkaHR0cCwgcmVzdFNlcnZpY2UpIHtcblxuICAgICAgICB0aGlzLmluZGV4ID0gZnVuY3Rpb24gKGFkdmFuY2VkU2VhcmNoLCBrZXl3b3JkcywgbWluUHJpY2UsIG1heFByaWNlLCBiZWRzLCBiYXRocywgaW5jbHVkZVJlc2lkZW50aWFsLCBpbmNsdWRlTGFuZCwgaW5jbHVkZUNvbW1lcmNpYWwpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgJ2tleXdvcmRzJzoga2V5d29yZHNcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChhZHZhbmNlZFNlYXJjaCkge1xuICAgICAgICAgICAgICAgIGlmIChhZHZhbmNlZFNlYXJjaCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYWR2YW5jZWRTZWFyY2ggPSBhZHZhbmNlZFNlYXJjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1pblByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5taW5QcmljZSA9IG1pblByaWNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWF4UHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLm1heFByaWNlID0gbWF4UHJpY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlUmVzaWRlbnRpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmluY2x1ZGVSZXNpZGVudGlhbCA9IGluY2x1ZGVSZXNpZGVudGlhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVMYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pbmNsdWRlTGFuZCA9IGluY2x1ZGVMYW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUNvbW1lcmNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmluY2x1ZGVDb21tZXJjaWFsID0gaW5jbHVkZUNvbW1lcmNpYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiZWRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5iZWRzID0gYmVkcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5iYXRocyA9IGJhdGhzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9saXN0aW5ncycsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIHRocm93IGRhdGE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cblxuICAgICAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvbGlzdGluZ3MvJyArIGlkXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2VuZExlYWQgPSBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9saXN0aW5ncy9zZW5kTGVhZCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBpbmZvXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcG9zdHNTZXJ2aWNlID0gZnVuY3Rpb24gKCRxLCAkaHR0cCwgcmVzdFNlcnZpY2UpIHtcblxuICAgICAgICB0aGlzLnN0b3JlID0gZnVuY3Rpb24gKGRldGFpbHMpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvcG9zdHMnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogZGV0YWlsc1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmVkaXQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvcG9zdHMvJyArIGlkXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIHNlYXJjaFdpZGdldCA9IGZ1bmN0aW9uICgkc2NvcGUsIGV2ZW50RmFjdG9yeSwgbGlzdGluZ1NlcnZpY2UpIHtcblxuICAgICAgICAvLyBJbnB1dCB2YXJpYWJsZXNcbiAgICAgICAgJHNjb3BlLmFkdmFuY2VkU2VhcmNoID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5rZXl3b3JkcyA9IG51bGw7XG4gICAgICAgICRzY29wZS5taW5QcmljZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5tYXhQcmljZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5iZWRzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmJhdGhzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmluY2x1ZGVSZXNpZGVudGlhbCA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbmNsdWRlTGFuZCA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbmNsdWRlQ29tbWVyY2lhbCA9IHRydWU7XG5cbiAgICAgICAgJHNjb3BlLmxpc3RpbmdzID0gbnVsbDtcblxuICAgICAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5hZHZhbmNlZFNlYXJjaCB8fCAkc2NvcGUua2V5d29yZHMpIHtcbiAgICAgICAgICAgICAgICBldmVudEZhY3Rvcnkuc2VhcmNoaW5nTGlzdGluZ3ModHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGlzdGluZ1NlcnZpY2UuaW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWR2YW5jZWRTZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUua2V5d29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWluUHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF4UHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmVkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iYXRocyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbmNsdWRlUmVzaWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5jbHVkZUxhbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5jbHVkZUNvbW1lcmNpYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBldmVudEZhY3Rvcnkuc2VhcmNoaW5nTGlzdGluZ3MoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBldmVudEZhY3RvcnkucmVmcmVzaExpc3RpbmdzKCRzY29wZS5saXN0aW5ncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBsaXN0aW5nc1dpZGdldCA9IGZ1bmN0aW9uICgkc2NvcGUsIGV2ZW50RmFjdG9yeSkge1xuICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBudWxsO1xuXG4gICAgICAgIGV2ZW50RmFjdG9yeS5vblNlYXJjaGluZ0xpc3RpbmdzKCRzY29wZSwgZnVuY3Rpb24gKHNlYXJjaGluZykge1xuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaGluZyA9IHNlYXJjaGluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXZlbnRGYWN0b3J5Lm9uUmVmcmVzaExpc3RpbmdzKCRzY29wZSwgZnVuY3Rpb24gKGxpc3RpbmdzKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBsaXN0aW5ncztcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBldmVudEZhY3RvcnkgPSBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xuICAgICAgICB2YXIgUkVGUkVTSF9MSVNUSU5HUyA9ICdyZWZyZXNoTGlzdGluZ3MnO1xuICAgICAgICB2YXIgcmVmcmVzaExpc3RpbmdzID0gZnVuY3Rpb24gKGxpc3RpbmdzKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoUkVGUkVTSF9MSVNUSU5HUywgbGlzdGluZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25SZWZyZXNoTGlzdGluZ3MgPSBmdW5jdGlvbiAoJHNjb3BlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKFJFRlJFU0hfTElTVElOR1MsIGZ1bmN0aW9uIChldmVudCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIobWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgU0VBUkNISU5HX0xJU1RJTkdTID0gJ3NlYXJjaGluZ0xpc3RpbmdzJztcbiAgICAgICAgdmFyIHNlYXJjaGluZ0xpc3RpbmdzID0gZnVuY3Rpb24gKHNlYXJjaGluZykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFNFQVJDSElOR19MSVNUSU5HUywgc2VhcmNoaW5nKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uU2VhcmNoaW5nTGlzdGluZ3MgPSBmdW5jdGlvbiAoJHNjb3BlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKFNFQVJDSElOR19MSVNUSU5HUywgZnVuY3Rpb24gKGV2ZW50LCBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZnJlc2hMaXN0aW5nczogcmVmcmVzaExpc3RpbmdzLFxuICAgICAgICAgICAgb25SZWZyZXNoTGlzdGluZ3M6IG9uUmVmcmVzaExpc3RpbmdzLFxuICAgICAgICAgICAgc2VhcmNoaW5nTGlzdGluZ3M6IHNlYXJjaGluZ0xpc3RpbmdzLFxuICAgICAgICAgICAgb25TZWFyY2hpbmdMaXN0aW5nczogb25TZWFyY2hpbmdMaXN0aW5nc1xuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIHZhciBsaXN0aW5nRGV0YWlscyA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgbGlzdGluZ1NlcnZpY2UpIHtcblxuICAgICAgICAkc2NvcGUubGlzdGluZ1NvdXJjZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5saXN0aW5nVHlwZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5saXN0aW5nSUQgPSBudWxsO1xuICAgICAgICAkc2NvcGUuYWRkcmVzcyA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLmluaXRNYXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpO1xuXG4gICAgICAgICAgICBpZiAoZ2VvY29kZXIpIHtcbiAgICAgICAgICAgICAgICBnZW9jb2Rlci5nZW9jb2RlKHsnYWRkcmVzcyc6ICRzY29wZS5hZGRyZXNzfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuWkVST19SRVNVTFRTKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwQ2FudmFzLCBtYXBPcHRpb25zKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogbWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnL2Fzc2V0cy90aGVtZXMvZ2V0cmVhbHQvaW1hZ2VzL21hcmtlci5wbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uc0xpbmsgPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL21hcHMvZGlyL2N1cnJlbnQrcG9zaXRpb24vJyArIGVuY29kZVVSSSgkc2NvcGUuYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0cmVldFZpZXdMaW5rID0gJ2h0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwcz9xPSZsYXllcj1jJmNibGw9JyArIHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkgKyAnLCcgKyByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRTdHJpbmcgPSAnPGRpdiBjbGFzcz1cImluZm8td2luZG93XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGg1PjxpIGNsYXNzPVwiZmEgZmEtbWFwLW1hcmtlclwiPjwvaT4gJyArIHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3MgKyAnPC9oNT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5mby1jb250ZW50XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJmYSBmYS1jYXJcIj48L2k+OiA8YSBocmVmPVwiJyArIGRpcmVjdGlvbnNMaW5rICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPkdldCBEaXJlY3Rpb25zPC9hPjxiciAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtc3RyZWV0LXZpZXdcIj48L2k+OiA8YSBocmVmPVwiJyArIHN0cmVldFZpZXdMaW5rICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlN0cmVldCBWaWV3PC9hPjxiciAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiA0MDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVzID0gW3tcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmVcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0XCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvZmZcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcIm9uXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvblwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwic3R5bGVyc1wiOiBbe1wiY29sb3JcIjogXCIjODRhZmEzXCJ9LCB7XCJsaWdodG5lc3NcIjogNTJ9XX0sIHtcInN0eWxlcnNcIjogW3tcInNhdHVyYXRpb25cIjogLTE3fSwge1wiZ2FtbWFcIjogMC4zNn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0LmxpbmVcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbe1wiY29sb3JcIjogXCIjM2Y1MThjXCJ9XX1dO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiTm8gcmVzdWx0cyBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJHZW9jb2RlIHdhcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb246IFwiICsgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmluaXRTbGlkZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVGhlIHNsaWRlciBiZWluZyBzeW5jZWQgbXVzdCBiZSBpbml0aWFsaXplZCBmaXJzdFxuICAgICAgICAgICAgJCgnI2Nhcm91c2VsJykuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpdGVtV2lkdGg6IDIxMCxcbiAgICAgICAgICAgICAgICBpdGVtTWFyZ2luOiA1LFxuICAgICAgICAgICAgICAgIHNtb290aEhlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhc05hdkZvcjogJyNzbGlkZXInXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI3NsaWRlcicpLmZsZXhzbGlkZXIoe1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc21vb3RoSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN5bmM6IFwiI2Nhcm91c2VsXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmNvbnRhY3RBZ2VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udGFjdEFnZW50Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0QWdlbnRNb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbnRyb2xsZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmZvID0gcmVzdWx0cy5jb250YWN0SW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8gJiYgKGluZm8ubmFtZSB8fCBpbmZvLnBob25lIHx8IGluZm8uZW1haWwgfHwgaW5mby5tZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGlzdGluZ1NvdXJjZSA9ICRzY29wZS5saXN0aW5nU291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGlzdGluZ1R5cGUgPSAkc2NvcGUubGlzdGluZ1R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5saXN0aW5nSUQgPSAkc2NvcGUubGlzdGluZ0lEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmdTZXJ2aWNlLnNlbmRMZWFkKGluZm8pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtZXNzYWdlQ29uZmlybWF0aW9uLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lc3NhZ2VDb25maXJtYXRpb25Nb2RhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhTGFiZWxsZWRCeTogJ21vZGFsLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZGF0YS5zdWNjZXNzID8gXCJNZXNzYWdlIFNlbnQhXCIgOiBcIk9vcHMhIE91ciBtZXNzYWdpbmcgaXMgZG93biByaWdodCBub3cuICBUcnkgY29udGFjdGluZyB1cyBkaXJlY3RseSBwbGVhc2UhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNtaXNzZWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3RhcnQgPSBmdW5jdGlvbiAobGlzdGluZ1NvdXJjZSwgbGlzdGluZ1R5cGUsIGxpc3RpbmdJRCwgYWRkcmVzcykge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdTb3VyY2UgPSBsaXN0aW5nU291cmNlO1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdUeXBlID0gbGlzdGluZ1R5cGU7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ0lEID0gbGlzdGluZ0lEO1xuICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgJHNjb3BlLmluaXRNYXApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkc2NvcGUuaW5pdFNsaWRlcnMoKTtcbiAgICAgICAgfTtcblxuICAgIH07XG4gICAgXG4gICAgdmFyIGNvbnRhY3RBZ2VudE1vZGFsID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHBhcmVudENvbnRyb2xsZXIpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSBudWxsO1xuICAgICAgICAkc2NvcGUucGhvbmUgPSBudWxsO1xuICAgICAgICAkc2NvcGUuZW1haWwgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWVzc2FnZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbnRhY3RJbmZvID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5uYW1lLFxuICAgICAgICAgICAgICAgIHBob25lOiAkc2NvcGUucGhvbmUsXG4gICAgICAgICAgICAgICAgZW1haWw6ICRzY29wZS5lbWFpbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAkc2NvcGUubWVzc2FnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoe1xuICAgICAgICAgICAgICAgIGNvbnRhY3RJbmZvOiBjb250YWN0SW5mb1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgdmFyIG1lc3NhZ2VDb25maXJtYXRpb25Nb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBtZXNzYWdlKSB7XG4gICAgICAgICRzY29wZS5tZXNzYWdlID0gbWVzc2FnZTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgdmFyIGljb25Nb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XG4gICAgICAgICRzY29wZS5pY29ucyA9IFsnZ2xhc3MnLCAnbXVzaWMnLCAnc2VhcmNoJywgJ2VudmVsb3BlLW8nLCAnaGVhcnQnLCAnc3RhcicsICdzdGFyLW8nLCAndXNlcicsICdmaWxtJywgJ3RoLWxhcmdlJywgJ3RoJywgJ3RoLWxpc3QnLCAnY2hlY2snLCAndGltZXMnLCAnc2VhcmNoLXBsdXMnLCAnc2VhcmNoLW1pbnVzJywgJ3Bvd2VyLW9mZicsICdzaWduYWwnLCAnY29nJywgJ3RyYXNoLW8nLCAnaG9tZScsICdmaWxlLW8nLCAnY2xvY2stbycsICdyb2FkJywgJ2Rvd25sb2FkJywgJ2Fycm93LWNpcmNsZS1vLWRvd24nLCAnYXJyb3ctY2lyY2xlLW8tdXAnLCAnaW5ib3gnLCAncGxheS1jaXJjbGUtbycsICdyZXBlYXQnLCAncmVmcmVzaCcsICdsaXN0LWFsdCcsICdsb2NrJywgJ2ZsYWcnLCAnaGVhZHBob25lcycsICd2b2x1bWUtb2ZmJywgJ3ZvbHVtZS1kb3duJywgJ3ZvbHVtZS11cCcsICdxcmNvZGUnLCAnYmFyY29kZScsICd0YWcnLCAndGFncycsICdib29rJywgJ2Jvb2ttYXJrJywgJ3ByaW50JywgJ2NhbWVyYScsICdmb250JywgJ2JvbGQnLCAnaXRhbGljJywgJ3RleHQtaGVpZ2h0JywgJ3RleHQtd2lkdGgnLCAnYWxpZ24tbGVmdCcsICdhbGlnbi1jZW50ZXInLCAnYWxpZ24tcmlnaHQnLCAnYWxpZ24tanVzdGlmeScsICdsaXN0JywgJ291dGRlbnQnLCAnaW5kZW50JywgJ3ZpZGVvLWNhbWVyYScsICdwaWN0dXJlLW8nLCAncGVuY2lsJywgJ21hcC1tYXJrZXInLCAnYWRqdXN0JywgJ3RpbnQnLCAncGVuY2lsLXNxdWFyZS1vJywgJ3NoYXJlLXNxdWFyZS1vJywgJ2NoZWNrLXNxdWFyZS1vJywgJ2Fycm93cycsICdzdGVwLWJhY2t3YXJkJywgJ2Zhc3QtYmFja3dhcmQnLCAnYmFja3dhcmQnLCAncGxheScsICdwYXVzZScsICdzdG9wJywgJ2ZvcndhcmQnLCAnZmFzdC1mb3J3YXJkJywgJ3N0ZXAtZm9yd2FyZCcsICdlamVjdCcsICdjaGV2cm9uLWxlZnQnLCAnY2hldnJvbi1yaWdodCcsICdwbHVzLWNpcmNsZScsICdtaW51cy1jaXJjbGUnLCAndGltZXMtY2lyY2xlJywgJ2NoZWNrLWNpcmNsZScsICdxdWVzdGlvbi1jaXJjbGUnLCAnaW5mby1jaXJjbGUnLCAnY3Jvc3NoYWlycycsICd0aW1lcy1jaXJjbGUtbycsICdjaGVjay1jaXJjbGUtbycsICdiYW4nLCAnYXJyb3ctbGVmdCcsICdhcnJvdy1yaWdodCcsICdhcnJvdy11cCcsICdhcnJvdy1kb3duJywgJ3NoYXJlJywgJ2V4cGFuZCcsICdjb21wcmVzcycsICdwbHVzJywgJ21pbnVzJywgJ2FzdGVyaXNrJywgJ2V4Y2xhbWF0aW9uLWNpcmNsZScsICdnaWZ0JywgJ2xlYWYnLCAnZmlyZScsICdleWUnLCAnZXllLXNsYXNoJywgJ2V4Y2xhbWF0aW9uLXRyaWFuZ2xlJywgJ3BsYW5lJywgJ2NhbGVuZGFyJywgJ3JhbmRvbScsICdjb21tZW50JywgJ21hZ25ldCcsICdjaGV2cm9uLXVwJywgJ2NoZXZyb24tZG93bicsICdyZXR3ZWV0JywgJ3Nob3BwaW5nLWNhcnQnLCAnZm9sZGVyJywgJ2ZvbGRlci1vcGVuJywgJ2Fycm93cy12JywgJ2Fycm93cy1oJywgJ2Jhci1jaGFydCcsICd0d2l0dGVyLXNxdWFyZScsICdmYWNlYm9vay1zcXVhcmUnLCAnY2FtZXJhLXJldHJvJywgJ2tleScsICdjb2dzJywgJ2NvbW1lbnRzJywgJ3RodW1icy1vLXVwJywgJ3RodW1icy1vLWRvd24nLCAnc3Rhci1oYWxmJywgJ2hlYXJ0LW8nLCAnc2lnbi1vdXQnLCAnbGlua2VkaW4tc3F1YXJlJywgJ3RodW1iLXRhY2snLCAnZXh0ZXJuYWwtbGluaycsICdzaWduLWluJywgJ3Ryb3BoeScsICdnaXRodWItc3F1YXJlJywgJ3VwbG9hZCcsICdsZW1vbi1vJywgJ3Bob25lJywgJ3NxdWFyZS1vJywgJ2Jvb2ttYXJrLW8nLCAncGhvbmUtc3F1YXJlJywgJ3R3aXR0ZXInLCAnZmFjZWJvb2snLCAnZ2l0aHViJywgJ3VubG9jaycsICdjcmVkaXQtY2FyZCcsICdyc3MnLCAnaGRkLW8nLCAnYnVsbGhvcm4nLCAnYmVsbCcsICdjZXJ0aWZpY2F0ZScsICdoYW5kLW8tcmlnaHQnLCAnaGFuZC1vLWxlZnQnLCAnaGFuZC1vLXVwJywgJ2hhbmQtby1kb3duJywgJ2Fycm93LWNpcmNsZS1sZWZ0JywgJ2Fycm93LWNpcmNsZS1yaWdodCcsICdhcnJvdy1jaXJjbGUtdXAnLCAnYXJyb3ctY2lyY2xlLWRvd24nLCAnZ2xvYmUnLCAnd3JlbmNoJywgJ3Rhc2tzJywgJ2ZpbHRlcicsICdicmllZmNhc2UnLCAnYXJyb3dzLWFsdCcsICd1c2VycycsICdsaW5rJywgJ2Nsb3VkJywgJ2ZsYXNrJywgJ3NjaXNzb3JzJywgJ2ZpbGVzLW8nLCAncGFwZXJjbGlwJywgJ2Zsb3BweS1vJywgJ3NxdWFyZScsICdiYXJzJywgJ2xpc3QtdWwnLCAnbGlzdC1vbCcsICdzdHJpa2V0aHJvdWdoJywgJ3VuZGVybGluZScsICd0YWJsZScsICdtYWdpYycsICd0cnVjaycsICdwaW50ZXJlc3QnLCAncGludGVyZXN0LXNxdWFyZScsICdnb29nbGUtcGx1cy1zcXVhcmUnLCAnZ29vZ2xlLXBsdXMnLCAnbW9uZXknLCAnY2FyZXQtZG93bicsICdjYXJldC11cCcsICdjYXJldC1sZWZ0JywgJ2NhcmV0LXJpZ2h0JywgJ2NvbHVtbnMnLCAnc29ydCcsICdzb3J0LWRlc2MnLCAnc29ydC1hc2MnLCAnZW52ZWxvcGUnLCAnbGlua2VkaW4nLCAndW5kbycsICdnYXZlbCcsICd0YWNob21ldGVyJywgJ2NvbW1lbnQtbycsICdjb21tZW50cy1vJywgJ2JvbHQnLCAnc2l0ZW1hcCcsICd1bWJyZWxsYScsICdjbGlwYm9hcmQnLCAnbGlnaHRidWxiLW8nLCAnZXhjaGFuZ2UnLCAnY2xvdWQtZG93bmxvYWQnLCAnY2xvdWQtdXBsb2FkJywgJ3VzZXItbWQnLCAnc3RldGhvc2NvcGUnLCAnc3VpdGNhc2UnLCAnYmVsbC1vJywgJ2NvZmZlZScsICdjdXRsZXJ5JywgJ2ZpbGUtdGV4dC1vJywgJ2J1aWxkaW5nLW8nLCAnaG9zcGl0YWwtbycsICdhbWJ1bGFuY2UnLCAnbWVka2l0JywgJ2ZpZ2h0ZXItamV0JywgJ2JlZXInLCAnaC1zcXVhcmUnLCAncGx1cy1zcXVhcmUnLCAnYW5nbGUtZG91YmxlLWxlZnQnLCAnYW5nbGUtZG91YmxlLXJpZ2h0JywgJ2FuZ2xlLWRvdWJsZS11cCcsICdhbmdsZS1kb3VibGUtZG93bicsICdhbmdsZS1sZWZ0JywgJ2FuZ2xlLXJpZ2h0JywgJ2FuZ2xlLXVwJywgJ2FuZ2xlLWRvd24nLCAnZGVza3RvcCcsICdsYXB0b3AnLCAndGFibGV0JywgJ21vYmlsZScsICdjaXJjbGUtbycsICdxdW90ZS1sZWZ0JywgJ3F1b3RlLXJpZ2h0JywgJ3NwaW5uZXInLCAnY2lyY2xlJywgJ3JlcGx5JywgJ2dpdGh1Yi1hbHQnLCAnZm9sZGVyLW8nLCAnZm9sZGVyLW9wZW4tbycsICdzbWlsZS1vJywgJ2Zyb3duLW8nLCAnbWVoLW8nLCAnZ2FtZXBhZCcsICdrZXlib2FyZC1vJywgJ2ZsYWctbycsICdmbGFnLWNoZWNrZXJlZCcsICd0ZXJtaW5hbCcsICdjb2RlJywgJ3JlcGx5LWFsbCcsICdzdGFyLWhhbGYtbycsICdsb2NhdGlvbi1hcnJvdycsICdjcm9wJywgJ2NvZGUtZm9yaycsICdjaGFpbi1icm9rZW4nLCAncXVlc3Rpb24nLCAnaW5mbycsICdleGNsYW1hdGlvbicsICdzdXBlcnNjcmlwdCcsICdzdWJzY3JpcHQnLCAnZXJhc2VyJywgJ3B1enpsZS1waWVjZScsICdtaWNyb3Bob25lJywgJ21pY3JvcGhvbmUtc2xhc2gnLCAnc2hpZWxkJywgJ2NhbGVuZGFyLW8nLCAnZmlyZS1leHRpbmd1aXNoZXInLCAncm9ja2V0JywgJ21heGNkbicsICdjaGV2cm9uLWNpcmNsZS1sZWZ0JywgJ2NoZXZyb24tY2lyY2xlLXJpZ2h0JywgJ2NoZXZyb24tY2lyY2xlLXVwJywgJ2NoZXZyb24tY2lyY2xlLWRvd24nLCAnaHRtbDUnLCAnY3NzMycsICdhbmNob3InLCAndW5sb2NrLWFsdCcsICdidWxsc2V5ZScsICdlbGxpcHNpcy1oJywgJ2VsbGlwc2lzLXYnLCAncnNzLXNxdWFyZScsICdwbGF5LWNpcmNsZScsICd0aWNrZXQnLCAnbWludXMtc3F1YXJlJywgJ21pbnVzLXNxdWFyZS1vJywgJ2xldmVsLXVwJywgJ2xldmVsLWRvd24nLCAnY2hlY2stc3F1YXJlJywgJ3BlbmNpbC1zcXVhcmUnLCAnZXh0ZXJuYWwtbGluay1zcXVhcmUnLCAnc2hhcmUtc3F1YXJlJywgJ2NvbXBhc3MnLCAnY2FyZXQtc3F1YXJlLW8tZG93bicsICdjYXJldC1zcXVhcmUtby11cCcsICdjYXJldC1zcXVhcmUtby1yaWdodCcsICdldXInLCAnZ2JwJywgJ3VzZCcsICdpbnInLCAnanB5JywgJ3J1YicsICdrcncnLCAnYnRjJywgJ2ZpbGUnLCAnZmlsZS10ZXh0JywgJ3NvcnQtYWxwaGEtYXNjJywgJ3NvcnQtYWxwaGEtZGVzYycsICdzb3J0LWFtb3VudC1hc2MnLCAnc29ydC1hbW91bnQtZGVzYycsICdzb3J0LW51bWVyaWMtYXNjJywgJ3NvcnQtbnVtZXJpYy1kZXNjJywgJ3RodW1icy11cCcsICd0aHVtYnMtZG93bicsICd5b3V0dWJlLXNxdWFyZScsICd5b3V0dWJlJywgJ3hpbmcnLCAneGluZy1zcXVhcmUnLCAneW91dHViZS1wbGF5JywgJ2Ryb3Bib3gnLCAnc3RhY2stb3ZlcmZsb3cnLCAnaW5zdGFncmFtJywgJ2ZsaWNrcicsICdhZG4nLCAnYml0YnVja2V0JywgJ2JpdGJ1Y2tldC1zcXVhcmUnLCAndHVtYmxyJywgJ3R1bWJsci1zcXVhcmUnLCAnbG9uZy1hcnJvdy1kb3duJywgJ2xvbmctYXJyb3ctdXAnLCAnbG9uZy1hcnJvdy1sZWZ0JywgJ2xvbmctYXJyb3ctcmlnaHQnLCAnYXBwbGUnLCAnd2luZG93cycsICdhbmRyb2lkJywgJ2xpbnV4JywgJ2RyaWJiYmxlJywgJ3NreXBlJywgJ2ZvdXJzcXVhcmUnLCAndHJlbGxvJywgJ2ZlbWFsZScsICdtYWxlJywgJ2dyYXRpcGF5JywgJ3N1bi1vJywgJ21vb24tbycsICdhcmNoaXZlJywgJ2J1ZycsICd2aycsICd3ZWlibycsICdyZW5yZW4nLCAncGFnZWxpbmVzJywgJ3N0YWNrLWV4Y2hhbmdlJywgJ2Fycm93LWNpcmNsZS1vLXJpZ2h0JywgJ2Fycm93LWNpcmNsZS1vLWxlZnQnLCAnY2FyZXQtc3F1YXJlLW8tbGVmdCcsICdkb3QtY2lyY2xlLW8nLCAnd2hlZWxjaGFpcicsICd2aW1lby1zcXVhcmUnLCAndHJ5JywgJ3BsdXMtc3F1YXJlLW8nLCAnc3BhY2Utc2h1dHRsZScsICdzbGFjaycsICdlbnZlbG9wZS1zcXVhcmUnLCAnd29yZHByZXNzJywgJ29wZW5pZCcsICd1bml2ZXJzaXR5JywgJ2dyYWR1YXRpb24tY2FwJywgJ3lhaG9vJywgJ2dvb2dsZScsICdyZWRkaXQnLCAncmVkZGl0LXNxdWFyZScsICdzdHVtYmxldXBvbi1jaXJjbGUnLCAnc3R1bWJsZXVwb24nLCAnZGVsaWNpb3VzJywgJ2RpZ2cnLCAncGllZC1waXBlci1wcCcsICdwaWVkLXBpcGVyLWFsdCcsICdkcnVwYWwnLCAnam9vbWxhJywgJ2xhbmd1YWdlJywgJ2ZheCcsICdidWlsZGluZycsICdjaGlsZCcsICdwYXcnLCAnc3Bvb24nLCAnY3ViZScsICdjdWJlcycsICdiZWhhbmNlJywgJ2JlaGFuY2Utc3F1YXJlJywgJ3N0ZWFtJywgJ3N0ZWFtLXNxdWFyZScsICdyZWN5Y2xlJywgJ2NhcicsICd0YXhpJywgJ3RyZWUnLCAnc3BvdGlmeScsICdkZXZpYW50YXJ0JywgJ3NvdW5kY2xvdWQnLCAnZGF0YWJhc2UnLCAnZmlsZS1wZGYtbycsICdmaWxlLXdvcmQtbycsICdmaWxlLWV4Y2VsLW8nLCAnZmlsZS1wb3dlcnBvaW50LW8nLCAnZmlsZS1pbWFnZS1vJywgJ2ZpbGUtYXJjaGl2ZS1vJywgJ2ZpbGUtYXVkaW8tbycsICdmaWxlLXZpZGVvLW8nLCAnZmlsZS1jb2RlLW8nLCAndmluZScsICdjb2RlcGVuJywgJ2pzZmlkZGxlJywgJ2xpZmUtcmluZycsICdjaXJjbGUtby1ub3RjaCcsICdyZWJlbCcsICdlbXBpcmUnLCAnZ2l0LXNxdWFyZScsICdnaXQnLCAnaGFja2VyLW5ld3MnLCAndGVuY2VudC13ZWlibycsICdxcScsICd3ZWl4aW4nLCAncGFwZXItcGxhbmUnLCAncGFwZXItcGxhbmUtbycsICdoaXN0b3J5JywgJ2NpcmNsZS10aGluJywgJ2hlYWRlcicsICdwYXJhZ3JhcGgnLCAnc2xpZGVycycsICdzaGFyZS1hbHQnLCAnc2hhcmUtYWx0LXNxdWFyZScsICdib21iJywgJ2Z1dGJvbC1vJywgJ3R0eScsICdiaW5vY3VsYXJzJywgJ3BsdWcnLCAnc2xpZGVzaGFyZScsICd0d2l0Y2gnLCAneWVscCcsICduZXdzcGFwZXItbycsICd3aWZpJywgJ2NhbGN1bGF0b3InLCAncGF5cGFsJywgJ2dvb2dsZS13YWxsZXQnLCAnY2MtdmlzYScsICdjYy1tYXN0ZXJjYXJkJywgJ2NjLWRpc2NvdmVyJywgJ2NjLWFtZXgnLCAnY2MtcGF5cGFsJywgJ2NjLXN0cmlwZScsICdiZWxsLXNsYXNoJywgJ2JlbGwtc2xhc2gtbycsICd0cmFzaCcsICdjb3B5cmlnaHQnLCAnYXQnLCAnZXllZHJvcHBlcicsICdwYWludC1icnVzaCcsICdiaXJ0aGRheS1jYWtlJywgJ2FyZWEtY2hhcnQnLCAncGllLWNoYXJ0JywgJ2xpbmUtY2hhcnQnLCAnbGFzdGZtJywgJ2xhc3RmbS1zcXVhcmUnLCAndG9nZ2xlLW9mZicsICd0b2dnbGUtb24nLCAnYmljeWNsZScsICdidXMnLCAnaW94aG9zdCcsICdhbmdlbGxpc3QnLCAnY2MnLCAnaWxzJywgJ21lYW5wYXRoJywgJ2J1eXNlbGxhZHMnLCAnY29ubmVjdGRldmVsb3AnLCAnZGFzaGN1YmUnLCAnZm9ydW1iZWUnLCAnbGVhbnB1YicsICdzZWxsc3knLCAnc2hpcnRzaW5idWxrJywgJ3NpbXBseWJ1aWx0JywgJ3NreWF0bGFzJywgJ2NhcnQtcGx1cycsICdjYXJ0LWFycm93LWRvd24nLCAnZGlhbW9uZCcsICdzaGlwJywgJ3VzZXItc2VjcmV0JywgJ21vdG9yY3ljbGUnLCAnc3RyZWV0LXZpZXcnLCAnaGVhcnRiZWF0JywgJ3ZlbnVzJywgJ21hcnMnLCAnbWVyY3VyeScsICd0cmFuc2dlbmRlcicsICd0cmFuc2dlbmRlci1hbHQnLCAndmVudXMtZG91YmxlJywgJ21hcnMtZG91YmxlJywgJ3ZlbnVzLW1hcnMnLCAnbWFycy1zdHJva2UnLCAnbWFycy1zdHJva2UtdicsICdtYXJzLXN0cm9rZS1oJywgJ25ldXRlcicsICdnZW5kZXJsZXNzJywgJ2ZhY2Vib29rLW9mZmljaWFsJywgJ3BpbnRlcmVzdC1wJywgJ3doYXRzYXBwJywgJ3NlcnZlcicsICd1c2VyLXBsdXMnLCAndXNlci10aW1lcycsICdiZWQnLCAndmlhY29pbicsICd0cmFpbicsICdzdWJ3YXknLCAnbWVkaXVtJywgJ3ktY29tYmluYXRvcicsICdvcHRpbi1tb25zdGVyJywgJ29wZW5jYXJ0JywgJ2V4cGVkaXRlZHNzbCcsICdiYXR0ZXJ5LWZ1bGwnLCAnYmF0dGVyeS10aHJlZS1xdWFydGVycycsICdiYXR0ZXJ5LWhhbGYnLCAnYmF0dGVyeS1xdWFydGVyJywgJ2JhdHRlcnktZW1wdHknLCAnbW91c2UtcG9pbnRlcicsICdpLWN1cnNvcicsICdvYmplY3QtZ3JvdXAnLCAnb2JqZWN0LXVuZ3JvdXAnLCAnc3RpY2t5LW5vdGUnLCAnc3RpY2t5LW5vdGUtbycsICdjYy1qY2InLCAnY2MtZGluZXJzLWNsdWInLCAnY2xvbmUnLCAnYmFsYW5jZS1zY2FsZScsICdob3VyZ2xhc3MtbycsICdob3VyZ2xhc3Mtc3RhcnQnLCAnaG91cmdsYXNzLWhhbGYnLCAnaG91cmdsYXNzLWVuZCcsICdob3VyZ2xhc3MnLCAnaGFuZC1yb2NrLW8nLCAnaGFuZC1wYXBlci1vJywgJ2hhbmQtc2Npc3NvcnMtbycsICdoYW5kLWxpemFyZC1vJywgJ2hhbmQtc3BvY2stbycsICdoYW5kLXBvaW50ZXItbycsICdoYW5kLXBlYWNlLW8nLCAndHJhZGVtYXJrJywgJ3JlZ2lzdGVyZWQnLCAnY3JlYXRpdmUtY29tbW9ucycsICdnZycsICdnZy1jaXJjbGUnLCAndHJpcGFkdmlzb3InLCAnb2Rub2tsYXNzbmlraScsICdvZG5va2xhc3NuaWtpLXNxdWFyZScsICdnZXQtcG9ja2V0JywgJ3dpa2lwZWRpYS13JywgJ3NhZmFyaScsICdjaHJvbWUnLCAnZmlyZWZveCcsICdvcGVyYScsICdpbnRlcm5ldC1leHBsb3JlcicsICd0ZWxldmlzaW9uJywgJ2NvbnRhbycsICc1MDBweCcsICdhbWF6b24nLCAnY2FsZW5kYXItcGx1cy1vJywgJ2NhbGVuZGFyLW1pbnVzLW8nLCAnY2FsZW5kYXItdGltZXMtbycsICdjYWxlbmRhci1jaGVjay1vJywgJ2luZHVzdHJ5JywgJ21hcC1waW4nLCAnbWFwLXNpZ25zJywgJ21hcC1vJywgJ21hcCcsICdjb21tZW50aW5nJywgJ2NvbW1lbnRpbmctbycsICdob3V6eicsICd2aW1lbycsICdibGFjay10aWUnLCAnZm9udGljb25zJywgJ3JlZGRpdC1hbGllbicsICdlZGdlJywgJ2NyZWRpdC1jYXJkLWFsdCcsICdjb2RpZXBpZScsICdtb2R4JywgJ2ZvcnQtYXdlc29tZScsICd1c2InLCAncHJvZHVjdC1odW50JywgJ21peGNsb3VkJywgJ3NjcmliZCcsICdwYXVzZS1jaXJjbGUnLCAncGF1c2UtY2lyY2xlLW8nLCAnc3RvcC1jaXJjbGUnLCAnc3RvcC1jaXJjbGUtbycsICdzaG9wcGluZy1iYWcnLCAnc2hvcHBpbmctYmFza2V0JywgJ2hhc2h0YWcnLCAnYmx1ZXRvb3RoJywgJ2JsdWV0b290aC1iJywgJ3BlcmNlbnQnLCAnZ2l0bGFiJywgJ3dwYmVnaW5uZXInLCAnd3Bmb3JtcycsICdlbnZpcmEnLCAndW5pdmVyc2FsLWFjY2VzcycsICd3aGVlbGNoYWlyLWFsdCcsICdxdWVzdGlvbi1jaXJjbGUtbycsICdibGluZCcsICdhdWRpby1kZXNjcmlwdGlvbicsICd2b2x1bWUtY29udHJvbC1waG9uZScsICdicmFpbGxlJywgJ2Fzc2lzdGl2ZS1saXN0ZW5pbmctc3lzdGVtcycsICdhbWVyaWNhbi1zaWduLWxhbmd1YWdlLWludGVycHJldGluZycsICdkZWFmJywgJ2dsaWRlJywgJ2dsaWRlLWcnLCAnc2lnbi1sYW5ndWFnZScsICdsb3ctdmlzaW9uJywgJ3ZpYWRlbycsICd2aWFkZW8tc3F1YXJlJywgJ3NuYXBjaGF0JywgJ3NuYXBjaGF0LWdob3N0JywgJ3NuYXBjaGF0LXNxdWFyZScsICdwaWVkLXBpcGVyJywgJ2ZpcnN0LW9yZGVyJywgJ3lvYXN0JywgJ3RoZW1laXNsZScsICdnb29nbGUtcGx1cy1vZmZpY2lhbCcsICdmb250LWF3ZXNvbWUnLCAnaGFuZHNoYWtlLW8nLCAnZW52ZWxvcGUtb3BlbicsICdlbnZlbG9wZS1vcGVuLW8nLCAnbGlub2RlJywgJ2FkZHJlc3MtYm9vaycsICdhZGRyZXNzLWJvb2stbycsICdhZGRyZXNzLWNhcmQnLCAnYWRkcmVzcy1jYXJkLW8nLCAndXNlci1jaXJjbGUnLCAndXNlci1jaXJjbGUtbycsICd1c2VyLW8nLCAnaWQtYmFkZ2UnLCAnaWQtY2FyZCcsICdpZC1jYXJkLW8nLCAncXVvcmEnLCAnZnJlZS1jb2RlLWNhbXAnLCAndGVsZWdyYW0nLCAndGhlcm1vbWV0ZXItZnVsbCcsICd0aGVybW9tZXRlci10aHJlZS1xdWFydGVycycsICd0aGVybW9tZXRlci1oYWxmJywgJ3RoZXJtb21ldGVyLXF1YXJ0ZXInLCAndGhlcm1vbWV0ZXItZW1wdHknLCAnc2hvd2VyJywgJ2JhdGgnLCAncG9kY2FzdCcsICd3aW5kb3ctbWF4aW1pemUnLCAnd2luZG93LW1pbmltaXplJywgJ3dpbmRvdy1yZXN0b3JlJywgJ3dpbmRvdy1jbG9zZScsICd3aW5kb3ctY2xvc2UtbycsICdiYW5kY2FtcCcsICdncmF2JywgJ2V0c3knLCAnaW1kYicsICdyYXZlbHJ5JywgJ2VlcmNhc3QnLCAnbWljcm9jaGlwJywgJ3Nub3dmbGFrZS1vJywgJ3N1cGVycG93ZXJzJywgJ3dwZXhwbG9yZXInLCAnbWVldHVwJ107XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEljb24gPSAnZmEtc21pbGUtbyc7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEljb25UZXh0ID0gJ3NtaWxlLW8nO1xuXG4gICAgICAgICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdEljb24gPSBmdW5jdGlvbiAoaWNvbikge1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvblRleHQgPSBpY29uO1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvbiA9ICdmYS0nICsgaWNvbjtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmluc2VydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICAgICAgICBpY29uOiAkc2NvcGUuc2VsZWN0ZWRJY29uLFxuICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5zZWxlY3RlZEljb25UZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcblxuICAgIHZhciBwb3N0TW9kYWwgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgJHVpYk1vZGFsLCBwb3N0c1NlcnZpY2UsIHRhZ3MsIGlkKSB7XG4gICAgICAgICRzY29wZS5pZCA9IGlkO1xuICAgICAgICAkc2NvcGUudGl0bGUgPSBudWxsO1xuICAgICAgICAkc2NvcGUuZW50cnkgPSBudWxsO1xuICAgICAgICAkc2NvcGUudGFncyA9IHRhZ3M7XG4gICAgICAgICRzY29wZS5pY29uRGV0YWlscyA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICRzY29wZS5lbnRyeSA9ICQoJyNwb3N0TW9kYWwtZW50cnknKS5yZWRhY3RvcignY29kZS5nZXQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHBvc3REZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgIGlkOiAkc2NvcGUuaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICRzY29wZS50aXRsZSxcbiAgICAgICAgICAgICAgICBlbnRyeTogJHNjb3BlLmVudHJ5LFxuICAgICAgICAgICAgICAgIHRhZ3M6ICRzY29wZS50YWdzLFxuICAgICAgICAgICAgICAgIGljb246ICgkc2NvcGUuaWNvbkRldGFpbHMgPyAkc2NvcGUuaWNvbkRldGFpbHMuaWNvbiA6IG51bGwpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7XG4gICAgICAgICAgICAgICAgcG9zdERldGFpbHM6IHBvc3REZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgICRzY29wZS5zZWxlY3RJY29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpY29uTW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2ljb25Nb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pY29uRGV0YWlscyA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgcG9zdHNTZXJ2aWNlLmVkaXQoaWQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gKGRhdGEuZW50cnkgPyBkYXRhLmVudHJ5LnZhbHVlIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lbnRyeSAmJiAkc2NvcGUuZW50cnkubGVuZ3RoID4gNyAmJiAkc2NvcGUuZW50cnkuc3Vic3RyaW5nKDAsIDYpLnRvTG93ZXJDYXNlKCkgPT09IFwiPHA+PGkgXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5UGFydHMgPSAkc2NvcGUuZW50cnkuc3BsaXQoJzwvaT4nKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaWNvbkRldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBlbnRyeVBhcnRzWzBdLnNwbGl0KCdcIicpWzFdLnJlcGxhY2UoJ2ZhICcsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGVudHJ5UGFydHNbMF0uc3BsaXQoJ1wiJylbMV0ucmVwbGFjZSgnZmEgZmEtJywgJycpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBlbnRyeVBhcnRzWzBdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gJzxwPicgKyBlbnRyeVBhcnRzLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5pZCA9IGlkO1xuICAgICAgICAgICAgICAgICRzY29wZS50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhZ3MgPSBkYXRhLnRhZ3M7XG4gICAgICAgICAgICAgICAgJCgndGV4dGFyZWEucmVkYWN0b3InKS5yZWRhY3RvcignY29kZS5zZXQnLCAkc2NvcGUuZW50cnkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICB2YXIgaG9tZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWwsIHBvc3RzU2VydmljZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5lZGl0UG9zdCA9IGZ1bmN0aW9uICh0YWdzLCBpZCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwb3N0TW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RNb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWdzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbHMgPSByZXN1bHRzLnBvc3REZXRhaWxzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlscykgeyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHNTZXJ2aWNlLnN0b3JlKGRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzbWlzc2VkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVuZGVyZWQudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdyB0aGF0IGl0J3Mgb3BlbmVkIHJ1biByZWRhY3RvclxuICAgICAgICAgICAgICAgICAgICAkKCd0ZXh0YXJlYS5yZWRhY3RvcicpLnJlZGFjdG9yKF9yZWRhY3RvckNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2dldHJlYWx0JywgWydnZXRyZWFsdC5yZXN0JywgJ3VpLmJvb3RzdHJhcCddKVxuICAgICAgICAuZmFjdG9yeSgnZXZlbnRGYWN0b3J5JywgWyckcm9vdFNjb3BlJywgZXZlbnRGYWN0b3J5XSlcbiAgICAgICAgLnNlcnZpY2UoJ2xpc3RpbmdTZXJ2aWNlJywgWyckcScsICckaHR0cCcsICdyZXN0U2VydmljZScsIGxpc3RpbmdTZXJ2aWNlXSlcbiAgICAgICAgLnNlcnZpY2UoJ3Bvc3RzU2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCAncmVzdFNlcnZpY2UnLCBwb3N0c1NlcnZpY2VdKVxuICAgICAgICAuY29udHJvbGxlcignc2VhcmNoV2lkZ2V0JywgWyckc2NvcGUnLCAnZXZlbnRGYWN0b3J5JywgJ2xpc3RpbmdTZXJ2aWNlJywgc2VhcmNoV2lkZ2V0XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xpc3RpbmdzV2lkZ2V0JywgWyckc2NvcGUnLCAnZXZlbnRGYWN0b3J5JywgbGlzdGluZ3NXaWRnZXRdKVxuICAgICAgICAuY29udHJvbGxlcignbGlzdGluZ0RldGFpbHMnLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnbGlzdGluZ1NlcnZpY2UnLCBsaXN0aW5nRGV0YWlsc10pXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250YWN0QWdlbnRNb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3BhcmVudENvbnRyb2xsZXInLCBjb250YWN0QWdlbnRNb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdtZXNzYWdlQ29uZmlybWF0aW9uTW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdtZXNzYWdlJywgbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2ljb25Nb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgaWNvbk1vZGFsXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Bvc3RNb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdwb3N0c1NlcnZpY2UnLCAndGFncycsICdpZCcsIHBvc3RNb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdob21lQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICdwb3N0c1NlcnZpY2UnLCBob21lQ29udHJvbGxlcl0pXG4gICAgICAgIC5kaXJlY3RpdmUoJ25nRW50ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImtleWRvd24ga2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdFbnRlciwgeyAnZXZlbnQnOiBldmVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxufSkoKTtcblxuXG4iXX0=
