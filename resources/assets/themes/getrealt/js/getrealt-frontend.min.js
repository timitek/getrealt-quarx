!function(){"use strict";var e=function(e,r){var t=this;t.getOverride=function(e,r){return void 0===r?e:r},t.applyOptions=function(e){var r={maxRetries:3,enableCache:!0,method:"GET",responseType:"json"};return e&&(r.maxRetries=t.getOverride(r.maxRetries,e.maxRetries),r.enableCache=t.getOverride(r.enableCache,e.enableCache),r.method=t.getOverride(r.method,e.method),r.responseType=t.getOverride(r.responseType,e.responseType),r.headers=t.getOverride(r.headers,e.headers),r.transformRequest=t.getOverride(r.transformRequest,e.transformRequest)),"GET"===r.method?r.params=e.params:r.data=e.params,r.url=e.url,r},t.allowCaching=function(e){var r=e.enableCache;return r&&(r=!1),r},t.cacheResults=function(r,o){var a=e.defer();return t.allowCaching(r)||a.resolve(null),a.promise},t.fetchFromCache=function(r){var o=e.defer();return t.allowCaching(r)||o.resolve(null),o.promise},t.process=function(o){var a=e.defer();return t.fetchFromCache(o).then(function(e){if(e)a.resolve(e);else{var i={url:o.url,method:o.method,responseType:o.responseType,data:o.data,params:o.params};o.headers&&(i.headers=o.headers),o.transformRequest&&(i.transformRequest=o.transformRequest),r(i).then(function(e){e&&o.enableCache&&t.cacheResults(o,e.data),a.resolve(e.data)},function(e,r,t,o){a.reject({data:e,status:r,headers:t,config:o})})}}),a.promise},t.go=function(r){var o=e.defer(),a=t.applyOptions(r);return polly().retry(t.maxRetries).executeForPromise(function(){return t.process(a)}).then(function(e){o.resolve(e)},function(e){if(o.reject(e.data),e.data&&401===e.data.status){!0===confirm("You are not authorized to perform this action.  It's possible your session has timed out.  Would you like to try logging back in?")&&window.location.reload(!0)}else alert("There was an error!")}),o.promise}};angular.module("getrealt.rest",[]).service("restService",["$q","$http",e])}(),function(){var e=function(e,r,t){this.index=function(r,o,a,i,s,n,l,c,u){var d=e.defer(),p={keywords:o};return r&&(r&&(p.advancedSearch=r),a&&(p.minPrice=a),i&&(p.maxPrice=i),l&&(p.includeResidential=l),c&&(p.includeLand=c),u&&(p.includeCommercial=u),s&&(p.beds=s),n&&(p.baths=n)),t.go({url:"/getrealt/listings",method:"POST",params:p}).then(function(e){d.resolve(e.data)},function(e){throw d.reject(e.data),e}),d.promise},this.show=function(r){var o=e.defer();return t.go({url:"/getrealt/listings"+r}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.sendLead=function(r){var o=e.defer();return t.go({url:"/getrealt/listings/sendLead",method:"POST",params:r}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},r=function(e,r,t){this.store=function(r){var o=e.defer();return t.go({url:"/getrealt/posts",method:"POST",params:r}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},t=function(e,r,t){e.advancedSearch=!1,e.keywords=null,e.minPrice=null,e.maxPrice=null,e.beds=null,e.baths=null,e.includeResidential=!0,e.includeLand=!0,e.includeCommercial=!0,e.listings=null,e.search=function(){(e.advancedSearch||e.keywords)&&(r.searchingListings(!0),t.index(e.advancedSearch,e.keywords,e.minPrice,e.maxPrice,e.beds,e.baths,e.includeResidential,e.includeLand,e.includeCommercial).then(function(t){e.listings=t,r.searchingListings(!1),r.refreshListings(e.listings)}))}},o=function(e,r){e.listings=null,r.onSearchingListings(e,function(r){e.searching=r}),r.onRefreshListings(e,function(r){e.listings=r})},a=function(e){var r=function(r){e.$broadcast("refreshListings",r)},t=function(e,r){e.$on("refreshListings",function(e,t){r(t)})};return{refreshListings:r,onRefreshListings:t,searchingListings:function(r){e.$broadcast("searchingListings",r)},onSearchingListings:function(e,r){e.$on("searchingListings",function(e,t){r(t)})}}},i=function(e,r,t){e.listingSource=null,e.listingType=null,e.listingID=null,e.address=null,e.initMap=function(){var r=new google.maps.Geocoder;r&&r.geocode({address:e.address},function(r,t){if(t===google.maps.GeocoderStatus.OK&&t!==google.maps.GeocoderStatus.ZERO_RESULTS){var o=r[0].geometry.location,a=document.getElementById("map");a.style.display="block";var i={center:o,zoom:16,panControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(a,i),n=new google.maps.Marker({position:o,map:s,icon:"/assets/themes/getrealt/images/marker.png"}),l="http://www.google.com/maps/dir/current+position/"+encodeURI(e.address),c="http://maps.google.com/maps?q=&layer=c&cbll="+r[0].geometry.location.lat()+","+r[0].geometry.location.lng(),u='<div class="info-window"><h5><i class="fa fa-map-marker"></i> '+r[0].formatted_address+'</h5><div class="info-content"><p><i class="fa fa-car"></i>: <a href="'+l+'" target="_blank">Get Directions</a><br /><i class="fa fa-street-view"></i>: <a href="'+c+'" target="_blank">Street View</a><br /></p></div></div>',d=new google.maps.InfoWindow({content:u,maxWidth:400});n.addListener("click",function(){d.open(s,n)});var p=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"simplified"}]},{featureType:"landscape",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",stylers:[{color:"#84afa3"},{lightness:52}]},{stylers:[{saturation:-17},{gamma:.36}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#3f518c"}]}];s.set("styles",p)}})},e.initSliders=function(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:210,itemMargin:5,smoothHeight:!0,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,smoothHeight:!0,sync:"#carousel"})},e.contactAgent=function(){r.open({templateUrl:"contactAgent.html",controller:"contactAgentModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{parentController:function(){return e}}}).result.then(function(o){var a=o.contactInfo;a&&(a.name||a.phone||a.email||a.message)&&(a.listingSource=e.listingSource,a.listingType=e.listingType,a.listingID=e.listingID,t.sendLead(a).then(function(e){r.open({templateUrl:"messageConfirmation.html",controller:"messageConfirmationModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"sm",resolve:{message:function(){return e.success?"Message Sent!":"Oops! Our messaging is down right now.  Try contacting us directly please!"}}})}))},function(){})},e.start=function(r,t,o,a){e.listingSource=r,e.listingType=t,e.listingID=o,e.address=a,google.maps.event.addDomListener(window,"load",e.initMap),e.initSliders()}},s=function(e,r,t){e.name=null,e.phone=null,e.email=null,e.message=null,e.send=function(){var t={name:e.name,phone:e.phone,email:e.email,message:e.message};r.close({contactInfo:t})},e.cancel=function(){r.dismiss("cancel")}},n=function(e,r,t){e.message=t,e.cancel=function(){r.dismiss("cancel")}},l=function(e,r){e.icons=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","times","search-plus","search-minus","power-off","signal","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","outdent","indent","video-camera","picture-o","pencil","map-marker","adjust","tint","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart","twitter-square","facebook-square","camera-retro","key","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook","github","unlock","credit-card","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","users","link","cloud","flask","scissors","files-o","paperclip","floppy-o","square","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","sort","sort-desc","sort-asc","envelope","linkedin","undo","gavel","tachometer","comment-o","comments-o","bolt","sitemap","umbrella","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile","circle-o","quote-left","quote-right","spinner","circle","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","reply-all","star-half-o","location-arrow","crop","code-fork","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","caret-square-o-down","caret-square-o-up","caret-square-o-right","eur","gbp","usd","inr","jpy","rub","krw","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","university","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","car","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-ring","circle-o-notch","rebel","empire","git-square","git","hacker-news","tencent-weibo","qq","weixin","paper-plane","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","bed","viacoin","train","subway","medium","y-combinator","optin-monster","opencart","expeditedssl","battery-full","battery-three-quarters","battery-half","battery-quarter","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass","hand-rock-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","american-sign-language-interpreting","deaf","glide","glide-g","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-official","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer-full","thermometer-three-quarters","thermometer-half","thermometer-quarter","thermometer-empty","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"],e.selectedIcon="fa-smile-o",e.selectedIconText="smile-o",e.searchText="",e.selectIcon=function(r){e.selectedIconText=r,e.selectedIcon="fa-"+r},e.cancel=function(){r.dismiss("cancel")},e.insert=function(){r.close({icon:e.selectedIcon,text:e.selectedIconText})}},c=function(e,r,t,o){e.title=null,e.entry=null,e.tags=o,e.iconDetails=null,e.save=function(){e.entry=$("#postModal-entry").redactor("code.get");var t={title:e.title,entry:e.entry,tags:e.tags,icon:e.iconDetails?e.iconDetails.icon:null};r.close({postDetails:t})},e.selectIcon=function(){t.open({templateUrl:"iconModal.html",controller:"iconModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg"}).result.then(function(r){e.iconDetails=r},function(){})},e.cancel=function(){r.dismiss("cancel")}},u=function(e,r,t){var o=this;o.createPost=function(e){var o=r.open({templateUrl:"postModal.html",controller:"postModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{tags:function(){return e}}});o.result.then(function(e){var r=e.postDetails;r&&t.store(r).then(function(e){location.reload()})},function(){}),o.rendered.then(function(){$("textarea.redactor").redactor(_redactorConfig)},function(){})},o.start=function(){}};angular.module("getrealt",["getrealt.rest","ui.bootstrap"]).factory("eventFactory",["$rootScope",a]).service("listingService",["$q","$http","restService",e]).service("postsService",["$q","$http","restService",r]).controller("searchWidget",["$scope","eventFactory","listingService",t]).controller("listingsWidget",["$scope","eventFactory",o]).controller("listingDetails",["$scope","$uibModal","listingService",i]).controller("contactAgentModal",["$scope","$uibModalInstance","parentController",s]).controller("messageConfirmationModal",["$scope","$uibModalInstance","message",n]).controller("iconModal",["$scope","$uibModalInstance",l]).controller("postModal",["$scope","$uibModalInstance","$uibModal","tags",c]).controller("homeController",["$scope","$uibModal","postsService",u]).directive("ngEnter",function(){return function(e,r,t){r.bind("keydown keypress",function(r){13===r.which&&(e.$apply(function(){e.$eval(t.ngEnter,{event:r})}),r.preventDefault())})}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3QuanMiLCJnZXRyZWFsdC1mcm9udGVuZC5qcyJdLCJuYW1lcyI6WyJyZXN0U2VydmljZSIsIiRxIiwiJGh0dHAiLCJzZWxmIiwidGhpcyIsImdldE92ZXJyaWRlIiwiZGVmYXVsdFZhbHVlIiwib3ZlcnJpZGVWYWx1ZSIsImFwcGx5T3B0aW9ucyIsIm9wdGlvbnMiLCJwYXJhbXMiLCJtYXhSZXRyaWVzIiwiZW5hYmxlQ2FjaGUiLCJtZXRob2QiLCJyZXNwb25zZVR5cGUiLCJoZWFkZXJzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJ1cmwiLCJhbGxvd0NhY2hpbmciLCJhbGxvdyIsImNhY2hlUmVzdWx0cyIsInJlc3VsdHMiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzb2x2ZSIsInByb21pc2UiLCJmZXRjaEZyb21DYWNoZSIsInByb2Nlc3MiLCJ0aGVuIiwiaHR0cE9wdGlvbnMiLCJzdGF0dXMiLCJjb25maWciLCJyZWplY3QiLCJnbyIsInBvbGx5IiwicmV0cnkiLCJleGVjdXRlRm9yUHJvbWlzZSIsImVyciIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImFsZXJ0IiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCJsaXN0aW5nU2VydmljZSIsImluZGV4IiwiYWR2YW5jZWRTZWFyY2giLCJrZXl3b3JkcyIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJiZWRzIiwiYmF0aHMiLCJpbmNsdWRlUmVzaWRlbnRpYWwiLCJpbmNsdWRlTGFuZCIsImluY2x1ZGVDb21tZXJjaWFsIiwic2hvdyIsImlkIiwic2VuZExlYWQiLCJpbmZvIiwicG9zdHNTZXJ2aWNlIiwic3RvcmUiLCJkZXRhaWxzIiwic2VhcmNoV2lkZ2V0IiwiJHNjb3BlIiwiZXZlbnRGYWN0b3J5IiwibGlzdGluZ3MiLCJzZWFyY2giLCJzZWFyY2hpbmdMaXN0aW5ncyIsInJlZnJlc2hMaXN0aW5ncyIsImxpc3RpbmdzV2lkZ2V0Iiwib25TZWFyY2hpbmdMaXN0aW5ncyIsInNlYXJjaGluZyIsIm9uUmVmcmVzaExpc3RpbmdzIiwiJHJvb3RTY29wZSIsIiRicm9hZGNhc3QiLCJoYW5kbGVyIiwiJG9uIiwiZXZlbnQiLCJtZXNzYWdlIiwibGlzdGluZ0RldGFpbHMiLCIkdWliTW9kYWwiLCJsaXN0aW5nU291cmNlIiwibGlzdGluZ1R5cGUiLCJsaXN0aW5nSUQiLCJhZGRyZXNzIiwiaW5pdE1hcCIsImdlb2NvZGVyIiwiZ29vZ2xlIiwibWFwcyIsIkdlb2NvZGVyIiwiZ2VvY29kZSIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJaRVJPX1JFU1VMVFMiLCJnZW9tZXRyeSIsIm1hcENhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInBhbkNvbnRyb2wiLCJzY3JvbGx3aGVlbCIsIm1hcFR5cGVJZCIsIk1hcFR5cGVJZCIsIlJPQURNQVAiLCJtYXAiLCJNYXAiLCJtYXJrZXIiLCJNYXJrZXIiLCJwb3NpdGlvbiIsImljb24iLCJkaXJlY3Rpb25zTGluayIsImVuY29kZVVSSSIsInN0cmVldFZpZXdMaW5rIiwibGF0IiwibG5nIiwiY29udGVudFN0cmluZyIsImZvcm1hdHRlZF9hZGRyZXNzIiwiaW5mb3dpbmRvdyIsIkluZm9XaW5kb3ciLCJjb250ZW50IiwibWF4V2lkdGgiLCJhZGRMaXN0ZW5lciIsIm9wZW4iLCJzdHlsZXMiLCJmZWF0dXJlVHlwZSIsInN0eWxlcnMiLCJ2aXNpYmlsaXR5IiwiZWxlbWVudFR5cGUiLCJjb2xvciIsImxpZ2h0bmVzcyIsInNhdHVyYXRpb24iLCJnYW1tYSIsInNldCIsImluaXRTbGlkZXJzIiwiJCIsImZsZXhzbGlkZXIiLCJhbmltYXRpb24iLCJjb250cm9sTmF2IiwiYW5pbWF0aW9uTG9vcCIsInNsaWRlc2hvdyIsIml0ZW1XaWR0aCIsIml0ZW1NYXJnaW4iLCJzbW9vdGhIZWlnaHQiLCJhc05hdkZvciIsInN5bmMiLCJjb250YWN0QWdlbnQiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJhcmlhTGFiZWxsZWRCeSIsImFyaWFEZXNjcmliZWRCeSIsInNpemUiLCJwYXJlbnRDb250cm9sbGVyIiwicmVzdWx0IiwiY29udGFjdEluZm8iLCJuYW1lIiwicGhvbmUiLCJlbWFpbCIsInN1Y2Nlc3MiLCJzdGFydCIsImFkZERvbUxpc3RlbmVyIiwiY29udGFjdEFnZW50TW9kYWwiLCIkdWliTW9kYWxJbnN0YW5jZSIsInNlbmQiLCJjbG9zZSIsImNhbmNlbCIsImRpc21pc3MiLCJtZXNzYWdlQ29uZmlybWF0aW9uTW9kYWwiLCJpY29uTW9kYWwiLCJpY29ucyIsInNlbGVjdGVkSWNvbiIsInNlbGVjdGVkSWNvblRleHQiLCJzZWFyY2hUZXh0Iiwic2VsZWN0SWNvbiIsImluc2VydCIsInRleHQiLCJwb3N0TW9kYWwiLCJ0YWdzIiwidGl0bGUiLCJlbnRyeSIsImljb25EZXRhaWxzIiwic2F2ZSIsInJlZGFjdG9yIiwicG9zdERldGFpbHMiLCJob21lQ29udHJvbGxlciIsImNyZWF0ZVBvc3QiLCJtb2RhbEluc3RhbmNlIiwicmVuZGVyZWQiLCJfcmVkYWN0b3JDb25maWciLCJmYWN0b3J5IiwiZGlyZWN0aXZlIiwic2NvcGUiLCJlbGVtZW50IiwiYXR0cnMiLCJiaW5kIiwid2hpY2giLCIkYXBwbHkiLCIkZXZhbCIsIm5nRW50ZXIiLCJwcmV2ZW50RGVmYXVsdCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDQSxZQUdBLElBQUFBLEdBQUEsU0FBQUMsRUFBQUMsR0FFQSxHQUFBQyxHQUFBQyxJQUVBRCxHQUFBRSxZQUFBLFNBQUFDLEVBQUFDLEdBRUEsV0FEQSxLQUFBQSxFQUFBRCxFQUFBQyxHQUlBSixFQUFBSyxhQUFBLFNBQUFDLEdBQ0EsR0FBQUMsSUFDQUMsV0FBQSxFQUNBQyxhQUFBLEVBQ0FDLE9BQUEsTUFDQUMsYUFBQSxPQXFCQSxPQWxCQUwsS0FDQUMsRUFBQUMsV0FBQVIsRUFBQUUsWUFBQUssRUFBQUMsV0FBQUYsRUFB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QUEsZ0JBQUEsU0FBQSxVQUFBLFdBQUEsT0FBQSxPQUFBLGFBQUEsYUFBQSxjQUFBLFlBQUEsU0FBQSxVQUFBLE1BQUEsT0FBQSxPQUFBLFdBQUEsUUFBQSxTQUFBLE9BQUEsT0FBQSxTQUFBLGNBQUEsYUFBQSxhQUFBLGVBQUEsY0FBQSxnQkFBQSxPQUFBLFVBQUEsU0FBQSxlQUFBLFlBQUEsU0FBQSxhQUFBLFNBQUEsT0FBQSxrQkFBQSxpQkFBQSxpQkFBQSxTQUFBLGdCQUFBLGdCQUFBLFdBQUEsT0FBQSxRQUFBLE9BQUEsVUFBQSxlQUFBLGVBQUEsUUFBQSxlQUFBLGdCQUFBLGNBQUEsZUFBQSxlQUFBLGVBQUEsa0JBQUEsY0FBQSxhQUFBLGlCQUFBLGlCQUFBLE1BQUEsYUFBQSxjQUFBLFdBQUEsYUFBQSxRQUFBLFNBQUEsV0FBQSxPQUFBLFFBQUEsV0FBQSxxQkFBQSxPQUFBLE9BQUEsT0FBQSxNQUFBLFlBQUEsdUJBQUEsUUFBQSxXQUFBLFNBQUEsVUFBQSxTQUFBLGFBQUEsZUFBQSxVQUFBLGdCQUFBLFNBQUEsY0FBQSxXQUFBLFdBQUEsWUFBQSxpQkFBQSxrQkFBQSxlQUFBLE1BQUEsT0FBQSxXQUFBLGNBQUEsZ0JBQUEsWUFBQSxVQUFBLFdBQUEsa0JBQUEsYUFBQSxnQkFBQSxVQUFBLFNBQUEsZ0JBQUEsU0FBQSxVQUFBLFFBQUEsV0FBQSxhQUFBLGVBQUEsVUFBQSxXQUFBLFNBQUEsU0FBQSxjQUFBLE1BQUEsUUFBQSxXQUFBLE9BQUEsY0FBQSxlQUFBLGNBQUEsWUFBQSxjQUFBLG9CQUFBLHFCQUFBLGtCQUFBLG9CQUFBLFFBQUEsU0FBQSxRQUFBLFNBQUEsWUFBQSxhQUFBLFFBQUEsT0FBQSxRQUFBLFFBQUEsV0FBQSxVQUFBLFlBQUEsV0FBQSxTQUFBLE9BQUEsVUFBQSxVQUFBLGdCQUFBLFlBQUEsUUFBQSxRQUFBLFFBQUEsWUFBQSxtQkFBQSxxQkFBQSxjQUFBLFFBQUEsYUFBQSxXQUFBLGFBQUEsY0FBQSxVQUFBLE9BQUEsWUFBQSxXQUFBLFdBQUEsV0FBQSxPQUFBLFFBQUEsYUFBQSxZQUFBLGFBQUEsT0FBQSxVQUFBLFdBQUEsWUFBQSxjQUFBLFdBQUEsaUJBQUEsZUFBQSxVQUFBLGNBQUEsV0FBQSxTQUFBLFNBQUEsVUFBQSxjQUFBLGFBQUEsYUFBQSxZQUFBLFNBQUEsY0FBQSxPQUFBLFdBQUEsY0FBQSxvQkFBQSxxQkFBQSxrQkFBQSxvQkFBQSxhQUFBLGNBQUEsV0FBQSxhQUFBLFVBQUEsU0FBQSxTQUFBLFNBQUEsV0FBQSxhQUFBLGNBQUEsVUFBQSxTQUFBLFFBQUEsYUFBQSxXQUFBLGdCQUFBLFVBQUEsVUFBQSxRQUFBLFVBQUEsYUFBQSxTQUFBLGlCQUFBLFdBQUEsT0FBQSxZQUFBLGNBQUEsaUJBQUEsT0FBQSxZQUFBLGVBQUEsV0FBQSxPQUFBLGNBQUEsY0FBQSxZQUFBLFNBQUEsZUFBQSxhQUFBLG1CQUFBLFNBQUEsYUFBQSxvQkFBQSxTQUFBLFNBQUEsc0JBQUEsdUJBQUEsb0JBQUEsc0JBQUEsUUFBQSxPQUFBLFNBQUEsYUFBQSxXQUFBLGFBQUEsYUFBQSxhQUFBLGNBQUEsU0FBQSxlQUFBLGlCQUFBLFdBQUEsYUFBQSxlQUFBLGdCQUFBLHVCQUFBLGVBQUEsVUFBQSxzQkFBQSxvQkFBQSx1QkFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsT0FBQSxZQUFBLGlCQUFBLGtCQUFBLGtCQUFBLG1CQUFBLG1CQUFBLG9CQUFBLFlBQUEsY0FBQSxpQkFBQSxVQUFBLE9BQUEsY0FBQSxlQUFBLFVBQUEsaUJBQUEsWUFBQSxTQUFBLE1BQUEsWUFBQSxtQkFBQSxTQUFBLGdCQUFBLGtCQUFBLGdCQUFBLGtCQUFBLG1CQUFBLFFBQUEsVUFBQSxVQUFBLFFBQUEsV0FBQSxRQUFBLGFBQUEsU0FBQSxTQUFBLE9BQUEsV0FBQSxRQUFBLFNBQUEsVUFBQSxNQUFBLEtBQUEsUUFBQSxTQUFBLFlBQUEsaUJBQUEsdUJBQUEsc0JBQUEsc0JBQUEsZUFBQSxhQUFBLGVBQUEsTUFBQSxnQkFBQSxnQkFBQSxRQUFBLGtCQUFBLFlBQUEsU0FBQSxhQUFBLGlCQUFBLFFBQUEsU0FBQSxTQUFBLGdCQUFBLHFCQUFBLGNBQUEsWUFBQSxPQUFBLGdCQUFBLGlCQUFBLFNBQUEsU0FBQSxXQUFBLE1BQUEsV0FBQSxRQUFBLE1BQUEsUUFBQSxPQUFBLFFBQUEsVUFBQSxpQkFBQSxRQUFBLGVBQUEsVUFBQSxNQUFBLE9BQUEsT0FBQSxVQUFBLGFBQUEsYUFBQSxXQUFBLGFBQUEsY0FBQSxlQUFBLG9CQUFBLGVBQUEsaUJBQUEsZUFBQSxlQUFBLGNBQUEsT0FBQSxVQUFBLFdBQUEsWUFBQSxpQkFBQSxRQUFBLFNBQUEsYUFBQSxNQUFBLGNBQUEsZ0JBQUEsS0FBQSxTQUFBLGNBQUEsZ0JBQUEsVUFBQSxjQUFBLFNBQUEsWUFBQSxVQUFBLFlBQUEsbUJBQUEsT0FBQSxXQUFBLE1BQUEsYUFBQSxPQUFBLGFBQUEsU0FBQSxPQUFBLGNBQUEsT0FBQSxhQUFBLFNBQUEsZ0JBQUEsVUFBQSxnQkFBQSxjQUFBLFVBQUEsWUFBQSxZQUFBLGFBQUEsZUFBQSxRQUFBLFlBQUEsS0FBQSxhQUFBLGNBQUEsZ0JBQUEsYUFBQSxZQUFBLGFBQUEsU0FBQSxnQkFBQSxhQUFBLFlBQUEsVUFBQSxNQUFBLFVBQUEsWUFBQSxLQUFBLE1BQUEsV0FBQSxhQUFBLGlCQUFBLFdBQUEsV0FBQSxVQUFBLFNBQUEsZUFBQSxjQUFBLFdBQUEsWUFBQSxrQkFBQSxVQUFBLE9BQUEsY0FBQSxhQUFBLGNBQUEsWUFBQSxRQUFBLE9BQUEsVUFBQSxjQUFBLGtCQUFBLGVBQUEsY0FBQSxhQUFBLGNBQUEsZ0JBQUEsZ0JBQUEsU0FBQSxhQUFBLG9CQUFBLGNBQUEsV0FBQSxTQUFBLFlBQUEsYUFBQSxNQUFBLFVBQUEsUUFBQSxTQUFBLFNBQUEsZUFBQSxnQkFBQSxXQUFBLGVBQUEsZUFBQSx5QkFBQSxlQUFBLGtCQUFBLGdCQUFBLGdCQUFBLFdBQUEsZUFBQSxpQkFBQSxjQUFBLGdCQUFBLFNBQUEsaUJBQUEsUUFBQSxnQkFBQSxjQUFBLGtCQUFBLGlCQUFBLGdCQUFBLFlBQUEsY0FBQSxlQUFBLGtCQUFB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SCxTQUFBQyxPQUFBLFlBQUEsZ0JBQUEsaUJBQ0FzSixRQUFBLGdCQUFBLGFBQUFoSSxJQUNBckIsUUFBQSxrQkFBQSxLQUFBLFFBQUEsY0FBQUMsSUFDQUQsUUFBQSxnQkFBQSxLQUFBLFFBQUEsY0FBQWdCLElBQ0E0RixXQUFBLGdCQUFBLFNBQUEsZUFBQSxpQkFBQXpGLElBQ0F5RixXQUFBLGtCQUFBLFNBQUEsZUFBQWxGLElBQ0FrRixXQUFBLGtCQUFBLFNBQUEsWUFBQSxpQkFBQXhFLElBQ0F3RSxXQUFBLHFCQUFBLFNBQUEsb0JBQUEsbUJBQUFhLElBQ0FiLFdBQUEsNEJBQUEsU0FBQSxvQkFBQSxVQUFBbUIsSUFDQW5CLFdBQUEsYUFBQSxTQUFBLG9CQUFBb0IsSUFDQXBCLFdBQUEsYUFBQSxTQUFBLG9CQUFBLFlBQUEsT0FBQTRCLElBQ0E1QixXQUFBLGtCQUFBLFNBQUEsWUFBQSxlQUFBb0MsSUFDQU0sVUFBQSxVQUFBLFdBQ0EsTUFBQSxVQUFBQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxLQUFBLG1CQUFBLFNBQUF4SCxHQUNBLEtBQUFBLEVBQUF5SCxRQUNBSixFQUFBSyxPQUFBLFdBQ0FMLEVBQUFNLE1BQUFKLEVBQUFLLFNBQUE1SCxNQUFBQSxNQUdBQSxFQUFBNkgiLCJmaWxlIjoiZ2V0cmVhbHQtZnJvbnRlbmQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cblxuICAgIHZhciByZXN0U2VydmljZSA9IGZ1bmN0aW9uICgkcSwgJGh0dHApIHtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5nZXRPdmVycmlkZSA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUsIG92ZXJyaWRlVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9ICgodHlwZW9mIG92ZXJyaWRlVmFsdWUgPT09ICd1bmRlZmluZWQnKSA/IGRlZmF1bHRWYWx1ZSA6IG92ZXJyaWRlVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlOyAvLyBMZWF2ZSB0aGUgbWVhbmluZ2xlc3MgbmV3VmFsdWUgaW4gaGVyZSBmb3IgYnJlYWtwb2ludCAvIHdhdGNoIHB1cnBvc2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5hcHBseU9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgICAgICAgICAgIGVuYWJsZUNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1heFJldHJpZXMgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5tYXhSZXRyaWVzLCBvcHRpb25zLm1heFJldHJpZXMpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5lbmFibGVDYWNoZSA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLmVuYWJsZUNhY2hlLCBvcHRpb25zLmVuYWJsZUNhY2hlKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMubWV0aG9kID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMubWV0aG9kLCBvcHRpb25zLm1ldGhvZCk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnJlc3BvbnNlVHlwZSA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLnJlc3BvbnNlVHlwZSwgb3B0aW9ucy5yZXNwb25zZVR5cGUpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5oZWFkZXJzID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMuaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMudHJhbnNmb3JtUmVxdWVzdCA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLnRyYW5zZm9ybVJlcXVlc3QsIG9wdGlvbnMudHJhbnNmb3JtUmVxdWVzdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdFVCB1c2VzIHBhcmFtcyBhbmQgUE9TVCB1c2VzIGRhdGFcbiAgICAgICAgICAgIGlmIChwYXJhbXMubWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmRhdGEgPSBvcHRpb25zLnBhcmFtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFyYW1zLnVybCA9IG9wdGlvbnMudXJsO1xuXG4gICAgICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuYWxsb3dDYWNoaW5nID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZW4ndCBpbXBsZW1lbnRlZCB0aGlzIHlldCwgYnV0IHdlIHdpbGwgZG8gc29tZSBjbGllbnQgc2lkZSBjYWNoaW5nXG4gICAgICAgICAgICB2YXIgYWxsb3cgPSBwYXJhbXMuZW5hYmxlQ2FjaGU7XG5cbiAgICAgICAgICAgIGlmIChhbGxvdykge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgY2FjaGVhYmxlIHZlcmIgKEdFVCkgdGhhdCByZXR1cm5zIHJlc3VsdHMgdGhhdCBjYW4gYmUgY2FjaGVkICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgbG9jYWwgc3RvcmFnZSAvIGNhY2hpbmcgaXMgYXZhaWxhYmxlIG9uIHRoaXMgY2xpZW50XG5cbiAgICAgICAgICAgICAgICBhbGxvdyA9IGZhbHNlOyAvLyBSaWdodCBub3cgZGlzYWJsZSBpdCB1bnRpbCB3ZSBoYXZlIGltcGxlbWVudGVkIGNhY2hpbmdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFsbG93O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuY2FjaGVSZXN1bHRzID0gZnVuY3Rpb24gKHBhcmFtcywgcmVzdWx0cykge1xuICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZW4ndCBpbXBsZW1lbnRlZCB0aGlzIHlldCwgYnV0IHdlIHdpbGwgZG8gc29tZSBjbGllbnQgc2lkZSBjYWNoaW5nXG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmFsbG93Q2FjaGluZyhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRmluaXNoIHRoaXMgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuZmV0Y2hGcm9tQ2FjaGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBXZSBoYXZlbid0IGltcGxlbWVudGVkIHRoaXMgeWV0LCBidXQgd2Ugd2lsbCBkbyBzb21lIGNsaWVudCBzaWRlIGNhY2hpbmdcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGYuYWxsb3dDYWNoaW5nKHBhcmFtcykpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBGaW5pc2ggdGhpcyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxmLnByb2Nlc3MgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBzZWxmLmZldGNoRnJvbUNhY2hlKHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ290IGNhY2hlZCByZXN1bHRzLCB3ZSBhcmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodHRwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwYXJhbXMudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHBhcmFtcy5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogcGFyYW1zLnJlc3BvbnNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcGFyYW1zLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLnBhcmFtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zLmhlYWRlcnMgPSBwYXJhbXMuaGVhZGVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcy50cmFuc2Zvcm1SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBPcHRpb25zLnRyYW5zZm9ybVJlcXVlc3QgPSBwYXJhbXMudHJhbnNmb3JtUmVxdWVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAoaHR0cE9wdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMgJiYgcGFyYW1zLmVuYWJsZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhY2hlUmVzdWx0cyhwYXJhbXMsIHJlc3VsdHMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCh7ZGF0YTogZGF0YSwgc3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IGhlYWRlcnMsIGNvbmZpZzogY29uZmlnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBNYWluIGVudHJ5IHBvaW50IGFuZCBzaG91bGQgdHlwaWNhbGx5IGJlIHRoZSBvbmx5IG1ldGhvZCBjYWxsZWQgZXh0ZXJuYWxseVxuICAgICAgICBzZWxmLmdvID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlbGYuYXBwbHlPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBQb2xseSBpcyB1c2VkIGZvciB0cmFuc2llbnQgZXhjZXB0aW9uIGhhbmRsaW5nXG4gICAgICAgICAgICAvLyBXZSB3aWxsIG1ha2UgdGhpcyBtb3JlIHNvcGhpc3RpY2F0ZWRcbiAgICAgICAgICAgIHBvbGx5KClcbiAgICAgICAgICAgICAgICAucmV0cnkoc2VsZi5tYXhSZXRyaWVzKVxuICAgICAgICAgICAgICAgIC5leGVjdXRlRm9yUHJvbWlzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnByb2Nlc3MocGFyYW1zKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmRhdGEgJiYgZXJyLmRhdGEuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gY29uZmlybShcIllvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gcGVyZm9ybSB0aGlzIGFjdGlvbi4gIEl0J3MgcG9zc2libGUgeW91ciBzZXNzaW9uIGhhcyB0aW1lZCBvdXQuICBXb3VsZCB5b3UgbGlrZSB0byB0cnkgbG9nZ2luZyBiYWNrIGluP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGFuIGVycm9yIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgIH07XG4gICAgXG4gICAgYW5ndWxhci5tb2R1bGUoJ2dldHJlYWx0LnJlc3QnLCBbXSlcbiAgICAgICAgICAgIC5zZXJ2aWNlKCdyZXN0U2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCByZXN0U2VydmljZV0pO1xuXG59KSgpOyIsIi8qXG4gZWxpeGlyKChtaXgpID0+IHtcbiBtaXgud2VicGFjaygnLi4vLi4vdGhlbWVzL2dldHJlYWx0L2Fzc2V0cy9qcy9hcHAuanMnLCAnLi9wdWJsaWMvdGhlbWVzL2dldHJlYWx0L2pzJyk7XG4gfSk7XG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciBsaXN0aW5nU2VydmljZSA9IGZ1bmN0aW9uICgkcSwgJGh0dHAsIHJlc3RTZXJ2aWNlKSB7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IGZ1bmN0aW9uIChhZHZhbmNlZFNlYXJjaCwga2V5d29yZHMsIG1pblByaWNlLCBtYXhQcmljZSwgYmVkcywgYmF0aHMsIGluY2x1ZGVSZXNpZGVudGlhbCwgaW5jbHVkZUxhbmQsIGluY2x1ZGVDb21tZXJjaWFsKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICdrZXl3b3Jkcyc6IGtleXdvcmRzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoYWR2YW5jZWRTZWFyY2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoYWR2YW5jZWRTZWFyY2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmFkdmFuY2VkU2VhcmNoID0gYWR2YW5jZWRTZWFyY2g7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtaW5QcmljZSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMubWluUHJpY2UgPSBtaW5QcmljZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1heFByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5tYXhQcmljZSA9IG1heFByaWNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZVJlc2lkZW50aWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pbmNsdWRlUmVzaWRlbnRpYWwgPSBpbmNsdWRlUmVzaWRlbnRpYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlTGFuZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuaW5jbHVkZUxhbmQgPSBpbmNsdWRlTGFuZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVDb21tZXJjaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pbmNsdWRlQ29tbWVyY2lhbCA9IGluY2x1ZGVDb21tZXJjaWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmVkcykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYmVkcyA9IGJlZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChiYXRocykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuYmF0aHMgPSBiYXRocztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvbGlzdGluZ3MnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L2xpc3RpbmdzJyArIGlkXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2VuZExlYWQgPSBmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9saXN0aW5ncy9zZW5kTGVhZCcsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBpbmZvXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcG9zdHNTZXJ2aWNlID0gZnVuY3Rpb24gKCRxLCAkaHR0cCwgcmVzdFNlcnZpY2UpIHtcblxuICAgICAgICB0aGlzLnN0b3JlID0gZnVuY3Rpb24gKGRldGFpbHMpIHtcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHJlc3RTZXJ2aWNlLmdvKHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvZ2V0cmVhbHQvcG9zdHMnLFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogZGV0YWlsc1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIHNlYXJjaFdpZGdldCA9IGZ1bmN0aW9uICgkc2NvcGUsIGV2ZW50RmFjdG9yeSwgbGlzdGluZ1NlcnZpY2UpIHtcblxuICAgICAgICAvLyBJbnB1dCB2YXJpYWJsZXNcbiAgICAgICAgJHNjb3BlLmFkdmFuY2VkU2VhcmNoID0gZmFsc2U7XG4gICAgICAgICRzY29wZS5rZXl3b3JkcyA9IG51bGw7XG4gICAgICAgICRzY29wZS5taW5QcmljZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5tYXhQcmljZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5iZWRzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmJhdGhzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmluY2x1ZGVSZXNpZGVudGlhbCA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbmNsdWRlTGFuZCA9IHRydWU7XG4gICAgICAgICRzY29wZS5pbmNsdWRlQ29tbWVyY2lhbCA9IHRydWU7XG5cbiAgICAgICAgJHNjb3BlLmxpc3RpbmdzID0gbnVsbDtcblxuICAgICAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5hZHZhbmNlZFNlYXJjaCB8fCAkc2NvcGUua2V5d29yZHMpIHtcbiAgICAgICAgICAgICAgICBldmVudEZhY3Rvcnkuc2VhcmNoaW5nTGlzdGluZ3ModHJ1ZSk7XG4gICAgICAgICAgICAgICAgbGlzdGluZ1NlcnZpY2UuaW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWR2YW5jZWRTZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUua2V5d29yZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWluUHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF4UHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmVkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iYXRocyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbmNsdWRlUmVzaWRlbnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5jbHVkZUxhbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW5jbHVkZUNvbW1lcmNpYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICBldmVudEZhY3Rvcnkuc2VhcmNoaW5nTGlzdGluZ3MoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBldmVudEZhY3RvcnkucmVmcmVzaExpc3RpbmdzKCRzY29wZS5saXN0aW5ncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBsaXN0aW5nc1dpZGdldCA9IGZ1bmN0aW9uICgkc2NvcGUsIGV2ZW50RmFjdG9yeSkge1xuICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBudWxsO1xuXG4gICAgICAgIGV2ZW50RmFjdG9yeS5vblNlYXJjaGluZ0xpc3RpbmdzKCRzY29wZSwgZnVuY3Rpb24gKHNlYXJjaGluZykge1xuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaGluZyA9IHNlYXJjaGluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXZlbnRGYWN0b3J5Lm9uUmVmcmVzaExpc3RpbmdzKCRzY29wZSwgZnVuY3Rpb24gKGxpc3RpbmdzKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBsaXN0aW5ncztcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBldmVudEZhY3RvcnkgPSBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xuICAgICAgICB2YXIgUkVGUkVTSF9MSVNUSU5HUyA9ICdyZWZyZXNoTGlzdGluZ3MnO1xuICAgICAgICB2YXIgcmVmcmVzaExpc3RpbmdzID0gZnVuY3Rpb24gKGxpc3RpbmdzKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoUkVGUkVTSF9MSVNUSU5HUywgbGlzdGluZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25SZWZyZXNoTGlzdGluZ3MgPSBmdW5jdGlvbiAoJHNjb3BlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKFJFRlJFU0hfTElTVElOR1MsIGZ1bmN0aW9uIChldmVudCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIobWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgU0VBUkNISU5HX0xJU1RJTkdTID0gJ3NlYXJjaGluZ0xpc3RpbmdzJztcbiAgICAgICAgdmFyIHNlYXJjaGluZ0xpc3RpbmdzID0gZnVuY3Rpb24gKHNlYXJjaGluZykge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KFNFQVJDSElOR19MSVNUSU5HUywgc2VhcmNoaW5nKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9uU2VhcmNoaW5nTGlzdGluZ3MgPSBmdW5jdGlvbiAoJHNjb3BlLCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAkc2NvcGUuJG9uKFNFQVJDSElOR19MSVNUSU5HUywgZnVuY3Rpb24gKGV2ZW50LCBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZnJlc2hMaXN0aW5nczogcmVmcmVzaExpc3RpbmdzLFxuICAgICAgICAgICAgb25SZWZyZXNoTGlzdGluZ3M6IG9uUmVmcmVzaExpc3RpbmdzLFxuICAgICAgICAgICAgc2VhcmNoaW5nTGlzdGluZ3M6IHNlYXJjaGluZ0xpc3RpbmdzLFxuICAgICAgICAgICAgb25TZWFyY2hpbmdMaXN0aW5nczogb25TZWFyY2hpbmdMaXN0aW5nc1xuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIHZhciBsaXN0aW5nRGV0YWlscyA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgbGlzdGluZ1NlcnZpY2UpIHtcblxuICAgICAgICAkc2NvcGUubGlzdGluZ1NvdXJjZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5saXN0aW5nVHlwZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5saXN0aW5nSUQgPSBudWxsO1xuICAgICAgICAkc2NvcGUuYWRkcmVzcyA9IG51bGw7XG5cbiAgICAgICAgJHNjb3BlLmluaXRNYXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpO1xuXG4gICAgICAgICAgICBpZiAoZ2VvY29kZXIpIHtcbiAgICAgICAgICAgICAgICBnZW9jb2Rlci5nZW9jb2RlKHsnYWRkcmVzcyc6ICRzY29wZS5hZGRyZXNzfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gZ29vZ2xlLm1hcHMuR2VvY29kZXJTdGF0dXMuWkVST19SRVNVTFRTKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBDYW52YXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbkNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGx3aGVlbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFR5cGVJZDogZ29vZ2xlLm1hcHMuTWFwVHlwZUlkLlJPQURNQVBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwQ2FudmFzLCBtYXBPcHRpb25zKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogbWFwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnL2Fzc2V0cy90aGVtZXMvZ2V0cmVhbHQvaW1hZ2VzL21hcmtlci5wbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uc0xpbmsgPSAnaHR0cDovL3d3dy5nb29nbGUuY29tL21hcHMvZGlyL2N1cnJlbnQrcG9zaXRpb24vJyArIGVuY29kZVVSSSgkc2NvcGUuYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0cmVldFZpZXdMaW5rID0gJ2h0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwcz9xPSZsYXllcj1jJmNibGw9JyArIHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkgKyAnLCcgKyByZXN1bHRzWzBdLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRTdHJpbmcgPSAnPGRpdiBjbGFzcz1cImluZm8td2luZG93XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGg1PjxpIGNsYXNzPVwiZmEgZmEtbWFwLW1hcmtlclwiPjwvaT4gJyArIHJlc3VsdHNbMF0uZm9ybWF0dGVkX2FkZHJlc3MgKyAnPC9oNT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW5mby1jb250ZW50XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJmYSBmYS1jYXJcIj48L2k+OiA8YSBocmVmPVwiJyArIGRpcmVjdGlvbnNMaW5rICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPkdldCBEaXJlY3Rpb25zPC9hPjxiciAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZmEgZmEtc3RyZWV0LXZpZXdcIj48L2k+OiA8YSBocmVmPVwiJyArIHN0cmVldFZpZXdMaW5rICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPlN0cmVldCBWaWV3PC9hPjxiciAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvcD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm93aW5kb3cgPSBuZXcgZ29vZ2xlLm1hcHMuSW5mb1dpbmRvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRTdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiA0MDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlci5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVzID0gW3tcImZlYXR1cmVUeXBlXCI6IFwiYWRtaW5pc3RyYXRpdmVcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicG9pXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0XCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGVcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvZmZcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmxvY2FsXCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcIm9uXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwiZWxlbWVudFR5cGVcIjogXCJnZW9tZXRyeVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvblwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwic3R5bGVyc1wiOiBbe1wiY29sb3JcIjogXCIjODRhZmEzXCJ9LCB7XCJsaWdodG5lc3NcIjogNTJ9XX0sIHtcInN0eWxlcnNcIjogW3tcInNhdHVyYXRpb25cIjogLTE3fSwge1wiZ2FtbWFcIjogMC4zNn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJ0cmFuc2l0LmxpbmVcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbe1wiY29sb3JcIjogXCIjM2Y1MThjXCJ9XX1dO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FsZXJ0KFwiTm8gcmVzdWx0cyBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJHZW9jb2RlIHdhcyBub3Qgc3VjY2Vzc2Z1bCBmb3IgdGhlIGZvbGxvd2luZyByZWFzb246IFwiICsgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmluaXRTbGlkZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVGhlIHNsaWRlciBiZWluZyBzeW5jZWQgbXVzdCBiZSBpbml0aWFsaXplZCBmaXJzdFxuICAgICAgICAgICAgJCgnI2Nhcm91c2VsJykuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpdGVtV2lkdGg6IDIxMCxcbiAgICAgICAgICAgICAgICBpdGVtTWFyZ2luOiA1LFxuICAgICAgICAgICAgICAgIHNtb290aEhlaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhc05hdkZvcjogJyNzbGlkZXInXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnI3NsaWRlcicpLmZsZXhzbGlkZXIoe1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogXCJzbGlkZVwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xOYXY6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNsaWRlc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc21vb3RoSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHN5bmM6IFwiI2Nhcm91c2VsXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmNvbnRhY3RBZ2VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29udGFjdEFnZW50Lmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb250YWN0QWdlbnRNb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbnRyb2xsZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmZvID0gcmVzdWx0cy5jb250YWN0SW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8gJiYgKGluZm8ubmFtZSB8fCBpbmZvLnBob25lIHx8IGluZm8uZW1haWwgfHwgaW5mby5tZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGlzdGluZ1NvdXJjZSA9ICRzY29wZS5saXN0aW5nU291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGlzdGluZ1R5cGUgPSAkc2NvcGUubGlzdGluZ1R5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5saXN0aW5nSUQgPSAkc2NvcGUubGlzdGluZ0lEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RpbmdTZXJ2aWNlLnNlbmRMZWFkKGluZm8pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdtZXNzYWdlQ29uZmlybWF0aW9uLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21lc3NhZ2VDb25maXJtYXRpb25Nb2RhbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhTGFiZWxsZWRCeTogJ21vZGFsLXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZGF0YS5zdWNjZXNzID8gXCJNZXNzYWdlIFNlbnQhXCIgOiBcIk9vcHMhIE91ciBtZXNzYWdpbmcgaXMgZG93biByaWdodCBub3cuICBUcnkgY29udGFjdGluZyB1cyBkaXJlY3RseSBwbGVhc2UhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNtaXNzZWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3RhcnQgPSBmdW5jdGlvbiAobGlzdGluZ1NvdXJjZSwgbGlzdGluZ1R5cGUsIGxpc3RpbmdJRCwgYWRkcmVzcykge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdTb3VyY2UgPSBsaXN0aW5nU291cmNlO1xuICAgICAgICAgICAgJHNjb3BlLmxpc3RpbmdUeXBlID0gbGlzdGluZ1R5cGU7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ0lEID0gbGlzdGluZ0lEO1xuICAgICAgICAgICAgJHNjb3BlLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lcih3aW5kb3csICdsb2FkJywgJHNjb3BlLmluaXRNYXApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkc2NvcGUuaW5pdFNsaWRlcnMoKTtcbiAgICAgICAgfTtcblxuICAgIH07XG4gICAgXG4gICAgdmFyIGNvbnRhY3RBZ2VudE1vZGFsID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHBhcmVudENvbnRyb2xsZXIpIHtcbiAgICAgICAgJHNjb3BlLm5hbWUgPSBudWxsO1xuICAgICAgICAkc2NvcGUucGhvbmUgPSBudWxsO1xuICAgICAgICAkc2NvcGUuZW1haWwgPSBudWxsO1xuICAgICAgICAkc2NvcGUubWVzc2FnZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbnRhY3RJbmZvID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5uYW1lLFxuICAgICAgICAgICAgICAgIHBob25lOiAkc2NvcGUucGhvbmUsXG4gICAgICAgICAgICAgICAgZW1haWw6ICRzY29wZS5lbWFpbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAkc2NvcGUubWVzc2FnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoe1xuICAgICAgICAgICAgICAgIGNvbnRhY3RJbmZvOiBjb250YWN0SW5mb1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgdmFyIG1lc3NhZ2VDb25maXJtYXRpb25Nb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBtZXNzYWdlKSB7XG4gICAgICAgICRzY29wZS5tZXNzYWdlID0gbWVzc2FnZTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgIH07XG4gICAgXG4gICAgdmFyIGljb25Nb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XG4gICAgICAgICRzY29wZS5pY29ucyA9IFsnZ2xhc3MnLCAnbXVzaWMnLCAnc2VhcmNoJywgJ2VudmVsb3BlLW8nLCAnaGVhcnQnLCAnc3RhcicsICdzdGFyLW8nLCAndXNlcicsICdmaWxtJywgJ3RoLWxhcmdlJywgJ3RoJywgJ3RoLWxpc3QnLCAnY2hlY2snLCAndGltZXMnLCAnc2VhcmNoLXBsdXMnLCAnc2VhcmNoLW1pbnVzJywgJ3Bvd2VyLW9mZicsICdzaWduYWwnLCAnY29nJywgJ3RyYXNoLW8nLCAnaG9tZScsICdmaWxlLW8nLCAnY2xvY2stbycsICdyb2FkJywgJ2Rvd25sb2FkJywgJ2Fycm93LWNpcmNsZS1vLWRvd24nLCAnYXJyb3ctY2lyY2xlLW8tdXAnLCAnaW5ib3gnLCAncGxheS1jaXJjbGUtbycsICdyZXBlYXQnLCAncmVmcmVzaCcsICdsaXN0LWFsdCcsICdsb2NrJywgJ2ZsYWcnLCAnaGVhZHBob25lcycsICd2b2x1bWUtb2ZmJywgJ3ZvbHVtZS1kb3duJywgJ3ZvbHVtZS11cCcsICdxcmNvZGUnLCAnYmFyY29kZScsICd0YWcnLCAndGFncycsICdib29rJywgJ2Jvb2ttYXJrJywgJ3ByaW50JywgJ2NhbWVyYScsICdmb250JywgJ2JvbGQnLCAnaXRhbGljJywgJ3RleHQtaGVpZ2h0JywgJ3RleHQtd2lkdGgnLCAnYWxpZ24tbGVmdCcsICdhbGlnbi1jZW50ZXInLCAnYWxpZ24tcmlnaHQnLCAnYWxpZ24tanVzdGlmeScsICdsaXN0JywgJ291dGRlbnQnLCAnaW5kZW50JywgJ3ZpZGVvLWNhbWVyYScsICdwaWN0dXJlLW8nLCAncGVuY2lsJywgJ21hcC1tYXJrZXInLCAnYWRqdXN0JywgJ3RpbnQnLCAncGVuY2lsLXNxdWFyZS1vJywgJ3NoYXJlLXNxdWFyZS1vJywgJ2NoZWNrLXNxdWFyZS1vJywgJ2Fycm93cycsICdzdGVwLWJhY2t3YXJkJywgJ2Zhc3QtYmFja3dhcmQnLCAnYmFja3dhcmQnLCAncGxheScsICdwYXVzZScsICdzdG9wJywgJ2ZvcndhcmQnLCAnZmFzdC1mb3J3YXJkJywgJ3N0ZXAtZm9yd2FyZCcsICdlamVjdCcsICdjaGV2cm9uLWxlZnQnLCAnY2hldnJvbi1yaWdodCcsICdwbHVzLWNpcmNsZScsICdtaW51cy1jaXJjbGUnLCAndGltZXMtY2lyY2xlJywgJ2NoZWNrLWNpcmNsZScsICdxdWVzdGlvbi1jaXJjbGUnLCAnaW5mby1jaXJjbGUnLCAnY3Jvc3NoYWlycycsICd0aW1lcy1jaXJjbGUtbycsICdjaGVjay1jaXJjbGUtbycsICdiYW4nLCAnYXJyb3ctbGVmdCcsICdhcnJvdy1yaWdodCcsICdhcnJvdy11cCcsICdhcnJvdy1kb3duJywgJ3NoYXJlJywgJ2V4cGFuZCcsICdjb21wcmVzcycsICdwbHVzJywgJ21pbnVzJywgJ2FzdGVyaXNrJywgJ2V4Y2xhbWF0aW9uLWNpcmNsZScsICdnaWZ0JywgJ2xlYWYnLCAnZmlyZScsICdleWUnLCAnZXllLXNsYXNoJywgJ2V4Y2xhbWF0aW9uLXRyaWFuZ2xlJywgJ3BsYW5lJywgJ2NhbGVuZGFyJywgJ3JhbmRvbScsICdjb21tZW50JywgJ21hZ25ldCcsICdjaGV2cm9uLXVwJywgJ2NoZXZyb24tZG93bicsICdyZXR3ZWV0JywgJ3Nob3BwaW5nLWNhcnQnLCAnZm9sZGVyJywgJ2ZvbGRlci1vcGVuJywgJ2Fycm93cy12JywgJ2Fycm93cy1oJywgJ2Jhci1jaGFydCcsICd0d2l0dGVyLXNxdWFyZScsICdmYWNlYm9vay1zcXVhcmUnLCAnY2FtZXJhLXJldHJvJywgJ2tleScsICdjb2dzJywgJ2NvbW1lbnRzJywgJ3RodW1icy1vLXVwJywgJ3RodW1icy1vLWRvd24nLCAnc3Rhci1oYWxmJywgJ2hlYXJ0LW8nLCAnc2lnbi1vdXQnLCAnbGlua2VkaW4tc3F1YXJlJywgJ3RodW1iLXRhY2snLCAnZXh0ZXJuYWwtbGluaycsICdzaWduLWluJywgJ3Ryb3BoeScsICdnaXRodWItc3F1YXJlJywgJ3VwbG9hZCcsICdsZW1vbi1vJywgJ3Bob25lJywgJ3NxdWFyZS1vJywgJ2Jvb2ttYXJrLW8nLCAncGhvbmUtc3F1YXJlJywgJ3R3aXR0ZXInLCAnZmFjZWJvb2snLCAnZ2l0aHViJywgJ3VubG9jaycsICdjcmVkaXQtY2FyZCcsICdyc3MnLCAnaGRkLW8nLCAnYnVsbGhvcm4nLCAnYmVsbCcsICdjZXJ0aWZpY2F0ZScsICdoYW5kLW8tcmlnaHQnLCAnaGFuZC1vLWxlZnQnLCAnaGFuZC1vLXVwJywgJ2hhbmQtby1kb3duJywgJ2Fycm93LWNpcmNsZS1sZWZ0JywgJ2Fycm93LWNpcmNsZS1yaWdodCcsICdhcnJvdy1jaXJjbGUtdXAnLCAnYXJyb3ctY2lyY2xlLWRvd24nLCAnZ2xvYmUnLCAnd3JlbmNoJywgJ3Rhc2tzJywgJ2ZpbHRlcicsICdicmllZmNhc2UnLCAnYXJyb3dzLWFsdCcsICd1c2VycycsICdsaW5rJywgJ2Nsb3VkJywgJ2ZsYXNrJywgJ3NjaXNzb3JzJywgJ2ZpbGVzLW8nLCAncGFwZXJjbGlwJywgJ2Zsb3BweS1vJywgJ3NxdWFyZScsICdiYXJzJywgJ2xpc3QtdWwnLCAnbGlzdC1vbCcsICdzdHJpa2V0aHJvdWdoJywgJ3VuZGVybGluZScsICd0YWJsZScsICdtYWdpYycsICd0cnVjaycsICdwaW50ZXJlc3QnLCAncGludGVyZXN0LXNxdWFyZScsICdnb29nbGUtcGx1cy1zcXVhcmUnLCAnZ29vZ2xlLXBsdXMnLCAnbW9uZXknLCAnY2FyZXQtZG93bicsICdjYXJldC11cCcsICdjYXJldC1sZWZ0JywgJ2NhcmV0LXJpZ2h0JywgJ2NvbHVtbnMnLCAnc29ydCcsICdzb3J0LWRlc2MnLCAnc29ydC1hc2MnLCAnZW52ZWxvcGUnLCAnbGlua2VkaW4nLCAndW5kbycsICdnYXZlbCcsICd0YWNob21ldGVyJywgJ2NvbW1lbnQtbycsICdjb21tZW50cy1vJywgJ2JvbHQnLCAnc2l0ZW1hcCcsICd1bWJyZWxsYScsICdjbGlwYm9hcmQnLCAnbGlnaHRidWxiLW8nLCAnZXhjaGFuZ2UnLCAnY2xvdWQtZG93bmxvYWQnLCAnY2xvdWQtdXBsb2FkJywgJ3VzZXItbWQnLCAnc3RldGhvc2NvcGUnLCAnc3VpdGNhc2UnLCAnYmVsbC1vJywgJ2NvZmZlZScsICdjdXRsZXJ5JywgJ2ZpbGUtdGV4dC1vJywgJ2J1aWxkaW5nLW8nLCAnaG9zcGl0YWwtbycsICdhbWJ1bGFuY2UnLCAnbWVka2l0JywgJ2ZpZ2h0ZXItamV0JywgJ2JlZXInLCAnaC1zcXVhcmUnLCAncGx1cy1zcXVhcmUnLCAnYW5nbGUtZG91YmxlLWxlZnQnLCAnYW5nbGUtZG91YmxlLXJpZ2h0JywgJ2FuZ2xlLWRvdWJsZS11cCcsICdhbmdsZS1kb3VibGUtZG93bicsICdhbmdsZS1sZWZ0JywgJ2FuZ2xlLXJpZ2h0JywgJ2FuZ2xlLXVwJywgJ2FuZ2xlLWRvd24nLCAnZGVza3RvcCcsICdsYXB0b3AnLCAndGFibGV0JywgJ21vYmlsZScsICdjaXJjbGUtbycsICdxdW90ZS1sZWZ0JywgJ3F1b3RlLXJpZ2h0JywgJ3NwaW5uZXInLCAnY2lyY2xlJywgJ3JlcGx5JywgJ2dpdGh1Yi1hbHQnLCAnZm9sZGVyLW8nLCAnZm9sZGVyLW9wZW4tbycsICdzbWlsZS1vJywgJ2Zyb3duLW8nLCAnbWVoLW8nLCAnZ2FtZXBhZCcsICdrZXlib2FyZC1vJywgJ2ZsYWctbycsICdmbGFnLWNoZWNrZXJlZCcsICd0ZXJtaW5hbCcsICdjb2RlJywgJ3JlcGx5LWFsbCcsICdzdGFyLWhhbGYtbycsICdsb2NhdGlvbi1hcnJvdycsICdjcm9wJywgJ2NvZGUtZm9yaycsICdjaGFpbi1icm9rZW4nLCAncXVlc3Rpb24nLCAnaW5mbycsICdleGNsYW1hdGlvbicsICdzdXBlcnNjcmlwdCcsICdzdWJzY3JpcHQnLCAnZXJhc2VyJywgJ3B1enpsZS1waWVjZScsICdtaWNyb3Bob25lJywgJ21pY3JvcGhvbmUtc2xhc2gnLCAnc2hpZWxkJywgJ2NhbGVuZGFyLW8nLCAnZmlyZS1leHRpbmd1aXNoZXInLCAncm9ja2V0JywgJ21heGNkbicsICdjaGV2cm9uLWNpcmNsZS1sZWZ0JywgJ2NoZXZyb24tY2lyY2xlLXJpZ2h0JywgJ2NoZXZyb24tY2lyY2xlLXVwJywgJ2NoZXZyb24tY2lyY2xlLWRvd24nLCAnaHRtbDUnLCAnY3NzMycsICdhbmNob3InLCAndW5sb2NrLWFsdCcsICdidWxsc2V5ZScsICdlbGxpcHNpcy1oJywgJ2VsbGlwc2lzLXYnLCAncnNzLXNxdWFyZScsICdwbGF5LWNpcmNsZScsICd0aWNrZXQnLCAnbWludXMtc3F1YXJlJywgJ21pbnVzLXNxdWFyZS1vJywgJ2xldmVsLXVwJywgJ2xldmVsLWRvd24nLCAnY2hlY2stc3F1YXJlJywgJ3BlbmNpbC1zcXVhcmUnLCAnZXh0ZXJuYWwtbGluay1zcXVhcmUnLCAnc2hhcmUtc3F1YXJlJywgJ2NvbXBhc3MnLCAnY2FyZXQtc3F1YXJlLW8tZG93bicsICdjYXJldC1zcXVhcmUtby11cCcsICdjYXJldC1zcXVhcmUtby1yaWdodCcsICdldXInLCAnZ2JwJywgJ3VzZCcsICdpbnInLCAnanB5JywgJ3J1YicsICdrcncnLCAnYnRjJywgJ2ZpbGUnLCAnZmlsZS10ZXh0JywgJ3NvcnQtYWxwaGEtYXNjJywgJ3NvcnQtYWxwaGEtZGVzYycsICdzb3J0LWFtb3VudC1hc2MnLCAnc29ydC1hbW91bnQtZGVzYycsICdzb3J0LW51bWVyaWMtYXNjJywgJ3NvcnQtbnVtZXJpYy1kZXNjJywgJ3RodW1icy11cCcsICd0aHVtYnMtZG93bicsICd5b3V0dWJlLXNxdWFyZScsICd5b3V0dWJlJywgJ3hpbmcnLCAneGluZy1zcXVhcmUnLCAneW91dHViZS1wbGF5JywgJ2Ryb3Bib3gnLCAnc3RhY2stb3ZlcmZsb3cnLCAnaW5zdGFncmFtJywgJ2ZsaWNrcicsICdhZG4nLCAnYml0YnVja2V0JywgJ2JpdGJ1Y2tldC1zcXVhcmUnLCAndHVtYmxyJywgJ3R1bWJsci1zcXVhcmUnLCAnbG9uZy1hcnJvdy1kb3duJywgJ2xvbmctYXJyb3ctdXAnLCAnbG9uZy1hcnJvdy1sZWZ0JywgJ2xvbmctYXJyb3ctcmlnaHQnLCAnYXBwbGUnLCAnd2luZG93cycsICdhbmRyb2lkJywgJ2xpbnV4JywgJ2RyaWJiYmxlJywgJ3NreXBlJywgJ2ZvdXJzcXVhcmUnLCAndHJlbGxvJywgJ2ZlbWFsZScsICdtYWxlJywgJ2dyYXRpcGF5JywgJ3N1bi1vJywgJ21vb24tbycsICdhcmNoaXZlJywgJ2J1ZycsICd2aycsICd3ZWlibycsICdyZW5yZW4nLCAncGFnZWxpbmVzJywgJ3N0YWNrLWV4Y2hhbmdlJywgJ2Fycm93LWNpcmNsZS1vLXJpZ2h0JywgJ2Fycm93LWNpcmNsZS1vLWxlZnQnLCAnY2FyZXQtc3F1YXJlLW8tbGVmdCcsICdkb3QtY2lyY2xlLW8nLCAnd2hlZWxjaGFpcicsICd2aW1lby1zcXVhcmUnLCAndHJ5JywgJ3BsdXMtc3F1YXJlLW8nLCAnc3BhY2Utc2h1dHRsZScsICdzbGFjaycsICdlbnZlbG9wZS1zcXVhcmUnLCAnd29yZHByZXNzJywgJ29wZW5pZCcsICd1bml2ZXJzaXR5JywgJ2dyYWR1YXRpb24tY2FwJywgJ3lhaG9vJywgJ2dvb2dsZScsICdyZWRkaXQnLCAncmVkZGl0LXNxdWFyZScsICdzdHVtYmxldXBvbi1jaXJjbGUnLCAnc3R1bWJsZXVwb24nLCAnZGVsaWNpb3VzJywgJ2RpZ2cnLCAncGllZC1waXBlci1wcCcsICdwaWVkLXBpcGVyLWFsdCcsICdkcnVwYWwnLCAnam9vbWxhJywgJ2xhbmd1YWdlJywgJ2ZheCcsICdidWlsZGluZycsICdjaGlsZCcsICdwYXcnLCAnc3Bvb24nLCAnY3ViZScsICdjdWJlcycsICdiZWhhbmNlJywgJ2JlaGFuY2Utc3F1YXJlJywgJ3N0ZWFtJywgJ3N0ZWFtLXNxdWFyZScsICdyZWN5Y2xlJywgJ2NhcicsICd0YXhpJywgJ3RyZWUnLCAnc3BvdGlmeScsICdkZXZpYW50YXJ0JywgJ3NvdW5kY2xvdWQnLCAnZGF0YWJhc2UnLCAnZmlsZS1wZGYtbycsICdmaWxlLXdvcmQtbycsICdmaWxlLWV4Y2VsLW8nLCAnZmlsZS1wb3dlcnBvaW50LW8nLCAnZmlsZS1pbWFnZS1vJywgJ2ZpbGUtYXJjaGl2ZS1vJywgJ2ZpbGUtYXVkaW8tbycsICdmaWxlLXZpZGVvLW8nLCAnZmlsZS1jb2RlLW8nLCAndmluZScsICdjb2RlcGVuJywgJ2pzZmlkZGxlJywgJ2xpZmUtcmluZycsICdjaXJjbGUtby1ub3RjaCcsICdyZWJlbCcsICdlbXBpcmUnLCAnZ2l0LXNxdWFyZScsICdnaXQnLCAnaGFja2VyLW5ld3MnLCAndGVuY2VudC13ZWlibycsICdxcScsICd3ZWl4aW4nLCAncGFwZXItcGxhbmUnLCAncGFwZXItcGxhbmUtbycsICdoaXN0b3J5JywgJ2NpcmNsZS10aGluJywgJ2hlYWRlcicsICdwYXJhZ3JhcGgnLCAnc2xpZGVycycsICdzaGFyZS1hbHQnLCAnc2hhcmUtYWx0LXNxdWFyZScsICdib21iJywgJ2Z1dGJvbC1vJywgJ3R0eScsICdiaW5vY3VsYXJzJywgJ3BsdWcnLCAnc2xpZGVzaGFyZScsICd0d2l0Y2gnLCAneWVscCcsICduZXdzcGFwZXItbycsICd3aWZpJywgJ2NhbGN1bGF0b3InLCAncGF5cGFsJywgJ2dvb2dsZS13YWxsZXQnLCAnY2MtdmlzYScsICdjYy1tYXN0ZXJjYXJkJywgJ2NjLWRpc2NvdmVyJywgJ2NjLWFtZXgnLCAnY2MtcGF5cGFsJywgJ2NjLXN0cmlwZScsICdiZWxsLXNsYXNoJywgJ2JlbGwtc2xhc2gtbycsICd0cmFzaCcsICdjb3B5cmlnaHQnLCAnYXQnLCAnZXllZHJvcHBlcicsICdwYWludC1icnVzaCcsICdiaXJ0aGRheS1jYWtlJywgJ2FyZWEtY2hhcnQnLCAncGllLWNoYXJ0JywgJ2xpbmUtY2hhcnQnLCAnbGFzdGZtJywgJ2xhc3RmbS1zcXVhcmUnLCAndG9nZ2xlLW9mZicsICd0b2dnbGUtb24nLCAnYmljeWNsZScsICdidXMnLCAnaW94aG9zdCcsICdhbmdlbGxpc3QnLCAnY2MnLCAnaWxzJywgJ21lYW5wYXRoJywgJ2J1eXNlbGxhZHMnLCAnY29ubmVjdGRldmVsb3AnLCAnZGFzaGN1YmUnLCAnZm9ydW1iZWUnLCAnbGVhbnB1YicsICdzZWxsc3knLCAnc2hpcnRzaW5idWxrJywgJ3NpbXBseWJ1aWx0JywgJ3NreWF0bGFzJywgJ2NhcnQtcGx1cycsICdjYXJ0LWFycm93LWRvd24nLCAnZGlhbW9uZCcsICdzaGlwJywgJ3VzZXItc2VjcmV0JywgJ21vdG9yY3ljbGUnLCAnc3RyZWV0LXZpZXcnLCAnaGVhcnRiZWF0JywgJ3ZlbnVzJywgJ21hcnMnLCAnbWVyY3VyeScsICd0cmFuc2dlbmRlcicsICd0cmFuc2dlbmRlci1hbHQnLCAndmVudXMtZG91YmxlJywgJ21hcnMtZG91YmxlJywgJ3ZlbnVzLW1hcnMnLCAnbWFycy1zdHJva2UnLCAnbWFycy1zdHJva2UtdicsICdtYXJzLXN0cm9rZS1oJywgJ25ldXRlcicsICdnZW5kZXJsZXNzJywgJ2ZhY2Vib29rLW9mZmljaWFsJywgJ3BpbnRlcmVzdC1wJywgJ3doYXRzYXBwJywgJ3NlcnZlcicsICd1c2VyLXBsdXMnLCAndXNlci10aW1lcycsICdiZWQnLCAndmlhY29pbicsICd0cmFpbicsICdzdWJ3YXknLCAnbWVkaXVtJywgJ3ktY29tYmluYXRvcicsICdvcHRpbi1tb25zdGVyJywgJ29wZW5jYXJ0JywgJ2V4cGVkaXRlZHNzbCcsICdiYXR0ZXJ5LWZ1bGwnLCAnYmF0dGVyeS10aHJlZS1xdWFydGVycycsICdiYXR0ZXJ5LWhhbGYnLCAnYmF0dGVyeS1xdWFydGVyJywgJ2JhdHRlcnktZW1wdHknLCAnbW91c2UtcG9pbnRlcicsICdpLWN1cnNvcicsICdvYmplY3QtZ3JvdXAnLCAnb2JqZWN0LXVuZ3JvdXAnLCAnc3RpY2t5LW5vdGUnLCAnc3RpY2t5LW5vdGUtbycsICdjYy1qY2InLCAnY2MtZGluZXJzLWNsdWInLCAnY2xvbmUnLCAnYmFsYW5jZS1zY2FsZScsICdob3VyZ2xhc3MtbycsICdob3VyZ2xhc3Mtc3RhcnQnLCAnaG91cmdsYXNzLWhhbGYnLCAnaG91cmdsYXNzLWVuZCcsICdob3VyZ2xhc3MnLCAnaGFuZC1yb2NrLW8nLCAnaGFuZC1wYXBlci1vJywgJ2hhbmQtc2Npc3NvcnMtbycsICdoYW5kLWxpemFyZC1vJywgJ2hhbmQtc3BvY2stbycsICdoYW5kLXBvaW50ZXItbycsICdoYW5kLXBlYWNlLW8nLCAndHJhZGVtYXJrJywgJ3JlZ2lzdGVyZWQnLCAnY3JlYXRpdmUtY29tbW9ucycsICdnZycsICdnZy1jaXJjbGUnLCAndHJpcGFkdmlzb3InLCAnb2Rub2tsYXNzbmlraScsICdvZG5va2xhc3NuaWtpLXNxdWFyZScsICdnZXQtcG9ja2V0JywgJ3dpa2lwZWRpYS13JywgJ3NhZmFyaScsICdjaHJvbWUnLCAnZmlyZWZveCcsICdvcGVyYScsICdpbnRlcm5ldC1leHBsb3JlcicsICd0ZWxldmlzaW9uJywgJ2NvbnRhbycsICc1MDBweCcsICdhbWF6b24nLCAnY2FsZW5kYXItcGx1cy1vJywgJ2NhbGVuZGFyLW1pbnVzLW8nLCAnY2FsZW5kYXItdGltZXMtbycsICdjYWxlbmRhci1jaGVjay1vJywgJ2luZHVzdHJ5JywgJ21hcC1waW4nLCAnbWFwLXNpZ25zJywgJ21hcC1vJywgJ21hcCcsICdjb21tZW50aW5nJywgJ2NvbW1lbnRpbmctbycsICdob3V6eicsICd2aW1lbycsICdibGFjay10aWUnLCAnZm9udGljb25zJywgJ3JlZGRpdC1hbGllbicsICdlZGdlJywgJ2NyZWRpdC1jYXJkLWFsdCcsICdjb2RpZXBpZScsICdtb2R4JywgJ2ZvcnQtYXdlc29tZScsICd1c2InLCAncHJvZHVjdC1odW50JywgJ21peGNsb3VkJywgJ3NjcmliZCcsICdwYXVzZS1jaXJjbGUnLCAncGF1c2UtY2lyY2xlLW8nLCAnc3RvcC1jaXJjbGUnLCAnc3RvcC1jaXJjbGUtbycsICdzaG9wcGluZy1iYWcnLCAnc2hvcHBpbmctYmFza2V0JywgJ2hhc2h0YWcnLCAnYmx1ZXRvb3RoJywgJ2JsdWV0b290aC1iJywgJ3BlcmNlbnQnLCAnZ2l0bGFiJywgJ3dwYmVnaW5uZXInLCAnd3Bmb3JtcycsICdlbnZpcmEnLCAndW5pdmVyc2FsLWFjY2VzcycsICd3aGVlbGNoYWlyLWFsdCcsICdxdWVzdGlvbi1jaXJjbGUtbycsICdibGluZCcsICdhdWRpby1kZXNjcmlwdGlvbicsICd2b2x1bWUtY29udHJvbC1waG9uZScsICdicmFpbGxlJywgJ2Fzc2lzdGl2ZS1saXN0ZW5pbmctc3lzdGVtcycsICdhbWVyaWNhbi1zaWduLWxhbmd1YWdlLWludGVycHJldGluZycsICdkZWFmJywgJ2dsaWRlJywgJ2dsaWRlLWcnLCAnc2lnbi1sYW5ndWFnZScsICdsb3ctdmlzaW9uJywgJ3ZpYWRlbycsICd2aWFkZW8tc3F1YXJlJywgJ3NuYXBjaGF0JywgJ3NuYXBjaGF0LWdob3N0JywgJ3NuYXBjaGF0LXNxdWFyZScsICdwaWVkLXBpcGVyJywgJ2ZpcnN0LW9yZGVyJywgJ3lvYXN0JywgJ3RoZW1laXNsZScsICdnb29nbGUtcGx1cy1vZmZpY2lhbCcsICdmb250LWF3ZXNvbWUnLCAnaGFuZHNoYWtlLW8nLCAnZW52ZWxvcGUtb3BlbicsICdlbnZlbG9wZS1vcGVuLW8nLCAnbGlub2RlJywgJ2FkZHJlc3MtYm9vaycsICdhZGRyZXNzLWJvb2stbycsICdhZGRyZXNzLWNhcmQnLCAnYWRkcmVzcy1jYXJkLW8nLCAndXNlci1jaXJjbGUnLCAndXNlci1jaXJjbGUtbycsICd1c2VyLW8nLCAnaWQtYmFkZ2UnLCAnaWQtY2FyZCcsICdpZC1jYXJkLW8nLCAncXVvcmEnLCAnZnJlZS1jb2RlLWNhbXAnLCAndGVsZWdyYW0nLCAndGhlcm1vbWV0ZXItZnVsbCcsICd0aGVybW9tZXRlci10aHJlZS1xdWFydGVycycsICd0aGVybW9tZXRlci1oYWxmJywgJ3RoZXJtb21ldGVyLXF1YXJ0ZXInLCAndGhlcm1vbWV0ZXItZW1wdHknLCAnc2hvd2VyJywgJ2JhdGgnLCAncG9kY2FzdCcsICd3aW5kb3ctbWF4aW1pemUnLCAnd2luZG93LW1pbmltaXplJywgJ3dpbmRvdy1yZXN0b3JlJywgJ3dpbmRvdy1jbG9zZScsICd3aW5kb3ctY2xvc2UtbycsICdiYW5kY2FtcCcsICdncmF2JywgJ2V0c3knLCAnaW1kYicsICdyYXZlbHJ5JywgJ2VlcmNhc3QnLCAnbWljcm9jaGlwJywgJ3Nub3dmbGFrZS1vJywgJ3N1cGVycG93ZXJzJywgJ3dwZXhwbG9yZXInLCAnbWVldHVwJ107XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEljb24gPSAnZmEtc21pbGUtbyc7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEljb25UZXh0ID0gJ3NtaWxlLW8nO1xuXG4gICAgICAgICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdEljb24gPSBmdW5jdGlvbiAoaWNvbikge1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvblRleHQgPSBpY29uO1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvbiA9ICdmYS0nICsgaWNvbjtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmluc2VydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHtcbiAgICAgICAgICAgICAgICBpY29uOiAkc2NvcGUuc2VsZWN0ZWRJY29uLFxuICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5zZWxlY3RlZEljb25UZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcblxuICAgIHZhciBwb3N0TW9kYWwgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgJHVpYk1vZGFsLCB0YWdzKSB7XG4gICAgICAgICRzY29wZS50aXRsZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5lbnRyeSA9IG51bGw7XG4gICAgICAgICRzY29wZS50YWdzID0gdGFncztcbiAgICAgICAgJHNjb3BlLmljb25EZXRhaWxzID0gbnVsbDtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gJCgnI3Bvc3RNb2RhbC1lbnRyeScpLnJlZGFjdG9yKCdjb2RlLmdldCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcG9zdERldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICRzY29wZS50aXRsZSxcbiAgICAgICAgICAgICAgICBlbnRyeTogJHNjb3BlLmVudHJ5LFxuICAgICAgICAgICAgICAgIHRhZ3M6ICRzY29wZS50YWdzLFxuICAgICAgICAgICAgICAgIGljb246ICgkc2NvcGUuaWNvbkRldGFpbHMgPyAkc2NvcGUuaWNvbkRldGFpbHMuaWNvbiA6IG51bGwpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7XG4gICAgICAgICAgICAgICAgcG9zdERldGFpbHM6IHBvc3REZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgICRzY29wZS5zZWxlY3RJY29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpY29uTW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2ljb25Nb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pY29uRGV0YWlscyA9IHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgICAgICB9O1xuXG4gICAgfTtcblxuICAgIHZhciBob21lQ29udHJvbGxlciA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbCwgcG9zdHNTZXJ2aWNlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBzZWxmLmNyZWF0ZVBvc3QgPSBmdW5jdGlvbiAodGFncykge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwb3N0TW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RNb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWdzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gcmVzdWx0cy5wb3N0RGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbHMpIHsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RzU2VydmljZS5zdG9yZShkZXRhaWxzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlbmRlcmVkLnRoZW4oXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3cgdGhhdCBpdCdzIG9wZW5lZCBydW4gcmVkYWN0b3JcbiAgICAgICAgICAgICAgICAgICAgJCgndGV4dGFyZWEucmVkYWN0b3InKS5yZWRhY3RvcihfcmVkYWN0b3JDb25maWcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNtaXNzZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdnZXRyZWFsdCcsIFsnZ2V0cmVhbHQucmVzdCcsICd1aS5ib290c3RyYXAnXSlcbiAgICAgICAgLmZhY3RvcnkoJ2V2ZW50RmFjdG9yeScsIFsnJHJvb3RTY29wZScsIGV2ZW50RmFjdG9yeV0pXG4gICAgICAgIC5zZXJ2aWNlKCdsaXN0aW5nU2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCAncmVzdFNlcnZpY2UnLCBsaXN0aW5nU2VydmljZV0pXG4gICAgICAgIC5zZXJ2aWNlKCdwb3N0c1NlcnZpY2UnLCBbJyRxJywgJyRodHRwJywgJ3Jlc3RTZXJ2aWNlJywgcG9zdHNTZXJ2aWNlXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3NlYXJjaFdpZGdldCcsIFsnJHNjb3BlJywgJ2V2ZW50RmFjdG9yeScsICdsaXN0aW5nU2VydmljZScsIHNlYXJjaFdpZGdldF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdsaXN0aW5nc1dpZGdldCcsIFsnJHNjb3BlJywgJ2V2ZW50RmFjdG9yeScsIGxpc3RpbmdzV2lkZ2V0XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xpc3RpbmdEZXRhaWxzJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsJywgJ2xpc3RpbmdTZXJ2aWNlJywgbGlzdGluZ0RldGFpbHNdKVxuICAgICAgICAuY29udHJvbGxlcignY29udGFjdEFnZW50TW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdwYXJlbnRDb250cm9sbGVyJywgY29udGFjdEFnZW50TW9kYWxdKVxuICAgICAgICAuY29udHJvbGxlcignbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnbWVzc2FnZScsIG1lc3NhZ2VDb25maXJtYXRpb25Nb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdpY29uTW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGljb25Nb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdwb3N0TW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAndGFncycsIHBvc3RNb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdob21lQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR1aWJNb2RhbCcsICdwb3N0c1NlcnZpY2UnLCBob21lQ29udHJvbGxlcl0pXG4gICAgICAgIC5kaXJlY3RpdmUoJ25nRW50ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImtleWRvd24ga2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdFbnRlciwgeyAnZXZlbnQnOiBldmVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxufSkoKTtcblxuXG4iXX0=
