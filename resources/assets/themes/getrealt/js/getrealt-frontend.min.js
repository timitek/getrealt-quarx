!function(){"use strict";var e=function(e,t){var r=this;r.getOverride=function(e,t){return void 0===t?e:t},r.applyOptions=function(e){var t={maxRetries:3,enableCache:!0,method:"GET",responseType:"json"};return e&&(t.maxRetries=r.getOverride(t.maxRetries,e.maxRetries),t.enableCache=r.getOverride(t.enableCache,e.enableCache),t.method=r.getOverride(t.method,e.method),t.responseType=r.getOverride(t.responseType,e.responseType),t.headers=r.getOverride(t.headers,e.headers),t.transformRequest=r.getOverride(t.transformRequest,e.transformRequest)),"GET"===t.method?t.params=e.params:t.data=e.params,t.url=e.url,t},r.allowCaching=function(e){var t=e.enableCache;return t&&(t=!1),t},r.cacheResults=function(t,o){var a=e.defer();return r.allowCaching(t)||a.resolve(null),a.promise},r.fetchFromCache=function(t){var o=e.defer();return r.allowCaching(t)||o.resolve(null),o.promise},r.process=function(o){var a=e.defer();return r.fetchFromCache(o).then(function(e){if(e)a.resolve(e);else{var i={url:o.url,method:o.method,responseType:o.responseType,data:o.data,params:o.params};o.headers&&(i.headers=o.headers),o.transformRequest&&(i.transformRequest=o.transformRequest),t(i).then(function(e){e&&o.enableCache&&r.cacheResults(o,e.data),a.resolve(e.data)},function(e,t,r,o){a.reject({data:e,status:t,headers:r,config:o})})}}),a.promise},r.go=function(t){var o=e.defer(),a=r.applyOptions(t);return polly().retry(r.maxRetries).executeForPromise(function(){return r.process(a)}).then(function(e){o.resolve(e)},function(e){if(o.reject(e.data),e.data&&401===e.data.status){!0===confirm("You are not authorized to perform this action.  It's possible your session has timed out.  Would you like to try logging back in?")&&window.location.reload(!0)}else alert("There was an error!")}),o.promise}};angular.module("getrealt.rest",[]).service("restService",["$q","$http",e])}(),function(){var e=function(e,t,r){this.index=function(t,o,a,i,n,s,l,c,d){var u=e.defer(),p={keywords:o};return t&&(t&&(p.advancedSearch=t),a&&(p.minPrice=a),i&&(p.maxPrice=i),l&&(p.includeResidential=l),c&&(p.includeLand=c),d&&(p.includeCommercial=d),n&&(p.beds=n),s&&(p.baths=s)),r.go({url:"/getrealt/listings",method:"POST",params:p}).then(function(e){u.resolve(e.data)},function(e){throw u.reject(e.data),e}),u.promise},this.show=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.sendLead=function(t){var o=e.defer();return r.go({url:"/getrealt/listings/sendLead",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},t=function(e,t,r){this.store=function(t){var o=e.defer();return r.go({url:"/getrealt/posts",method:"POST",params:t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise},this.edit=function(t){var o=e.defer();return r.go({url:"/getrealt/posts/"+t}).then(function(e){o.resolve(e.data)},function(e){throw o.reject(e.data),e}),o.promise}},r=function(e,t,r){e.advancedSearch=!1,e.keywords=null,e.minPrice=null,e.maxPrice=null,e.beds=null,e.baths=null,e.includeResidential=!0,e.includeLand=!0,e.includeCommercial=!0,e.listings=null,e.search=function(){(e.advancedSearch||e.keywords)&&(t.searchingListings(!0),r.index(e.advancedSearch,e.keywords,e.minPrice,e.maxPrice,e.beds,e.baths,e.includeResidential,e.includeLand,e.includeCommercial).then(function(r){e.listings=r,t.searchingListings(!1),t.refreshListings(e.listings)}))}},o=function(e,t){e.listings=null,t.onSearchingListings(e,function(t){e.searching=t}),t.onRefreshListings(e,function(t){e.listings=t})},a=function(e){var t=function(t){e.$broadcast("refreshListings",t)},r=function(e,t){e.$on("refreshListings",function(e,r){t(r)})};return{refreshListings:t,onRefreshListings:r,searchingListings:function(t){e.$broadcast("searchingListings",t)},onSearchingListings:function(e,t){e.$on("searchingListings",function(e,r){t(r)})}}},i=function(e,t,r){e.listingSource=null,e.listingType=null,e.listingID=null,e.address=null,e.initMap=function(){var t=new google.maps.Geocoder;t&&t.geocode({address:e.address},function(t,r){if(r===google.maps.GeocoderStatus.OK&&r!==google.maps.GeocoderStatus.ZERO_RESULTS){var o=t[0].geometry.location,a=document.getElementById("map");a.style.display="block";var i={center:o,zoom:16,panControl:!1,scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},n=new google.maps.Map(a,i),s=new google.maps.Marker({position:o,map:n,icon:"/assets/themes/getrealt/images/marker.png"}),l="http://www.google.com/maps/dir/current+position/"+encodeURI(e.address),c="http://maps.google.com/maps?q=&layer=c&cbll="+t[0].geometry.location.lat()+","+t[0].geometry.location.lng(),d='<div class="info-window"><h5><i class="fa fa-map-marker"></i> '+t[0].formatted_address+'</h5><div class="info-content"><p><i class="fa fa-car"></i>: <a href="'+l+'" target="_blank">Get Directions</a><br /><i class="fa fa-street-view"></i>: <a href="'+c+'" target="_blank">Street View</a><br /></p></div></div>',u=new google.maps.InfoWindow({content:d,maxWidth:400});s.addListener("click",function(){u.open(n,s)});var p=[{featureType:"administrative",stylers:[{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"simplified"}]},{featureType:"water",stylers:[{visibility:"simplified"}]},{featureType:"transit",stylers:[{visibility:"simplified"}]},{featureType:"landscape",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{visibility:"off"}]},{featureType:"road.local",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",stylers:[{color:"#84afa3"},{lightness:52}]},{stylers:[{saturation:-17},{gamma:.36}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#3f518c"}]}];n.set("styles",p)}})},e.initSliders=function(){$("#carousel").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,itemWidth:210,itemMargin:5,smoothHeight:!0,asNavFor:"#slider"}),$("#slider").flexslider({animation:"slide",controlNav:!1,animationLoop:!1,slideshow:!1,smoothHeight:!0,sync:"#carousel"})},e.contactAgent=function(){t.open({templateUrl:"contactAgent.html",controller:"contactAgentModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{parentController:function(){return e}}}).result.then(function(o){var a=o.contactInfo;a&&(a.name||a.phone||a.email||a.message)&&(a.listingSource=e.listingSource,a.listingType=e.listingType,a.listingID=e.listingID,r.sendLead(a).then(function(e){t.open({templateUrl:"messageConfirmation.html",controller:"messageConfirmationModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"sm",resolve:{message:function(){return e.success?"Message Sent!":"Oops! Our messaging is down right now.  Try contacting us directly please!"}}})}))},function(){})},e.start=function(t,r,o,a){e.listingSource=t,e.listingType=r,e.listingID=o,e.address=a,google.maps.event.addDomListener(window,"load",e.initMap),e.initSliders()}},n=function(e,t,r){e.name=null,e.phone=null,e.email=null,e.message=null,e.send=function(){var r={name:e.name,phone:e.phone,email:e.email,message:e.message};t.close({contactInfo:r})},e.cancel=function(){t.dismiss("cancel")}},s=function(e,t,r){e.message=r,e.cancel=function(){t.dismiss("cancel")}},l=function(e,t){e.icons=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","times","search-plus","search-minus","power-off","signal","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","outdent","indent","video-camera","picture-o","pencil","map-marker","adjust","tint","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart","twitter-square","facebook-square","camera-retro","key","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook","github","unlock","credit-card","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","users","link","cloud","flask","scissors","files-o","paperclip","floppy-o","square","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","sort","sort-desc","sort-asc","envelope","linkedin","undo","gavel","tachometer","comment-o","comments-o","bolt","sitemap","umbrella","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile","circle-o","quote-left","quote-right","spinner","circle","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","reply-all","star-half-o","location-arrow","crop","code-fork","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","caret-square-o-down","caret-square-o-up","caret-square-o-right","eur","gbp","usd","inr","jpy","rub","krw","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","university","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","car","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-image-o","file-archive-o","file-audio-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-ring","circle-o-notch","rebel","empire","git-square","git","hacker-news","tencent-weibo","qq","weixin","paper-plane","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","bed","viacoin","train","subway","medium","y-combinator","optin-monster","opencart","expeditedssl","battery-full","battery-three-quarters","battery-half","battery-quarter","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-start","hourglass-half","hourglass-end","hourglass","hand-rock-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","american-sign-language-interpreting","deaf","glide","glide-g","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-official","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","address-card","address-card-o","user-circle","user-circle-o","user-o","id-badge","id-card","id-card-o","quora","free-code-camp","telegram","thermometer-full","thermometer-three-quarters","thermometer-half","thermometer-quarter","thermometer-empty","shower","bath","podcast","window-maximize","window-minimize","window-restore","window-close","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"],e.selectedIcon="fa-smile-o",e.selectedIconText="smile-o",e.searchText="",e.selectIcon=function(t){e.selectedIconText=t,e.selectedIcon="fa-"+t},e.cancel=function(){t.dismiss("cancel")},e.insert=function(){t.close({icon:e.selectedIcon,text:e.selectedIconText})}},c=function(e,t,r,o,a,i){e.id=i,e.title=null,e.entry=null,e.tags=a,e.iconDetails=null,e.main=!1,e.news=!1,e.save=function(){e.entry=$("#postModal-entry").redactor("code.get");var r=e.tags.split(",");e.main&&r.indexOf("Main")<0&&r.push("Main"),e.news&&r.indexOf("News")<0&&r.push("News");var o={id:e.id,title:e.title,entry:e.entry,tags:r.join(","),icon:e.iconDetails?e.iconDetails.icon:null};t.close({postDetails:o})},e.clearIcon=function(){e.iconDetails=null},e.selectIcon=function(){r.open({templateUrl:"iconModal.html",controller:"iconModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg"}).result.then(function(t){e.iconDetails=t},function(){})},e.cancel=function(){t.dismiss("cancel")},i&&o.edit(i).then(function(t){var r=t.tags.split(","),o=r.indexOf("Main");if(o>-1&&(e.main=!0,r.splice(o,1)),o=r.indexOf("News"),o>-1&&(e.news=!0,r.splice(o,1)),e.entry=t.entry?t.entry.value:null,e.entry&&e.entry.length>7&&"<p><i "===e.entry.substring(0,6).toLowerCase()){var a=e.entry.split("</i>");e.iconDetails={icon:a[0].split('"')[1].replace("fa ",""),text:a[0].split('"')[1].replace("fa fa-","")},a[0]=null,e.entry="<p>"+a.join("")}e.id=i,e.title=t.title,e.tags=r.join(","),$("textarea.redactor").redactor("code.set",e.entry)})},d=function(e,t,r){var o=this;o.editPost=function(e,o){var a=t.open({templateUrl:"postModal.html",controller:"postModal",ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",size:"lg",resolve:{tags:function(){return e},id:function(){return o}}});a.result.then(function(e){var t=e.postDetails;t&&r.store(t).then(function(e){location.reload()})},function(){}),a.rendered.then(function(){$("textarea.redactor").redactor(_redactorConfig)},function(){})},o.start=function(){}};angular.module("getrealt",["getrealt.rest","ui.bootstrap"]).factory("eventFactory",["$rootScope",a]).service("listingService",["$q","$http","restService",e]).service("postsService",["$q","$http","restService",t]).controller("searchWidget",["$scope","eventFactory","listingService",r]).controller("listingsWidget",["$scope","eventFactory",o]).controller("listingDetails",["$scope","$uibModal","listingService",i]).controller("contactAgentModal",["$scope","$uibModalInstance","parentController",n]).controller("messageConfirmationModal",["$scope","$uibModalInstance","message",s]).controller("iconModal",["$scope","$uibModalInstance",l]).controller("postModal",["$scope","$uibModalInstance","$uibModal","postsService","tags","id",c]).controller("frontEndController",["$scope","$uibModal","postsService",d]).directive("ngEnter",function(){return function(e,t,r){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.ngEnter,{event:t})}),t.preventDefault())})}})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3QuanMiLCJnZXRyZWFsdC1mcm9udGVuZC5qcyJdLCJuYW1lcyI6WyJyZXN0U2VydmljZSIsIiRxIiwiJGh0dHAiLCJzZWxmIiwidGhpcyIsImdldE92ZXJyaWRlIiwiZGVmYXVsdFZhbHVlIiwib3ZlcnJpZGVWYWx1ZSIsImFwcGx5T3B0aW9ucyIsIm9wdGlvbnMiLCJwYXJhbXMiLCJtYXhSZXRyaWVzIiwiZW5hYmxlQ2FjaGUiLCJtZXRob2QiLCJyZXNwb25zZVR5cGUiLCJoZWFkZXJzIiwidHJhbnNmb3JtUmVxdWVzdCIsImRhdGEiLCJ1cmwiLCJhbGxvd0NhY2hpbmciLCJhbGxvdyIsImNhY2hlUmVzdWx0cyIsInJlc3VsdHMiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzb2x2ZSIsInByb21pc2UiLCJmZXRjaEZyb21DYWNoZSIsInByb2Nlc3MiLCJ0aGVuIiwiaHR0cE9wdGlvbnMiLCJzdGF0dXMiLCJjb25maWciLCJyZWplY3QiLCJnbyIsInBvbGx5IiwicmV0cnkiLCJleGVjdXRlRm9yUHJvbWlzZSIsImVyciIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImFsZXJ0IiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2UiLCJsaXN0aW5nU2VydmljZSIsImluZGV4IiwiYWR2YW5jZWRTZWFyY2giLCJrZXl3b3JkcyIsIm1pblByaWNlIiwibWF4UHJpY2UiLCJiZWRzIiwiYmF0aHMiLCJpbmNsdWRlUmVzaWRlbnRpYWwiLCJpbmNsdWRlTGFuZCIsImluY2x1ZGVDb21tZXJjaWFsIiwic2hvdyIsImlkIiwic2VuZExlYWQiLCJpbmZvIiwicG9zdHNTZXJ2aWNlIiwic3RvcmUiLCJkZXRhaWxzIiwiZWRpdCIsInNlYXJjaFdpZGdldCIsIiRzY29wZSIsImV2ZW50RmFjdG9yeSIsImxpc3RpbmdzIiwic2VhcmNoIiwic2VhcmNoaW5nTGlzdGluZ3MiLCJyZWZyZXNoTGlzdGluZ3MiLCJsaXN0aW5nc1dpZGdldCIsIm9uU2VhcmNoaW5nTGlzdGluZ3MiLCJzZWFyY2hpbmciLCJvblJlZnJlc2hMaXN0aW5ncyIsIiRyb290U2NvcGUiLCIkYnJvYWRjYXN0IiwiaGFuZGxlciIsIiRvbiIsImV2ZW50IiwibWVzc2FnZSIsImxpc3RpbmdEZXRhaWxzIiwiJHVpYk1vZGFsIiwibGlzdGluZ1NvdXJjZSIsImxpc3RpbmdUeXBlIiwibGlzdGluZ0lEIiwiYWRkcmVzcyIsImluaXRNYXAiLCJnZW9jb2RlciIsImdvb2dsZSIsIm1hcHMiLCJHZW9jb2RlciIsImdlb2NvZGUiLCJHZW9jb2RlclN0YXR1cyIsIk9LIiwiWkVST19SRVNVTFRTIiwiZ2VvbWV0cnkiLCJtYXBDYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwibWFwT3B0aW9ucyIsImNlbnRlciIsInpvb20iLCJwYW5Db250cm9sIiwic2Nyb2xsd2hlZWwiLCJtYXBUeXBlSWQiLCJNYXBUeXBlSWQiLCJST0FETUFQIiwibWFwIiwiTWFwIiwibWFya2VyIiwiTWFya2VyIiwicG9zaXRpb24iLCJpY29uIiwiZGlyZWN0aW9uc0xpbmsiLCJlbmNvZGVVUkkiLCJzdHJlZXRWaWV3TGluayIsImxhdCIsImxuZyIsImNvbnRlbnRTdHJpbmciLCJmb3JtYXR0ZWRfYWRkcmVzcyIsImluZm93aW5kb3ciLCJJbmZvV2luZG93IiwiY29udGVudCIsIm1heFdpZHRoIiwiYWRkTGlzdGVuZXIiLCJvcGVuIiwic3R5bGVzIiwiZmVhdHVyZVR5cGUiLCJzdHlsZXJzIiwidmlzaWJpbGl0eSIsImVsZW1lbnRUeXBlIiwiY29sb3IiLCJsaWdodG5lc3MiLCJzYXR1cmF0aW9uIiwiZ2FtbWEiLCJzZXQiLCJpbml0U2xpZGVycyIsIiQiLCJmbGV4c2xpZGVyIiwiYW5pbWF0aW9uIiwiY29udHJvbE5hdiIsImFuaW1hdGlvbkxvb3AiLCJzbGlkZXNob3ciLCJpdGVtV2lkdGgiLCJpdGVtTWFyZ2luIiwic21vb3RoSGVpZ2h0IiwiYXNOYXZGb3IiLCJzeW5jIiwiY29udGFjdEFnZW50IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiYXJpYUxhYmVsbGVkQnkiLCJhcmlhRGVzY3JpYmVkQnkiLCJzaXplIiwicGFyZW50Q29udHJvbGxlciIsInJlc3VsdCIsImNvbnRhY3RJbmZvIiwibmFtZSIsInBob25lIiwiZW1haWwiLCJzdWNjZXNzIiwic3RhcnQiLCJhZGREb21MaXN0ZW5lciIsImNvbnRhY3RBZ2VudE1vZGFsIiwiJHVpYk1vZGFsSW5zdGFuY2UiLCJzZW5kIiwiY2xvc2UiLCJjYW5jZWwiLCJkaXNtaXNzIiwibWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsIiwiaWNvbk1vZGFsIiwiaWNvbnMiLCJzZWxlY3RlZEljb24iLCJzZWxlY3RlZEljb25UZXh0Iiwic2VhcmNoVGV4dCIsInNlbGVjdEljb24iLCJpbnNlcnQiLCJ0ZXh0IiwicG9zdE1vZGFsIiwidGFncyIsInRpdGxlIiwiZW50cnkiLCJpY29uRGV0YWlscyIsIm1haW4iLCJuZXdzIiwic2F2ZSIsInJlZGFjdG9yIiwic3BsaXQiLCJpbmRleE9mIiwicHVzaCIsInBvc3REZXRhaWxzIiwiam9pbiIsImNsZWFySWNvbiIsImkiLCJzcGxpY2UiLCJ2YWx1ZSIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwiZW50cnlQYXJ0cyIsInJlcGxhY2UiLCJmcm9udEVuZENvbnRyb2xsZXIiLCJlZGl0UG9zdCIsIm1vZGFsSW5zdGFuY2UiLCJyZW5kZXJlZCIsIl9yZWRhY3RvckNvbmZpZyIsImZhY3RvcnkiLCJkaXJlY3RpdmUiLCJzY29wZSIsImVsZW1lbnQiLCJhdHRycyIsImJpbmQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLFlBR0EsSUFBQUEsR0FBQSxTQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUFDLElBRUFELEdBQUFFLFlBQUEsU0FBQUMsRUFBQUMsR0FFQSxXQURBLEtBQUFBLEVB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QUEsU0FBQSxnQkFBQSxTQUFBLFVBQUEsUUFBQSxXQUFBLGFBQUEsZUFBQSxVQUFBLFdBQUEsU0FBQSxTQUFBLGNBQUEsTUFBQSxRQUFBLFdBQUEsT0FBQSxjQUFBLGVBQUEsY0FBQSxZQUFBLGNBQUEsb0JBQUEscUJBQUEsa0JBQUEsb0JBQUEsUUFBQSxTQUFBLFFBQUEsU0FBQSxZQUFBLGFBQUEsUUFBQSxPQUFBLFFBQUEsUUFBQSxXQUFBLFVBQUEsWUFBQSxXQUFBLFNBQUEsT0FBQSxVQUFBLFVBQUEsZ0JBQUEsWUFBQSxRQUFBLFFBQUEsUUFBQSxZQUFBLG1CQUFBLHFCQUFBLGNBQUEsUUFBQSxhQUFBLFdBQUEsYUFBQSxjQUFBLFVBQUEsT0FBQSxZQUFBLFdBQUEsV0FBQSxXQUFBLE9BQUEsUUFBQSxhQUFBLFlBQUEsYUFBQSxPQUFBLFVBQUEsV0FBQSxZQUFBLGNBQUEsV0FBQSxpQkFBQSxlQUFBLFVBQUEsY0FBQSxXQUFBLFNBQUEsU0FBQSxVQUFBLGNBQUEsYUFBQSxhQUFBLFlBQUEsU0FBQSxjQUFBLE9BQUEsV0FBQSxjQUFBLG9CQUFBLHFCQUFBLGtCQUFBLG9CQUFBLGFBQUEsY0FBQSxXQUFBLGFBQUEsVUFBQSxTQUFBLFNBQUEsU0FBQSxXQUFBLGFBQUEsY0FBQSxVQUFBLFNBQUEsUUFBQSxhQUFBLFdBQUEsZ0JBQUEsVUFBQSxVQUFBLFFBQUEsVUFBQSxhQUFBLFNBQUEsaUJBQUEsV0FBQSxPQUFBLFlBQUEsY0FBQSxpQkFBQSxPQUFBLFlBQUEsZUFBQSxXQUFBLE9BQUEsY0FBQSxjQUFBLFlBQUEsU0FBQSxlQUFBLGFBQUEsbUJBQUEsU0FBQSxhQUFBLG9CQUFBLFNBQUEsU0FBQSxzQkFBQSx1QkFBQSxvQkFBQSxzQkFBQSxRQUFBLE9BQUEsU0FBQSxhQUFBLFdBQUEsYUFBQSxhQUFBLGFBQUEsY0FBQSxTQUFBLGVBQUEsaUJBQUEsV0FBQSxhQUFBLGVBQUEsZ0JBQUEsdUJBQUEsZUFBQSxVQUFBLHNCQUFBLG9CQUFBLHVCQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxNQUFBLE1BQUEsTUFBQSxPQUFBLFlBQUEsaUJBQUEsa0JBQUEsa0JBQUEsbUJBQUEsbUJBQUEsb0JBQUEsWUFBQSxjQUFBLGlCQUFBLFVBQUEsT0FBQSxjQUFBLGVBQUEsVUFBQSxpQkFBQSxZQUFBLFNBQUEsTUFBQSxZQUFBLG1CQUFBLFNBQUEsZ0JBQUEsa0JBQUEsZ0JBQUEsa0JBQUEsbUJBQUEsUUFBQSxVQUFBLFVBQUEsUUFBQSxXQUFBLFFBQUEsYUFBQSxTQUFBLFNBQUEsT0FBQSxXQUFBLFFBQUEsU0FBQSxVQUFBLE1BQUEsS0FBQSxRQUFBLFNBQUEsWUFBQSxpQkFBQSx1QkFBQSxzQkFBQSxzQkFBQSxlQUFBLGFBQUEsZUFBQSxNQUFBLGdCQUFBLGdCQUFBLFFBQUEsa0JBQUEsWUFBQSxTQUFBLGFBQUEsaUJBQUEsUUFBQSxTQUFBLFNBQUEsZ0JBQUEscUJBQUEsY0FBQSxZQUFBLE9BQUEsZ0JBQUEsaUJBQUEsU0FBQSxTQUFBLFdBQUEsTUFBQSxXQUFBLFFBQUEsTUFBQSxRQUFBLE9BQUEsUUFBQSxVQUFBLGlCQUFBLFFBQUEsZUFBQSxVQUFBLE1BQUEsT0FBQSxPQUFBLFVBQUEsYUFBQSxhQUFBLFdBQUEsYUFBQSxjQUFBLGVBQUEsb0JBQUEsZUFBQSxpQkFBQSxlQUFBLGVBQUEsY0FBQSxPQUFBLFVBQUEsV0FBQSxZQUFBLGlCQUFBLFFBQUEsU0FBQSxhQUFBLE1BQUEsY0FBQSxnQkFBQSxLQUFBLFNBQUEsY0FBQSxnQkFBQSxVQUFBLGNBQUEsU0FBQSxZQUFBLFVBQUEsWUFBQSxtQkFBQSxPQUFBLFdBQUEsTUFBQSxhQUFBLE9BQUEsYUFBQSxTQUFBLE9BQUEsY0FBQSxPQUFBLGFBQUEsU0FBQSxnQkFBQSxVQUFBLGdCQUFBLGNBQUEsVUFBQSxZQUFBLFlBQUEsYUFBQSxlQUFBLFFBQUEsWUFBQSxLQUFBLGFBQUEsY0FBQSxnQkFBQSxhQUFBLFlBQUEsYUFBQSxTQUFBLGdCQUFBLGFBQUEsWUFBQSxVQUFBLE1BQUEsVUFBQSxZQUFBLEtBQUEsTUFBQSxXQUFBLGFBQUEsaUJBQUEsV0FBQSxXQUFBLFVBQUEsU0FBQSxlQUFBLGNBQUEsV0FBQSxZQUFBLGtCQUFBLFVBQUEsT0FBQSxjQUFBLGFBQUEsY0FBQSxZQUFBLFFBQUEsT0FBQSxVQUFBLGNBQUEsa0JBQUEsZUFBQSxjQUFBLGFBQUEsY0FBQSxnQkFBQSxnQkFBQSxTQUFBLGFBQUEsb0JBQUEsY0FBQSxXQUFBLFNBQUEsWUFBQSxhQUFBLE1BQUEsVUFBQSxRQUFBLFNBQUEsU0FBQSxlQUFBLGdCQUFBLFdBQUEsZUFBQSxlQUFBLHlCQUFBLGVBQUEsa0JBQUEsZ0JBQUEsZ0JBQUEsV0FBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsU0FBQSxpQkFBQSxRQUFBLGdCQUFBLGNBQUEsa0JBQUEsaUJBQUEsZ0JBQUEsWUFBQSxjQUFBLGVBQUEsa0JBQUEsZ0JBQUEsZUFBQSxpQkFBQSxlQUFBLFlBQUEsYUFBQSxtQkFBQSxLQUFBLFlBQUEsY0FBQSxnQkFBQSx1QkFBQSxhQUFBLGNBQUEsU0FBQSxTQUFBLFVBQUEsUUFBQSxvQkFBQSxhQUFBLFNBQUEsUUFBQSxTQUFBLGtCQUFBLG1CQUFBLG1CQUFBLG1CQUFBLFdBQUEsVUFBQSxZQUFBLFFBQUEsTUFBQSxhQUFBLGVBQUEsUUFBQSxRQUFBLFlBQUEsWUFBQSxlQUFBLE9BQUEsa0JBQUEsV0FBQSxPQUFBLGVBQUEsTUFBQSxlQUFBLFdBQUEsU0FBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsZUFBQSxrQkFBQSxVQUFBLFlBQUEsY0FBQSxVQUFBLFNBQUEsYUFBQSxVQUFBLFNBQUEsbUJBQUEsaUJBQUEsb0JBQUEsUUFBQSxvQkFBQSx1QkFBQSxVQUFBLDhCQUFBLHNDQUFBLE9BQUEsUUFBQSxVQUFBLGdCQUFBLGFBQUEsU0FBQSxnQkFBQSxXQUFBLGlCQUFBLGtCQUFBLGFBQUEsY0FBQSxRQUFBLFlBQUEsdUJBQUEsZUFBQSxjQUFBLGdCQUFBLGtCQUFBLFNBQUEsZUFBQSxpQkFBQSxlQUFBLGlCQUFBLGNBQUEsZ0JBQUEsU0FBQSxXQUFBLFVBQUEsWUFBQSxRQUFBLGlCQUFBLFdBQUEsbUJBQUEs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RUFBQUUsS0FBQSxtQkFBQSxTQUFBdkksR0FDQSxLQUFBQSxFQUFBd0ksUUFDQUosRUFBQUssT0FBQSxXQUNBTCxFQUFBTSxNQUFBSixFQUFBSyxTQUFBM0ksTUFBQUEsTUFHQUEsRUFBQTRJIiwiZmlsZSI6ImdldHJlYWx0LWZyb250ZW5kLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG5cbiAgICB2YXIgcmVzdFNlcnZpY2UgPSBmdW5jdGlvbiAoJHEsICRodHRwKSB7XG5cbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHNlbGYuZ2V0T3ZlcnJpZGUgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlLCBvdmVycmlkZVZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSAoKHR5cGVvZiBvdmVycmlkZVZhbHVlID09PSAndW5kZWZpbmVkJykgPyBkZWZhdWx0VmFsdWUgOiBvdmVycmlkZVZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTsgLy8gTGVhdmUgdGhlIG1lYW5pbmdsZXNzIG5ld1ZhbHVlIGluIGhlcmUgZm9yIGJyZWFrcG9pbnQgLyB3YXRjaCBwdXJwb3Nlc1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuYXBwbHlPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWF4UmV0cmllczogMyxcbiAgICAgICAgICAgICAgICBlbmFibGVDYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5tYXhSZXRyaWVzID0gc2VsZi5nZXRPdmVycmlkZShwYXJhbXMubWF4UmV0cmllcywgb3B0aW9ucy5tYXhSZXRyaWVzKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlQ2FjaGUgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5lbmFibGVDYWNoZSwgb3B0aW9ucy5lbmFibGVDYWNoZSk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1ldGhvZCA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLm1ldGhvZCwgb3B0aW9ucy5tZXRob2QpO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5yZXNwb25zZVR5cGUgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy5yZXNwb25zZVR5cGUsIG9wdGlvbnMucmVzcG9uc2VUeXBlKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuaGVhZGVycyA9IHNlbGYuZ2V0T3ZlcnJpZGUocGFyYW1zLmhlYWRlcnMsIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zZm9ybVJlcXVlc3QgPSBzZWxmLmdldE92ZXJyaWRlKHBhcmFtcy50cmFuc2Zvcm1SZXF1ZXN0LCBvcHRpb25zLnRyYW5zZm9ybVJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHRVQgdXNlcyBwYXJhbXMgYW5kIFBPU1QgdXNlcyBkYXRhXG4gICAgICAgICAgICBpZiAocGFyYW1zLm1ldGhvZCA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMucGFyYW1zID0gb3B0aW9ucy5wYXJhbXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5kYXRhID0gb3B0aW9ucy5wYXJhbXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtcy51cmwgPSBvcHRpb25zLnVybDtcblxuICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmFsbG93Q2FjaGluZyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFdlIGhhdmVuJ3QgaW1wbGVtZW50ZWQgdGhpcyB5ZXQsIGJ1dCB3ZSB3aWxsIGRvIHNvbWUgY2xpZW50IHNpZGUgY2FjaGluZ1xuICAgICAgICAgICAgdmFyIGFsbG93ID0gcGFyYW1zLmVuYWJsZUNhY2hlO1xuXG4gICAgICAgICAgICBpZiAoYWxsb3cpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBpcyBhIGNhY2hlYWJsZSB2ZXJiIChHRVQpIHRoYXQgcmV0dXJucyByZXN1bHRzIHRoYXQgY2FuIGJlIGNhY2hlZCAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIGxvY2FsIHN0b3JhZ2UgLyBjYWNoaW5nIGlzIGF2YWlsYWJsZSBvbiB0aGlzIGNsaWVudFxuXG4gICAgICAgICAgICAgICAgYWxsb3cgPSBmYWxzZTsgLy8gUmlnaHQgbm93IGRpc2FibGUgaXQgdW50aWwgd2UgaGF2ZSBpbXBsZW1lbnRlZCBjYWNoaW5nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhbGxvdztcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmNhY2hlUmVzdWx0cyA9IGZ1bmN0aW9uIChwYXJhbXMsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFdlIGhhdmVuJ3QgaW1wbGVtZW50ZWQgdGhpcyB5ZXQsIGJ1dCB3ZSB3aWxsIGRvIHNvbWUgY2xpZW50IHNpZGUgY2FjaGluZ1xuXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZi5hbGxvd0NhY2hpbmcocGFyYW1zKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEZpbmlzaCB0aGlzICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmZldGNoRnJvbUNhY2hlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZW4ndCBpbXBsZW1lbnRlZCB0aGlzIHlldCwgYnV0IHdlIHdpbGwgZG8gc29tZSBjbGllbnQgc2lkZSBjYWNoaW5nXG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmFsbG93Q2FjaGluZyhwYXJhbXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRmluaXNoIHRoaXMgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgc2VsZi5wcm9jZXNzID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgc2VsZi5mZXRjaEZyb21DYWNoZShwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGdvdCBjYWNoZWQgcmVzdWx0cywgd2UgYXJlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHR0cE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcGFyYW1zLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwYXJhbXMubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IHBhcmFtcy5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcmFtcy5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtcy5wYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwT3B0aW9ucy5oZWFkZXJzID0gcGFyYW1zLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMudHJhbnNmb3JtUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwT3B0aW9ucy50cmFuc2Zvcm1SZXF1ZXN0ID0gcGFyYW1zLnRyYW5zZm9ybVJlcXVlc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwKGh0dHBPcHRpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzICYmIHBhcmFtcy5lbmFibGVDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYWNoZVJlc3VsdHMocGFyYW1zLCByZXN1bHRzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHRzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoe2RhdGE6IGRhdGEsIHN0YXR1czogc3RhdHVzLCBoZWFkZXJzOiBoZWFkZXJzLCBjb25maWc6IGNvbmZpZ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gTWFpbiBlbnRyeSBwb2ludCBhbmQgc2hvdWxkIHR5cGljYWxseSBiZSB0aGUgb25seSBtZXRob2QgY2FsbGVkIGV4dGVybmFsbHlcbiAgICAgICAgc2VsZi5nbyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZWxmLmFwcGx5T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gUG9sbHkgaXMgdXNlZCBmb3IgdHJhbnNpZW50IGV4Y2VwdGlvbiBoYW5kbGluZ1xuICAgICAgICAgICAgLy8gV2Ugd2lsbCBtYWtlIHRoaXMgbW9yZSBzb3BoaXN0aWNhdGVkXG4gICAgICAgICAgICBwb2xseSgpXG4gICAgICAgICAgICAgICAgLnJldHJ5KHNlbGYubWF4UmV0cmllcylcbiAgICAgICAgICAgICAgICAuZXhlY3V0ZUZvclByb21pc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5wcm9jZXNzKHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVyci5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5kYXRhICYmIGVyci5kYXRhLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGNvbmZpcm0oXCJZb3UgYXJlIG5vdCBhdXRob3JpemVkIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uICBJdCdzIHBvc3NpYmxlIHlvdXIgc2Vzc2lvbiBoYXMgdGltZWQgb3V0LiAgV291bGQgeW91IGxpa2UgdG8gdHJ5IGxvZ2dpbmcgYmFjayBpbj9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIlRoZXJlIHdhcyBhbiBlcnJvciFcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICB9O1xuICAgIFxuICAgIGFuZ3VsYXIubW9kdWxlKCdnZXRyZWFsdC5yZXN0JywgW10pXG4gICAgICAgICAgICAuc2VydmljZSgncmVzdFNlcnZpY2UnLCBbJyRxJywgJyRodHRwJywgcmVzdFNlcnZpY2VdKTtcblxufSkoKTsiLCIvKlxuIGVsaXhpcigobWl4KSA9PiB7XG4gbWl4LndlYnBhY2soJy4uLy4uL3RoZW1lcy9nZXRyZWFsdC9hc3NldHMvanMvYXBwLmpzJywgJy4vcHVibGljL3RoZW1lcy9nZXRyZWFsdC9qcycpO1xuIH0pO1xuICovXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgbGlzdGluZ1NlcnZpY2UgPSBmdW5jdGlvbiAoJHEsICRodHRwLCByZXN0U2VydmljZSkge1xuXG4gICAgICAgIHRoaXMuaW5kZXggPSBmdW5jdGlvbiAoYWR2YW5jZWRTZWFyY2gsIGtleXdvcmRzLCBtaW5QcmljZSwgbWF4UHJpY2UsIGJlZHMsIGJhdGhzLCBpbmNsdWRlUmVzaWRlbnRpYWwsIGluY2x1ZGVMYW5kLCBpbmNsdWRlQ29tbWVyY2lhbCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAna2V5d29yZHMnOiBrZXl3b3Jkc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGFkdmFuY2VkU2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkdmFuY2VkU2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5hZHZhbmNlZFNlYXJjaCA9IGFkdmFuY2VkU2VhcmNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWluUHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLm1pblByaWNlID0gbWluUHJpY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXhQcmljZSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMubWF4UHJpY2UgPSBtYXhQcmljZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVSZXNpZGVudGlhbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuaW5jbHVkZVJlc2lkZW50aWFsID0gaW5jbHVkZVJlc2lkZW50aWFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5jbHVkZUxhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmluY2x1ZGVMYW5kID0gaW5jbHVkZUxhbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ29tbWVyY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMuaW5jbHVkZUNvbW1lcmNpYWwgPSBpbmNsdWRlQ29tbWVyY2lhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJlZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmJlZHMgPSBiZWRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYmF0aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmJhdGhzID0gYmF0aHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L2xpc3RpbmdzJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHBhcmFtc1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZGF0YTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9saXN0aW5ncy8nICsgaWRcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIHRocm93IGRhdGE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5zZW5kTGVhZCA9IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgICByZXN0U2VydmljZS5nbyh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2dldHJlYWx0L2xpc3RpbmdzL3NlbmRMZWFkJyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IGluZm9cbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIHRocm93IGRhdGE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBwb3N0c1NlcnZpY2UgPSBmdW5jdGlvbiAoJHEsICRodHRwLCByZXN0U2VydmljZSkge1xuXG4gICAgICAgIHRoaXMuc3RvcmUgPSBmdW5jdGlvbiAoZGV0YWlscykge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9wb3N0cycsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBkZXRhaWxzXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhLmRhdGEpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBkYXRhO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZWRpdCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgcmVzdFNlcnZpY2UuZ28oe1xuICAgICAgICAgICAgICAgIHVybDogJy9nZXRyZWFsdC9wb3N0cy8nICsgaWRcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEuZGF0YSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgIHRocm93IGRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgc2VhcmNoV2lkZ2V0ID0gZnVuY3Rpb24gKCRzY29wZSwgZXZlbnRGYWN0b3J5LCBsaXN0aW5nU2VydmljZSkge1xuXG4gICAgICAgIC8vIElucHV0IHZhcmlhYmxlc1xuICAgICAgICAkc2NvcGUuYWR2YW5jZWRTZWFyY2ggPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLmtleXdvcmRzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm1pblByaWNlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm1heFByaWNlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmJlZHMgPSBudWxsO1xuICAgICAgICAkc2NvcGUuYmF0aHMgPSBudWxsO1xuICAgICAgICAkc2NvcGUuaW5jbHVkZVJlc2lkZW50aWFsID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmluY2x1ZGVMYW5kID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmluY2x1ZGVDb21tZXJjaWFsID0gdHJ1ZTtcblxuICAgICAgICAkc2NvcGUubGlzdGluZ3MgPSBudWxsO1xuXG4gICAgICAgICRzY29wZS5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmFkdmFuY2VkU2VhcmNoIHx8ICRzY29wZS5rZXl3b3Jkcykge1xuICAgICAgICAgICAgICAgIGV2ZW50RmFjdG9yeS5zZWFyY2hpbmdMaXN0aW5ncyh0cnVlKTtcbiAgICAgICAgICAgICAgICBsaXN0aW5nU2VydmljZS5pbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZHZhbmNlZFNlYXJjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5rZXl3b3JkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5taW5QcmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXhQcmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5iZWRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJhdGhzLFxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluY2x1ZGVSZXNpZGVudGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbmNsdWRlTGFuZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbmNsdWRlQ29tbWVyY2lhbFxuICAgICAgICAgICAgICAgICAgICAgICAgKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0aW5ncyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RmFjdG9yeS5zZWFyY2hpbmdMaXN0aW5ncyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RmFjdG9yeS5yZWZyZXNoTGlzdGluZ3MoJHNjb3BlLmxpc3RpbmdzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGxpc3RpbmdzV2lkZ2V0ID0gZnVuY3Rpb24gKCRzY29wZSwgZXZlbnRGYWN0b3J5KSB7XG4gICAgICAgICRzY29wZS5saXN0aW5ncyA9IG51bGw7XG5cbiAgICAgICAgZXZlbnRGYWN0b3J5Lm9uU2VhcmNoaW5nTGlzdGluZ3MoJHNjb3BlLCBmdW5jdGlvbiAoc2VhcmNoaW5nKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VhcmNoaW5nID0gc2VhcmNoaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICBldmVudEZhY3Rvcnkub25SZWZyZXNoTGlzdGluZ3MoJHNjb3BlLCBmdW5jdGlvbiAobGlzdGluZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS5saXN0aW5ncyA9IGxpc3RpbmdzO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50RmFjdG9yeSA9IGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XG4gICAgICAgIHZhciBSRUZSRVNIX0xJU1RJTkdTID0gJ3JlZnJlc2hMaXN0aW5ncyc7XG4gICAgICAgIHZhciByZWZyZXNoTGlzdGluZ3MgPSBmdW5jdGlvbiAobGlzdGluZ3MpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChSRUZSRVNIX0xJU1RJTkdTLCBsaXN0aW5ncyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvblJlZnJlc2hMaXN0aW5ncyA9IGZ1bmN0aW9uICgkc2NvcGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICRzY29wZS4kb24oUkVGUkVTSF9MSVNUSU5HUywgZnVuY3Rpb24gKGV2ZW50LCBtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihtZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBTRUFSQ0hJTkdfTElTVElOR1MgPSAnc2VhcmNoaW5nTGlzdGluZ3MnO1xuICAgICAgICB2YXIgc2VhcmNoaW5nTGlzdGluZ3MgPSBmdW5jdGlvbiAoc2VhcmNoaW5nKSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoU0VBUkNISU5HX0xJU1RJTkdTLCBzZWFyY2hpbmcpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb25TZWFyY2hpbmdMaXN0aW5ncyA9IGZ1bmN0aW9uICgkc2NvcGUsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICRzY29wZS4kb24oU0VBUkNISU5HX0xJU1RJTkdTLCBmdW5jdGlvbiAoZXZlbnQsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVmcmVzaExpc3RpbmdzOiByZWZyZXNoTGlzdGluZ3MsXG4gICAgICAgICAgICBvblJlZnJlc2hMaXN0aW5nczogb25SZWZyZXNoTGlzdGluZ3MsXG4gICAgICAgICAgICBzZWFyY2hpbmdMaXN0aW5nczogc2VhcmNoaW5nTGlzdGluZ3MsXG4gICAgICAgICAgICBvblNlYXJjaGluZ0xpc3RpbmdzOiBvblNlYXJjaGluZ0xpc3RpbmdzXG4gICAgICAgIH07XG5cbiAgICB9O1xuXG4gICAgdmFyIGxpc3RpbmdEZXRhaWxzID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsLCBsaXN0aW5nU2VydmljZSkge1xuXG4gICAgICAgICRzY29wZS5saXN0aW5nU291cmNlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmxpc3RpbmdUeXBlID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLmxpc3RpbmdJRCA9IG51bGw7XG4gICAgICAgICRzY29wZS5hZGRyZXNzID0gbnVsbDtcblxuICAgICAgICAkc2NvcGUuaW5pdE1hcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgdmFyIGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7XG5cbiAgICAgICAgICAgIGlmIChnZW9jb2Rlcikge1xuICAgICAgICAgICAgICAgIGdlb2NvZGVyLmdlb2NvZGUoeydhZGRyZXNzJzogJHNjb3BlLmFkZHJlc3N9LCBmdW5jdGlvbiAocmVzdWx0cywgc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5aRVJPX1JFU1VMVFMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcENhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuQ29udHJvbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbHdoZWVsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBDYW52YXMsIG1hcE9wdGlvbnMpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICcvYXNzZXRzL3RoZW1lcy9nZXRyZWFsdC9pbWFnZXMvbWFya2VyLnBuZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb25zTGluayA9ICdodHRwOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9kaXIvY3VycmVudCtwb3NpdGlvbi8nICsgZW5jb2RlVVJJKCRzY29wZS5hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyZWV0Vmlld0xpbmsgPSAnaHR0cDovL21hcHMuZ29vZ2xlLmNvbS9tYXBzP3E9JmxheWVyPWMmY2JsbD0nICsgcmVzdWx0c1swXS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSArICcsJyArIHJlc3VsdHNbMF0uZ2VvbWV0cnkubG9jYXRpb24ubG5nKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudFN0cmluZyA9ICc8ZGl2IGNsYXNzPVwiaW5mby13aW5kb3dcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDU+PGkgY2xhc3M9XCJmYSBmYS1tYXAtbWFya2VyXCI+PC9pPiAnICsgcmVzdWx0c1swXS5mb3JtYXR0ZWRfYWRkcmVzcyArICc8L2g1PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpbmZvLWNvbnRlbnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImZhIGZhLWNhclwiPjwvaT46IDxhIGhyZWY9XCInICsgZGlyZWN0aW9uc0xpbmsgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+R2V0IERpcmVjdGlvbnM8L2E+PGJyIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJmYSBmYS1zdHJlZXQtdmlld1wiPjwvaT46IDxhIGhyZWY9XCInICsgc3RyZWV0Vmlld0xpbmsgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+U3RyZWV0IFZpZXc8L2E+PGJyIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9wPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mb3dpbmRvdyA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogY29udGVudFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDQwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb3dpbmRvdy5vcGVuKG1hcCwgbWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBbe1wiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJvZmZcIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJwb2lcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWRcIiwgXCJlbGVtZW50VHlwZVwiOiBcImxhYmVsc1wiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXRcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwic2ltcGxpZmllZFwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLCBcInN0eWxlcnNcIjogW3tcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5oaWdod2F5XCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcIm9mZlwifV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInJvYWQubG9jYWxcIiwgXCJzdHlsZXJzXCI6IFt7XCJ2aXNpYmlsaXR5XCI6IFwib25cIn1dfSwge1wiZmVhdHVyZVR5cGVcIjogXCJyb2FkLmhpZ2h3YXlcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbe1widmlzaWJpbGl0eVwiOiBcIm9uXCJ9XX0sIHtcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJzdHlsZXJzXCI6IFt7XCJjb2xvclwiOiBcIiM4NGFmYTNcIn0sIHtcImxpZ2h0bmVzc1wiOiA1Mn1dfSwge1wic3R5bGVyc1wiOiBbe1wic2F0dXJhdGlvblwiOiAtMTd9LCB7XCJnYW1tYVwiOiAwLjM2fV19LCB7XCJmZWF0dXJlVHlwZVwiOiBcInRyYW5zaXQubGluZVwiLCBcImVsZW1lbnRUeXBlXCI6IFwiZ2VvbWV0cnlcIiwgXCJzdHlsZXJzXCI6IFt7XCJjb2xvclwiOiBcIiMzZjUxOGNcIn1dfV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0KCdzdHlsZXMnLCBzdHlsZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJObyByZXN1bHRzIGZvdW5kXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIkdlb2NvZGUgd2FzIG5vdCBzdWNjZXNzZnVsIGZvciB0aGUgZm9sbG93aW5nIHJlYXNvbjogXCIgKyBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaW5pdFNsaWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUaGUgc2xpZGVyIGJlaW5nIHN5bmNlZCBtdXN0IGJlIGluaXRpYWxpemVkIGZpcnN0XG4gICAgICAgICAgICAkKCcjY2Fyb3VzZWwnKS5mbGV4c2xpZGVyKHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IFwic2xpZGVcIixcbiAgICAgICAgICAgICAgICBjb250cm9sTmF2OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhbmltYXRpb25Mb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbGlkZXNob3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGl0ZW1XaWR0aDogMjEwLFxuICAgICAgICAgICAgICAgIGl0ZW1NYXJnaW46IDUsXG4gICAgICAgICAgICAgICAgc21vb3RoSGVpZ2h0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnI3NsaWRlcidcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKCcjc2xpZGVyJykuZmxleHNsaWRlcih7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcInNsaWRlXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbE5hdjogZmFsc2UsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uTG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2xpZGVzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzbW9vdGhIZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc3luYzogXCIjY2Fyb3VzZWxcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICAkc2NvcGUuY29udGFjdEFnZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb250YWN0QWdlbnQuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2NvbnRhY3RBZ2VudE1vZGFsJyxcbiAgICAgICAgICAgICAgICBhcmlhTGFiZWxsZWRCeTogJ21vZGFsLXRpdGxlJyxcbiAgICAgICAgICAgICAgICBhcmlhRGVzY3JpYmVkQnk6ICdtb2RhbC1ib2R5JyxcbiAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Q29udHJvbGxlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSByZXN1bHRzLmNvbnRhY3RJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mbyAmJiAoaW5mby5uYW1lIHx8IGluZm8ucGhvbmUgfHwgaW5mby5lbWFpbCB8fCBpbmZvLm1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5saXN0aW5nU291cmNlID0gJHNjb3BlLmxpc3RpbmdTb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5saXN0aW5nVHlwZSA9ICRzY29wZS5saXN0aW5nVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxpc3RpbmdJRCA9ICRzY29wZS5saXN0aW5nSUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGluZ1NlcnZpY2Uuc2VuZExlYWQoaW5mbykudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21lc3NhZ2VDb25maXJtYXRpb24uaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkYXRhLnN1Y2Nlc3MgPyBcIk1lc3NhZ2UgU2VudCFcIiA6IFwiT29wcyEgT3VyIG1lc3NhZ2luZyBpcyBkb3duIHJpZ2h0IG5vdy4gIFRyeSBjb250YWN0aW5nIHVzIGRpcmVjdGx5IHBsZWFzZSFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zdGFydCA9IGZ1bmN0aW9uIChsaXN0aW5nU291cmNlLCBsaXN0aW5nVHlwZSwgbGlzdGluZ0lELCBhZGRyZXNzKSB7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ1NvdXJjZSA9IGxpc3RpbmdTb3VyY2U7XG4gICAgICAgICAgICAkc2NvcGUubGlzdGluZ1R5cGUgPSBsaXN0aW5nVHlwZTtcbiAgICAgICAgICAgICRzY29wZS5saXN0aW5nSUQgPSBsaXN0aW5nSUQ7XG4gICAgICAgICAgICAkc2NvcGUuYWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZERvbUxpc3RlbmVyKHdpbmRvdywgJ2xvYWQnLCAkc2NvcGUuaW5pdE1hcCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICRzY29wZS5pbml0U2xpZGVycygpO1xuICAgICAgICB9O1xuXG4gICAgfTtcbiAgICBcbiAgICB2YXIgY29udGFjdEFnZW50TW9kYWwgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgcGFyZW50Q29udHJvbGxlcikge1xuICAgICAgICAkc2NvcGUubmFtZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5waG9uZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5lbWFpbCA9IG51bGw7XG4gICAgICAgICRzY29wZS5tZXNzYWdlID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5zZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgY29udGFjdEluZm8gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLm5hbWUsXG4gICAgICAgICAgICAgICAgcGhvbmU6ICRzY29wZS5waG9uZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogJHNjb3BlLmVtYWlsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICRzY29wZS5tZXNzYWdlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7XG4gICAgICAgICAgICAgICAgY29udGFjdEluZm86IGNvbnRhY3RJbmZvXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICB2YXIgbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG1lc3NhZ2UpIHtcbiAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgfTtcbiAgICBcbiAgICB2YXIgaWNvbk1vZGFsID0gZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgJHNjb3BlLmljb25zID0gWydnbGFzcycsICdtdXNpYycsICdzZWFyY2gnLCAnZW52ZWxvcGUtbycsICdoZWFydCcsICdzdGFyJywgJ3N0YXItbycsICd1c2VyJywgJ2ZpbG0nLCAndGgtbGFyZ2UnLCAndGgnLCAndGgtbGlzdCcsICdjaGVjaycsICd0aW1lcycsICdzZWFyY2gtcGx1cycsICdzZWFyY2gtbWludXMnLCAncG93ZXItb2ZmJywgJ3NpZ25hbCcsICdjb2cnLCAndHJhc2gtbycsICdob21lJywgJ2ZpbGUtbycsICdjbG9jay1vJywgJ3JvYWQnLCAnZG93bmxvYWQnLCAnYXJyb3ctY2lyY2xlLW8tZG93bicsICdhcnJvdy1jaXJjbGUtby11cCcsICdpbmJveCcsICdwbGF5LWNpcmNsZS1vJywgJ3JlcGVhdCcsICdyZWZyZXNoJywgJ2xpc3QtYWx0JywgJ2xvY2snLCAnZmxhZycsICdoZWFkcGhvbmVzJywgJ3ZvbHVtZS1vZmYnLCAndm9sdW1lLWRvd24nLCAndm9sdW1lLXVwJywgJ3FyY29kZScsICdiYXJjb2RlJywgJ3RhZycsICd0YWdzJywgJ2Jvb2snLCAnYm9va21hcmsnLCAncHJpbnQnLCAnY2FtZXJhJywgJ2ZvbnQnLCAnYm9sZCcsICdpdGFsaWMnLCAndGV4dC1oZWlnaHQnLCAndGV4dC13aWR0aCcsICdhbGlnbi1sZWZ0JywgJ2FsaWduLWNlbnRlcicsICdhbGlnbi1yaWdodCcsICdhbGlnbi1qdXN0aWZ5JywgJ2xpc3QnLCAnb3V0ZGVudCcsICdpbmRlbnQnLCAndmlkZW8tY2FtZXJhJywgJ3BpY3R1cmUtbycsICdwZW5jaWwnLCAnbWFwLW1hcmtlcicsICdhZGp1c3QnLCAndGludCcsICdwZW5jaWwtc3F1YXJlLW8nLCAnc2hhcmUtc3F1YXJlLW8nLCAnY2hlY2stc3F1YXJlLW8nLCAnYXJyb3dzJywgJ3N0ZXAtYmFja3dhcmQnLCAnZmFzdC1iYWNrd2FyZCcsICdiYWNrd2FyZCcsICdwbGF5JywgJ3BhdXNlJywgJ3N0b3AnLCAnZm9yd2FyZCcsICdmYXN0LWZvcndhcmQnLCAnc3RlcC1mb3J3YXJkJywgJ2VqZWN0JywgJ2NoZXZyb24tbGVmdCcsICdjaGV2cm9uLXJpZ2h0JywgJ3BsdXMtY2lyY2xlJywgJ21pbnVzLWNpcmNsZScsICd0aW1lcy1jaXJjbGUnLCAnY2hlY2stY2lyY2xlJywgJ3F1ZXN0aW9uLWNpcmNsZScsICdpbmZvLWNpcmNsZScsICdjcm9zc2hhaXJzJywgJ3RpbWVzLWNpcmNsZS1vJywgJ2NoZWNrLWNpcmNsZS1vJywgJ2JhbicsICdhcnJvdy1sZWZ0JywgJ2Fycm93LXJpZ2h0JywgJ2Fycm93LXVwJywgJ2Fycm93LWRvd24nLCAnc2hhcmUnLCAnZXhwYW5kJywgJ2NvbXByZXNzJywgJ3BsdXMnLCAnbWludXMnLCAnYXN0ZXJpc2snLCAnZXhjbGFtYXRpb24tY2lyY2xlJywgJ2dpZnQnLCAnbGVhZicsICdmaXJlJywgJ2V5ZScsICdleWUtc2xhc2gnLCAnZXhjbGFtYXRpb24tdHJpYW5nbGUnLCAncGxhbmUnLCAnY2FsZW5kYXInLCAncmFuZG9tJywgJ2NvbW1lbnQnLCAnbWFnbmV0JywgJ2NoZXZyb24tdXAnLCAnY2hldnJvbi1kb3duJywgJ3JldHdlZXQnLCAnc2hvcHBpbmctY2FydCcsICdmb2xkZXInLCAnZm9sZGVyLW9wZW4nLCAnYXJyb3dzLXYnLCAnYXJyb3dzLWgnLCAnYmFyLWNoYXJ0JywgJ3R3aXR0ZXItc3F1YXJlJywgJ2ZhY2Vib29rLXNxdWFyZScsICdjYW1lcmEtcmV0cm8nLCAna2V5JywgJ2NvZ3MnLCAnY29tbWVudHMnLCAndGh1bWJzLW8tdXAnLCAndGh1bWJzLW8tZG93bicsICdzdGFyLWhhbGYnLCAnaGVhcnQtbycsICdzaWduLW91dCcsICdsaW5rZWRpbi1zcXVhcmUnLCAndGh1bWItdGFjaycsICdleHRlcm5hbC1saW5rJywgJ3NpZ24taW4nLCAndHJvcGh5JywgJ2dpdGh1Yi1zcXVhcmUnLCAndXBsb2FkJywgJ2xlbW9uLW8nLCAncGhvbmUnLCAnc3F1YXJlLW8nLCAnYm9va21hcmstbycsICdwaG9uZS1zcXVhcmUnLCAndHdpdHRlcicsICdmYWNlYm9vaycsICdnaXRodWInLCAndW5sb2NrJywgJ2NyZWRpdC1jYXJkJywgJ3JzcycsICdoZGQtbycsICdidWxsaG9ybicsICdiZWxsJywgJ2NlcnRpZmljYXRlJywgJ2hhbmQtby1yaWdodCcsICdoYW5kLW8tbGVmdCcsICdoYW5kLW8tdXAnLCAnaGFuZC1vLWRvd24nLCAnYXJyb3ctY2lyY2xlLWxlZnQnLCAnYXJyb3ctY2lyY2xlLXJpZ2h0JywgJ2Fycm93LWNpcmNsZS11cCcsICdhcnJvdy1jaXJjbGUtZG93bicsICdnbG9iZScsICd3cmVuY2gnLCAndGFza3MnLCAnZmlsdGVyJywgJ2JyaWVmY2FzZScsICdhcnJvd3MtYWx0JywgJ3VzZXJzJywgJ2xpbmsnLCAnY2xvdWQnLCAnZmxhc2snLCAnc2Npc3NvcnMnLCAnZmlsZXMtbycsICdwYXBlcmNsaXAnLCAnZmxvcHB5LW8nLCAnc3F1YXJlJywgJ2JhcnMnLCAnbGlzdC11bCcsICdsaXN0LW9sJywgJ3N0cmlrZXRocm91Z2gnLCAndW5kZXJsaW5lJywgJ3RhYmxlJywgJ21hZ2ljJywgJ3RydWNrJywgJ3BpbnRlcmVzdCcsICdwaW50ZXJlc3Qtc3F1YXJlJywgJ2dvb2dsZS1wbHVzLXNxdWFyZScsICdnb29nbGUtcGx1cycsICdtb25leScsICdjYXJldC1kb3duJywgJ2NhcmV0LXVwJywgJ2NhcmV0LWxlZnQnLCAnY2FyZXQtcmlnaHQnLCAnY29sdW1ucycsICdzb3J0JywgJ3NvcnQtZGVzYycsICdzb3J0LWFzYycsICdlbnZlbG9wZScsICdsaW5rZWRpbicsICd1bmRvJywgJ2dhdmVsJywgJ3RhY2hvbWV0ZXInLCAnY29tbWVudC1vJywgJ2NvbW1lbnRzLW8nLCAnYm9sdCcsICdzaXRlbWFwJywgJ3VtYnJlbGxhJywgJ2NsaXBib2FyZCcsICdsaWdodGJ1bGItbycsICdleGNoYW5nZScsICdjbG91ZC1kb3dubG9hZCcsICdjbG91ZC11cGxvYWQnLCAndXNlci1tZCcsICdzdGV0aG9zY29wZScsICdzdWl0Y2FzZScsICdiZWxsLW8nLCAnY29mZmVlJywgJ2N1dGxlcnknLCAnZmlsZS10ZXh0LW8nLCAnYnVpbGRpbmctbycsICdob3NwaXRhbC1vJywgJ2FtYnVsYW5jZScsICdtZWRraXQnLCAnZmlnaHRlci1qZXQnLCAnYmVlcicsICdoLXNxdWFyZScsICdwbHVzLXNxdWFyZScsICdhbmdsZS1kb3VibGUtbGVmdCcsICdhbmdsZS1kb3VibGUtcmlnaHQnLCAnYW5nbGUtZG91YmxlLXVwJywgJ2FuZ2xlLWRvdWJsZS1kb3duJywgJ2FuZ2xlLWxlZnQnLCAnYW5nbGUtcmlnaHQnLCAnYW5nbGUtdXAnLCAnYW5nbGUtZG93bicsICdkZXNrdG9wJywgJ2xhcHRvcCcsICd0YWJsZXQnLCAnbW9iaWxlJywgJ2NpcmNsZS1vJywgJ3F1b3RlLWxlZnQnLCAncXVvdGUtcmlnaHQnLCAnc3Bpbm5lcicsICdjaXJjbGUnLCAncmVwbHknLCAnZ2l0aHViLWFsdCcsICdmb2xkZXItbycsICdmb2xkZXItb3Blbi1vJywgJ3NtaWxlLW8nLCAnZnJvd24tbycsICdtZWgtbycsICdnYW1lcGFkJywgJ2tleWJvYXJkLW8nLCAnZmxhZy1vJywgJ2ZsYWctY2hlY2tlcmVkJywgJ3Rlcm1pbmFsJywgJ2NvZGUnLCAncmVwbHktYWxsJywgJ3N0YXItaGFsZi1vJywgJ2xvY2F0aW9uLWFycm93JywgJ2Nyb3AnLCAnY29kZS1mb3JrJywgJ2NoYWluLWJyb2tlbicsICdxdWVzdGlvbicsICdpbmZvJywgJ2V4Y2xhbWF0aW9uJywgJ3N1cGVyc2NyaXB0JywgJ3N1YnNjcmlwdCcsICdlcmFzZXInLCAncHV6emxlLXBpZWNlJywgJ21pY3JvcGhvbmUnLCAnbWljcm9waG9uZS1zbGFzaCcsICdzaGllbGQnLCAnY2FsZW5kYXItbycsICdmaXJlLWV4dGluZ3Vpc2hlcicsICdyb2NrZXQnLCAnbWF4Y2RuJywgJ2NoZXZyb24tY2lyY2xlLWxlZnQnLCAnY2hldnJvbi1jaXJjbGUtcmlnaHQnLCAnY2hldnJvbi1jaXJjbGUtdXAnLCAnY2hldnJvbi1jaXJjbGUtZG93bicsICdodG1sNScsICdjc3MzJywgJ2FuY2hvcicsICd1bmxvY2stYWx0JywgJ2J1bGxzZXllJywgJ2VsbGlwc2lzLWgnLCAnZWxsaXBzaXMtdicsICdyc3Mtc3F1YXJlJywgJ3BsYXktY2lyY2xlJywgJ3RpY2tldCcsICdtaW51cy1zcXVhcmUnLCAnbWludXMtc3F1YXJlLW8nLCAnbGV2ZWwtdXAnLCAnbGV2ZWwtZG93bicsICdjaGVjay1zcXVhcmUnLCAncGVuY2lsLXNxdWFyZScsICdleHRlcm5hbC1saW5rLXNxdWFyZScsICdzaGFyZS1zcXVhcmUnLCAnY29tcGFzcycsICdjYXJldC1zcXVhcmUtby1kb3duJywgJ2NhcmV0LXNxdWFyZS1vLXVwJywgJ2NhcmV0LXNxdWFyZS1vLXJpZ2h0JywgJ2V1cicsICdnYnAnLCAndXNkJywgJ2lucicsICdqcHknLCAncnViJywgJ2tydycsICdidGMnLCAnZmlsZScsICdmaWxlLXRleHQnLCAnc29ydC1hbHBoYS1hc2MnLCAnc29ydC1hbHBoYS1kZXNjJywgJ3NvcnQtYW1vdW50LWFzYycsICdzb3J0LWFtb3VudC1kZXNjJywgJ3NvcnQtbnVtZXJpYy1hc2MnLCAnc29ydC1udW1lcmljLWRlc2MnLCAndGh1bWJzLXVwJywgJ3RodW1icy1kb3duJywgJ3lvdXR1YmUtc3F1YXJlJywgJ3lvdXR1YmUnLCAneGluZycsICd4aW5nLXNxdWFyZScsICd5b3V0dWJlLXBsYXknLCAnZHJvcGJveCcsICdzdGFjay1vdmVyZmxvdycsICdpbnN0YWdyYW0nLCAnZmxpY2tyJywgJ2FkbicsICdiaXRidWNrZXQnLCAnYml0YnVja2V0LXNxdWFyZScsICd0dW1ibHInLCAndHVtYmxyLXNxdWFyZScsICdsb25nLWFycm93LWRvd24nLCAnbG9uZy1hcnJvdy11cCcsICdsb25nLWFycm93LWxlZnQnLCAnbG9uZy1hcnJvdy1yaWdodCcsICdhcHBsZScsICd3aW5kb3dzJywgJ2FuZHJvaWQnLCAnbGludXgnLCAnZHJpYmJibGUnLCAnc2t5cGUnLCAnZm91cnNxdWFyZScsICd0cmVsbG8nLCAnZmVtYWxlJywgJ21hbGUnLCAnZ3JhdGlwYXknLCAnc3VuLW8nLCAnbW9vbi1vJywgJ2FyY2hpdmUnLCAnYnVnJywgJ3ZrJywgJ3dlaWJvJywgJ3JlbnJlbicsICdwYWdlbGluZXMnLCAnc3RhY2stZXhjaGFuZ2UnLCAnYXJyb3ctY2lyY2xlLW8tcmlnaHQnLCAnYXJyb3ctY2lyY2xlLW8tbGVmdCcsICdjYXJldC1zcXVhcmUtby1sZWZ0JywgJ2RvdC1jaXJjbGUtbycsICd3aGVlbGNoYWlyJywgJ3ZpbWVvLXNxdWFyZScsICd0cnknLCAncGx1cy1zcXVhcmUtbycsICdzcGFjZS1zaHV0dGxlJywgJ3NsYWNrJywgJ2VudmVsb3BlLXNxdWFyZScsICd3b3JkcHJlc3MnLCAnb3BlbmlkJywgJ3VuaXZlcnNpdHknLCAnZ3JhZHVhdGlvbi1jYXAnLCAneWFob28nLCAnZ29vZ2xlJywgJ3JlZGRpdCcsICdyZWRkaXQtc3F1YXJlJywgJ3N0dW1ibGV1cG9uLWNpcmNsZScsICdzdHVtYmxldXBvbicsICdkZWxpY2lvdXMnLCAnZGlnZycsICdwaWVkLXBpcGVyLXBwJywgJ3BpZWQtcGlwZXItYWx0JywgJ2RydXBhbCcsICdqb29tbGEnLCAnbGFuZ3VhZ2UnLCAnZmF4JywgJ2J1aWxkaW5nJywgJ2NoaWxkJywgJ3BhdycsICdzcG9vbicsICdjdWJlJywgJ2N1YmVzJywgJ2JlaGFuY2UnLCAnYmVoYW5jZS1zcXVhcmUnLCAnc3RlYW0nLCAnc3RlYW0tc3F1YXJlJywgJ3JlY3ljbGUnLCAnY2FyJywgJ3RheGknLCAndHJlZScsICdzcG90aWZ5JywgJ2RldmlhbnRhcnQnLCAnc291bmRjbG91ZCcsICdkYXRhYmFzZScsICdmaWxlLXBkZi1vJywgJ2ZpbGUtd29yZC1vJywgJ2ZpbGUtZXhjZWwtbycsICdmaWxlLXBvd2VycG9pbnQtbycsICdmaWxlLWltYWdlLW8nLCAnZmlsZS1hcmNoaXZlLW8nLCAnZmlsZS1hdWRpby1vJywgJ2ZpbGUtdmlkZW8tbycsICdmaWxlLWNvZGUtbycsICd2aW5lJywgJ2NvZGVwZW4nLCAnanNmaWRkbGUnLCAnbGlmZS1yaW5nJywgJ2NpcmNsZS1vLW5vdGNoJywgJ3JlYmVsJywgJ2VtcGlyZScsICdnaXQtc3F1YXJlJywgJ2dpdCcsICdoYWNrZXItbmV3cycsICd0ZW5jZW50LXdlaWJvJywgJ3FxJywgJ3dlaXhpbicsICdwYXBlci1wbGFuZScsICdwYXBlci1wbGFuZS1vJywgJ2hpc3RvcnknLCAnY2lyY2xlLXRoaW4nLCAnaGVhZGVyJywgJ3BhcmFncmFwaCcsICdzbGlkZXJzJywgJ3NoYXJlLWFsdCcsICdzaGFyZS1hbHQtc3F1YXJlJywgJ2JvbWInLCAnZnV0Ym9sLW8nLCAndHR5JywgJ2Jpbm9jdWxhcnMnLCAncGx1ZycsICdzbGlkZXNoYXJlJywgJ3R3aXRjaCcsICd5ZWxwJywgJ25ld3NwYXBlci1vJywgJ3dpZmknLCAnY2FsY3VsYXRvcicsICdwYXlwYWwnLCAnZ29vZ2xlLXdhbGxldCcsICdjYy12aXNhJywgJ2NjLW1hc3RlcmNhcmQnLCAnY2MtZGlzY292ZXInLCAnY2MtYW1leCcsICdjYy1wYXlwYWwnLCAnY2Mtc3RyaXBlJywgJ2JlbGwtc2xhc2gnLCAnYmVsbC1zbGFzaC1vJywgJ3RyYXNoJywgJ2NvcHlyaWdodCcsICdhdCcsICdleWVkcm9wcGVyJywgJ3BhaW50LWJydXNoJywgJ2JpcnRoZGF5LWNha2UnLCAnYXJlYS1jaGFydCcsICdwaWUtY2hhcnQnLCAnbGluZS1jaGFydCcsICdsYXN0Zm0nLCAnbGFzdGZtLXNxdWFyZScsICd0b2dnbGUtb2ZmJywgJ3RvZ2dsZS1vbicsICdiaWN5Y2xlJywgJ2J1cycsICdpb3hob3N0JywgJ2FuZ2VsbGlzdCcsICdjYycsICdpbHMnLCAnbWVhbnBhdGgnLCAnYnV5c2VsbGFkcycsICdjb25uZWN0ZGV2ZWxvcCcsICdkYXNoY3ViZScsICdmb3J1bWJlZScsICdsZWFucHViJywgJ3NlbGxzeScsICdzaGlydHNpbmJ1bGsnLCAnc2ltcGx5YnVpbHQnLCAnc2t5YXRsYXMnLCAnY2FydC1wbHVzJywgJ2NhcnQtYXJyb3ctZG93bicsICdkaWFtb25kJywgJ3NoaXAnLCAndXNlci1zZWNyZXQnLCAnbW90b3JjeWNsZScsICdzdHJlZXQtdmlldycsICdoZWFydGJlYXQnLCAndmVudXMnLCAnbWFycycsICdtZXJjdXJ5JywgJ3RyYW5zZ2VuZGVyJywgJ3RyYW5zZ2VuZGVyLWFsdCcsICd2ZW51cy1kb3VibGUnLCAnbWFycy1kb3VibGUnLCAndmVudXMtbWFycycsICdtYXJzLXN0cm9rZScsICdtYXJzLXN0cm9rZS12JywgJ21hcnMtc3Ryb2tlLWgnLCAnbmV1dGVyJywgJ2dlbmRlcmxlc3MnLCAnZmFjZWJvb2stb2ZmaWNpYWwnLCAncGludGVyZXN0LXAnLCAnd2hhdHNhcHAnLCAnc2VydmVyJywgJ3VzZXItcGx1cycsICd1c2VyLXRpbWVzJywgJ2JlZCcsICd2aWFjb2luJywgJ3RyYWluJywgJ3N1YndheScsICdtZWRpdW0nLCAneS1jb21iaW5hdG9yJywgJ29wdGluLW1vbnN0ZXInLCAnb3BlbmNhcnQnLCAnZXhwZWRpdGVkc3NsJywgJ2JhdHRlcnktZnVsbCcsICdiYXR0ZXJ5LXRocmVlLXF1YXJ0ZXJzJywgJ2JhdHRlcnktaGFsZicsICdiYXR0ZXJ5LXF1YXJ0ZXInLCAnYmF0dGVyeS1lbXB0eScsICdtb3VzZS1wb2ludGVyJywgJ2ktY3Vyc29yJywgJ29iamVjdC1ncm91cCcsICdvYmplY3QtdW5ncm91cCcsICdzdGlja3ktbm90ZScsICdzdGlja3ktbm90ZS1vJywgJ2NjLWpjYicsICdjYy1kaW5lcnMtY2x1YicsICdjbG9uZScsICdiYWxhbmNlLXNjYWxlJywgJ2hvdXJnbGFzcy1vJywgJ2hvdXJnbGFzcy1zdGFydCcsICdob3VyZ2xhc3MtaGFsZicsICdob3VyZ2xhc3MtZW5kJywgJ2hvdXJnbGFzcycsICdoYW5kLXJvY2stbycsICdoYW5kLXBhcGVyLW8nLCAnaGFuZC1zY2lzc29ycy1vJywgJ2hhbmQtbGl6YXJkLW8nLCAnaGFuZC1zcG9jay1vJywgJ2hhbmQtcG9pbnRlci1vJywgJ2hhbmQtcGVhY2UtbycsICd0cmFkZW1hcmsnLCAncmVnaXN0ZXJlZCcsICdjcmVhdGl2ZS1jb21tb25zJywgJ2dnJywgJ2dnLWNpcmNsZScsICd0cmlwYWR2aXNvcicsICdvZG5va2xhc3NuaWtpJywgJ29kbm9rbGFzc25pa2ktc3F1YXJlJywgJ2dldC1wb2NrZXQnLCAnd2lraXBlZGlhLXcnLCAnc2FmYXJpJywgJ2Nocm9tZScsICdmaXJlZm94JywgJ29wZXJhJywgJ2ludGVybmV0LWV4cGxvcmVyJywgJ3RlbGV2aXNpb24nLCAnY29udGFvJywgJzUwMHB4JywgJ2FtYXpvbicsICdjYWxlbmRhci1wbHVzLW8nLCAnY2FsZW5kYXItbWludXMtbycsICdjYWxlbmRhci10aW1lcy1vJywgJ2NhbGVuZGFyLWNoZWNrLW8nLCAnaW5kdXN0cnknLCAnbWFwLXBpbicsICdtYXAtc2lnbnMnLCAnbWFwLW8nLCAnbWFwJywgJ2NvbW1lbnRpbmcnLCAnY29tbWVudGluZy1vJywgJ2hvdXp6JywgJ3ZpbWVvJywgJ2JsYWNrLXRpZScsICdmb250aWNvbnMnLCAncmVkZGl0LWFsaWVuJywgJ2VkZ2UnLCAnY3JlZGl0LWNhcmQtYWx0JywgJ2NvZGllcGllJywgJ21vZHgnLCAnZm9ydC1hd2Vzb21lJywgJ3VzYicsICdwcm9kdWN0LWh1bnQnLCAnbWl4Y2xvdWQnLCAnc2NyaWJkJywgJ3BhdXNlLWNpcmNsZScsICdwYXVzZS1jaXJjbGUtbycsICdzdG9wLWNpcmNsZScsICdzdG9wLWNpcmNsZS1vJywgJ3Nob3BwaW5nLWJhZycsICdzaG9wcGluZy1iYXNrZXQnLCAnaGFzaHRhZycsICdibHVldG9vdGgnLCAnYmx1ZXRvb3RoLWInLCAncGVyY2VudCcsICdnaXRsYWInLCAnd3BiZWdpbm5lcicsICd3cGZvcm1zJywgJ2VudmlyYScsICd1bml2ZXJzYWwtYWNjZXNzJywgJ3doZWVsY2hhaXItYWx0JywgJ3F1ZXN0aW9uLWNpcmNsZS1vJywgJ2JsaW5kJywgJ2F1ZGlvLWRlc2NyaXB0aW9uJywgJ3ZvbHVtZS1jb250cm9sLXBob25lJywgJ2JyYWlsbGUnLCAnYXNzaXN0aXZlLWxpc3RlbmluZy1zeXN0ZW1zJywgJ2FtZXJpY2FuLXNpZ24tbGFuZ3VhZ2UtaW50ZXJwcmV0aW5nJywgJ2RlYWYnLCAnZ2xpZGUnLCAnZ2xpZGUtZycsICdzaWduLWxhbmd1YWdlJywgJ2xvdy12aXNpb24nLCAndmlhZGVvJywgJ3ZpYWRlby1zcXVhcmUnLCAnc25hcGNoYXQnLCAnc25hcGNoYXQtZ2hvc3QnLCAnc25hcGNoYXQtc3F1YXJlJywgJ3BpZWQtcGlwZXInLCAnZmlyc3Qtb3JkZXInLCAneW9hc3QnLCAndGhlbWVpc2xlJywgJ2dvb2dsZS1wbHVzLW9mZmljaWFsJywgJ2ZvbnQtYXdlc29tZScsICdoYW5kc2hha2UtbycsICdlbnZlbG9wZS1vcGVuJywgJ2VudmVsb3BlLW9wZW4tbycsICdsaW5vZGUnLCAnYWRkcmVzcy1ib29rJywgJ2FkZHJlc3MtYm9vay1vJywgJ2FkZHJlc3MtY2FyZCcsICdhZGRyZXNzLWNhcmQtbycsICd1c2VyLWNpcmNsZScsICd1c2VyLWNpcmNsZS1vJywgJ3VzZXItbycsICdpZC1iYWRnZScsICdpZC1jYXJkJywgJ2lkLWNhcmQtbycsICdxdW9yYScsICdmcmVlLWNvZGUtY2FtcCcsICd0ZWxlZ3JhbScsICd0aGVybW9tZXRlci1mdWxsJywgJ3RoZXJtb21ldGVyLXRocmVlLXF1YXJ0ZXJzJywgJ3RoZXJtb21ldGVyLWhhbGYnLCAndGhlcm1vbWV0ZXItcXVhcnRlcicsICd0aGVybW9tZXRlci1lbXB0eScsICdzaG93ZXInLCAnYmF0aCcsICdwb2RjYXN0JywgJ3dpbmRvdy1tYXhpbWl6ZScsICd3aW5kb3ctbWluaW1pemUnLCAnd2luZG93LXJlc3RvcmUnLCAnd2luZG93LWNsb3NlJywgJ3dpbmRvdy1jbG9zZS1vJywgJ2JhbmRjYW1wJywgJ2dyYXYnLCAnZXRzeScsICdpbWRiJywgJ3JhdmVscnknLCAnZWVyY2FzdCcsICdtaWNyb2NoaXAnLCAnc25vd2ZsYWtlLW8nLCAnc3VwZXJwb3dlcnMnLCAnd3BleHBsb3JlcicsICdtZWV0dXAnXTtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvbiA9ICdmYS1zbWlsZS1vJztcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkSWNvblRleHQgPSAnc21pbGUtbyc7XG5cbiAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSAnJztcblxuICAgICAgICAkc2NvcGUuc2VsZWN0SWNvbiA9IGZ1bmN0aW9uIChpY29uKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJY29uVGV4dCA9IGljb247XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJY29uID0gJ2ZhLScgKyBpY29uO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoe1xuICAgICAgICAgICAgICAgIGljb246ICRzY29wZS5zZWxlY3RlZEljb24sXG4gICAgICAgICAgICAgICAgdGV4dDogJHNjb3BlLnNlbGVjdGVkSWNvblRleHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICB9O1xuXG4gICAgdmFyIHBvc3RNb2RhbCA9IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIHBvc3RzU2VydmljZSwgdGFncywgaWQpIHtcbiAgICAgICAgJHNjb3BlLmlkID0gaWQ7XG4gICAgICAgICRzY29wZS50aXRsZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5lbnRyeSA9IG51bGw7XG4gICAgICAgICRzY29wZS50YWdzID0gdGFncztcbiAgICAgICAgJHNjb3BlLmljb25EZXRhaWxzID0gbnVsbDtcbiAgICAgICAgJHNjb3BlLm1haW4gPSBmYWxzZTtcbiAgICAgICAgJHNjb3BlLm5ld3MgPSBmYWxzZTtcblxuICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gJCgnI3Bvc3RNb2RhbC1lbnRyeScpLnJlZGFjdG9yKCdjb2RlLmdldCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgdGFncyA9ICRzY29wZS50YWdzLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLm1haW4pIHtcbiAgICAgICAgICAgICAgICBpZiAodGFncy5pbmRleE9mKFwiTWFpblwiKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFncy5wdXNoKCdNYWluJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhZ3MuaW5kZXhPZihcIk5ld3NcIikgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaCgnTmV3cycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvc3REZXRhaWxzID0ge1xuICAgICAgICAgICAgICAgIGlkOiAkc2NvcGUuaWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICRzY29wZS50aXRsZSxcbiAgICAgICAgICAgICAgICBlbnRyeTogJHNjb3BlLmVudHJ5LFxuICAgICAgICAgICAgICAgIHRhZ3M6IHRhZ3Muam9pbignLCcpLFxuICAgICAgICAgICAgICAgIGljb246ICgkc2NvcGUuaWNvbkRldGFpbHMgPyAkc2NvcGUuaWNvbkRldGFpbHMuaWNvbiA6IG51bGwpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh7XG4gICAgICAgICAgICAgICAgcG9zdERldGFpbHM6IHBvc3REZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuY2xlYXJJY29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmljb25EZXRhaWxzID0gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0SWNvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaWNvbk1vZGFsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdpY29uTW9kYWwnLFxuICAgICAgICAgICAgICAgIGFyaWFMYWJlbGxlZEJ5OiAnbW9kYWwtdGl0bGUnLFxuICAgICAgICAgICAgICAgIGFyaWFEZXNjcmliZWRCeTogJ21vZGFsLWJvZHknLFxuICAgICAgICAgICAgICAgIHNpemU6ICdsZydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlZFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaWNvbkRldGFpbHMgPSByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkaXNtaXNzZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgfTtcblxuXG4gICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgIHBvc3RzU2VydmljZS5lZGl0KGlkKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFncyA9IGRhdGEudGFncy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIHZhciBpID0gdGFncy5pbmRleE9mKFwiTWFpblwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYWluID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGFncy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgIGkgPSB0YWdzLmluZGV4T2YoXCJOZXdzXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0YWdzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gKGRhdGEuZW50cnkgPyBkYXRhLmVudHJ5LnZhbHVlIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lbnRyeSAmJiAkc2NvcGUuZW50cnkubGVuZ3RoID4gNyAmJiAkc2NvcGUuZW50cnkuc3Vic3RyaW5nKDAsIDYpLnRvTG93ZXJDYXNlKCkgPT09IFwiPHA+PGkgXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5UGFydHMgPSAkc2NvcGUuZW50cnkuc3BsaXQoJzwvaT4nKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaWNvbkRldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBlbnRyeVBhcnRzWzBdLnNwbGl0KCdcIicpWzFdLnJlcGxhY2UoJ2ZhICcsICcnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGVudHJ5UGFydHNbMF0uc3BsaXQoJ1wiJylbMV0ucmVwbGFjZSgnZmEgZmEtJywgJycpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBlbnRyeVBhcnRzWzBdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVudHJ5ID0gJzxwPicgKyBlbnRyeVBhcnRzLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5pZCA9IGlkO1xuICAgICAgICAgICAgICAgICRzY29wZS50aXRsZSA9IGRhdGEudGl0bGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhZ3MgPSB0YWdzLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAkKCd0ZXh0YXJlYS5yZWRhY3RvcicpLnJlZGFjdG9yKCdjb2RlLnNldCcsICRzY29wZS5lbnRyeSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHZhciBmcm9udEVuZENvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWwsIHBvc3RzU2VydmljZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgc2VsZi5lZGl0UG9zdCA9IGZ1bmN0aW9uICh0YWdzLCBpZCkge1xuICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwb3N0TW9kYWwuaHRtbCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bvc3RNb2RhbCcsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsbGVkQnk6ICdtb2RhbC10aXRsZScsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZEJ5OiAnbW9kYWwtYm9keScsXG4gICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWdzO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbHMgPSByZXN1bHRzLnBvc3REZXRhaWxzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlscykgeyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHNTZXJ2aWNlLnN0b3JlKGRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzbWlzc2VkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVuZGVyZWQudGhlbihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdyB0aGF0IGl0J3Mgb3BlbmVkIHJ1biByZWRhY3RvclxuICAgICAgICAgICAgICAgICAgICAkKCd0ZXh0YXJlYS5yZWRhY3RvcicpLnJlZGFjdG9yKF9yZWRhY3RvckNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc21pc3NlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2dldHJlYWx0JywgWydnZXRyZWFsdC5yZXN0JywgJ3VpLmJvb3RzdHJhcCddKVxuICAgICAgICAuZmFjdG9yeSgnZXZlbnRGYWN0b3J5JywgWyckcm9vdFNjb3BlJywgZXZlbnRGYWN0b3J5XSlcbiAgICAgICAgLnNlcnZpY2UoJ2xpc3RpbmdTZXJ2aWNlJywgWyckcScsICckaHR0cCcsICdyZXN0U2VydmljZScsIGxpc3RpbmdTZXJ2aWNlXSlcbiAgICAgICAgLnNlcnZpY2UoJ3Bvc3RzU2VydmljZScsIFsnJHEnLCAnJGh0dHAnLCAncmVzdFNlcnZpY2UnLCBwb3N0c1NlcnZpY2VdKVxuICAgICAgICAuY29udHJvbGxlcignc2VhcmNoV2lkZ2V0JywgWyckc2NvcGUnLCAnZXZlbnRGYWN0b3J5JywgJ2xpc3RpbmdTZXJ2aWNlJywgc2VhcmNoV2lkZ2V0XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2xpc3RpbmdzV2lkZ2V0JywgWyckc2NvcGUnLCAnZXZlbnRGYWN0b3J5JywgbGlzdGluZ3NXaWRnZXRdKVxuICAgICAgICAuY29udHJvbGxlcignbGlzdGluZ0RldGFpbHMnLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAnbGlzdGluZ1NlcnZpY2UnLCBsaXN0aW5nRGV0YWlsc10pXG4gICAgICAgIC5jb250cm9sbGVyKCdjb250YWN0QWdlbnRNb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3BhcmVudENvbnRyb2xsZXInLCBjb250YWN0QWdlbnRNb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdtZXNzYWdlQ29uZmlybWF0aW9uTW9kYWwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdtZXNzYWdlJywgbWVzc2FnZUNvbmZpcm1hdGlvbk1vZGFsXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ2ljb25Nb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgaWNvbk1vZGFsXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ3Bvc3RNb2RhbCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdwb3N0c1NlcnZpY2UnLCAndGFncycsICdpZCcsIHBvc3RNb2RhbF0pXG4gICAgICAgIC5jb250cm9sbGVyKCdmcm9udEVuZENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdWliTW9kYWwnLCAncG9zdHNTZXJ2aWNlJywgZnJvbnRFbmRDb250cm9sbGVyXSlcbiAgICAgICAgLmRpcmVjdGl2ZSgnbmdFbnRlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKFwia2V5ZG93biBrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoaWNoID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ0VudGVyLCB7ICdldmVudCc6IGV2ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG59KSgpO1xuXG5cbiJdfQ==
